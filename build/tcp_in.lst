ARM GAS  /tmp/ccCn7Yn1.s 			page 1


   1              		.cpu cortex-m7
   2              		.eabi_attribute 28, 1
   3              		.eabi_attribute 20, 1
   4              		.eabi_attribute 21, 1
   5              		.eabi_attribute 23, 3
   6              		.eabi_attribute 24, 1
   7              		.eabi_attribute 25, 1
   8              		.eabi_attribute 26, 1
   9              		.eabi_attribute 30, 1
  10              		.eabi_attribute 34, 1
  11              		.eabi_attribute 18, 4
  12              		.file	"tcp_in.c"
  13              		.text
  14              	.Ltext0:
  15              		.cfi_sections	.debug_frame
  16              		.section	.text.tcp_getoptbyte,"ax",%progbits
  17              		.align	1
  18              		.syntax unified
  19              		.thumb
  20              		.thumb_func
  21              		.fpu fpv5-d16
  23              	tcp_getoptbyte:
  24              	.LFB165:
  25              		.file 1 "Middlewares/Third_Party/LwIP/src/core/tcp_in.c"
   1:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** /**
   2:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * @file
   3:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * Transmission Control Protocol, incoming traffic
   4:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  *
   5:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * The input processing functions of the TCP layer.
   6:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  *
   7:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * These functions are generally called in the order (ip_input() ->)
   8:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * tcp_input() -> * tcp_process() -> tcp_receive() (-> application).
   9:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  *
  10:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  */
  11:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
  12:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** /*
  13:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * Copyright (c) 2001-2004 Swedish Institute of Computer Science.
  14:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * All rights reserved.
  15:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  *
  16:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * Redistribution and use in source and binary forms, with or without modification,
  17:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * are permitted provided that the following conditions are met:
  18:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  *
  19:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * 1. Redistributions of source code must retain the above copyright notice,
  20:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  *    this list of conditions and the following disclaimer.
  21:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * 2. Redistributions in binary form must reproduce the above copyright notice,
  22:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  *    this list of conditions and the following disclaimer in the documentation
  23:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  *    and/or other materials provided with the distribution.
  24:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * 3. The name of the author may not be used to endorse or promote products
  25:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  *    derived from this software without specific prior written permission.
  26:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  *
  27:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * THIS SOFTWARE IS PROVIDED BY THE AUTHOR ``AS IS'' AND ANY EXPRESS OR IMPLIED
  28:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
  29:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT
  30:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * SHALL THE AUTHOR BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  31:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT
  32:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
  33:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
ARM GAS  /tmp/ccCn7Yn1.s 			page 2


  34:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING
  35:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY
  36:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * OF SUCH DAMAGE.
  37:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  *
  38:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * This file is part of the lwIP TCP/IP stack.
  39:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  *
  40:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * Author: Adam Dunkels <adam@sics.se>
  41:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  *
  42:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  */
  43:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
  44:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #include "lwip/opt.h"
  45:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
  46:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #if LWIP_TCP /* don't build if not configured for use in lwipopts.h */
  47:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
  48:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #include "lwip/priv/tcp_priv.h"
  49:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #include "lwip/def.h"
  50:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #include "lwip/ip_addr.h"
  51:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #include "lwip/netif.h"
  52:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #include "lwip/mem.h"
  53:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #include "lwip/memp.h"
  54:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #include "lwip/inet_chksum.h"
  55:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #include "lwip/stats.h"
  56:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #include "lwip/ip6.h"
  57:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #include "lwip/ip6_addr.h"
  58:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #if LWIP_ND6_TCP_REACHABILITY_HINTS
  59:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #include "lwip/nd6.h"
  60:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #endif /* LWIP_ND6_TCP_REACHABILITY_HINTS */
  61:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
  62:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** /** Initial CWND calculation as defined RFC 2581 */
  63:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #define LWIP_TCP_CALC_INITIAL_CWND(mss) LWIP_MIN((4U * (mss)), LWIP_MAX((2U * (mss)), 4380U));
  64:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
  65:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** /* These variables are global to all functions involved in the input
  66:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****    processing of TCP segments. They are set by the tcp_input()
  67:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****    function. */
  68:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** static struct tcp_seg inseg;
  69:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** static struct tcp_hdr *tcphdr;
  70:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** static u16_t tcphdr_optlen;
  71:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** static u16_t tcphdr_opt1len;
  72:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** static u8_t* tcphdr_opt2;
  73:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** static u16_t tcp_optidx;
  74:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** static u32_t seqno, ackno;
  75:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** static tcpwnd_size_t recv_acked;
  76:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** static u16_t tcplen;
  77:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** static u8_t flags;
  78:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
  79:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** static u8_t recv_flags;
  80:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** static struct pbuf *recv_data;
  81:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
  82:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** struct tcp_pcb *tcp_input_pcb;
  83:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
  84:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** /* Forward declarations. */
  85:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** static err_t tcp_process(struct tcp_pcb *pcb);
  86:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** static void tcp_receive(struct tcp_pcb *pcb);
  87:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** static void tcp_parseopt(struct tcp_pcb *pcb);
  88:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
  89:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** static void tcp_listen_input(struct tcp_pcb_listen *pcb);
  90:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** static void tcp_timewait_input(struct tcp_pcb *pcb);
ARM GAS  /tmp/ccCn7Yn1.s 			page 3


  91:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
  92:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** static int tcp_input_delayed_close(struct tcp_pcb *pcb);
  93:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
  94:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** /**
  95:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * The initial input processing of TCP. It verifies the TCP header, demultiplexes
  96:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * the segment between the PCBs and passes it on to tcp_process(), which implements
  97:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * the TCP finite state machine. This function is called by the IP layer (in
  98:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * ip_input()).
  99:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  *
 100:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * @param p received TCP segment to process (p->payload pointing to the TCP header)
 101:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * @param inp network interface on which this segment was received
 102:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  */
 103:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** void
 104:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** tcp_input(struct pbuf *p, struct netif *inp)
 105:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** {
 106:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   struct tcp_pcb *pcb, *prev;
 107:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   struct tcp_pcb_listen *lpcb;
 108:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #if SO_REUSE
 109:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   struct tcp_pcb *lpcb_prev = NULL;
 110:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   struct tcp_pcb_listen *lpcb_any = NULL;
 111:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #endif /* SO_REUSE */
 112:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   u8_t hdrlen_bytes;
 113:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   err_t err;
 114:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 115:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   LWIP_UNUSED_ARG(inp);
 116:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 117:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   PERF_START;
 118:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 119:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   TCP_STATS_INC(tcp.recv);
 120:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   MIB2_STATS_INC(mib2.tcpinsegs);
 121:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 122:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   tcphdr = (struct tcp_hdr *)p->payload;
 123:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 124:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #if TCP_INPUT_DEBUG
 125:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   tcp_debug_print(tcphdr);
 126:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #endif
 127:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 128:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   /* Check that TCP header fits in payload */
 129:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   if (p->len < TCP_HLEN) {
 130:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* drop short packets */
 131:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     LWIP_DEBUGF(TCP_INPUT_DEBUG, ("tcp_input: short packet (%"U16_F" bytes) discarded\n", p->tot_le
 132:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     TCP_STATS_INC(tcp.lenerr);
 133:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     goto dropped;
 134:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   }
 135:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 136:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   /* Don't even process incoming broadcasts/multicasts. */
 137:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   if (ip_addr_isbroadcast(ip_current_dest_addr(), ip_current_netif()) ||
 138:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       ip_addr_ismulticast(ip_current_dest_addr())) {
 139:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     TCP_STATS_INC(tcp.proterr);
 140:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     goto dropped;
 141:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   }
 142:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 143:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #if CHECKSUM_CHECK_TCP
 144:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   IF__NETIF_CHECKSUM_ENABLED(inp, NETIF_CHECKSUM_CHECK_TCP) {
 145:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* Verify TCP checksum. */
 146:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     u16_t chksum = ip_chksum_pseudo(p, IP_PROTO_TCP, p->tot_len,
 147:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                                ip_current_src_addr(), ip_current_dest_addr());
ARM GAS  /tmp/ccCn7Yn1.s 			page 4


 148:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     if (chksum != 0) {
 149:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         LWIP_DEBUGF(TCP_INPUT_DEBUG, ("tcp_input: packet discarded due to failing checksum 0x%04"X1
 150:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           chksum));
 151:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       tcp_debug_print(tcphdr);
 152:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       TCP_STATS_INC(tcp.chkerr);
 153:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       goto dropped;
 154:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
 155:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   }
 156:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #endif /* CHECKSUM_CHECK_TCP */
 157:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 158:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   /* sanity-check header length */
 159:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   hdrlen_bytes = TCPH_HDRLEN(tcphdr) * 4;
 160:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   if ((hdrlen_bytes < TCP_HLEN) || (hdrlen_bytes > p->tot_len)) {
 161:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     LWIP_DEBUGF(TCP_INPUT_DEBUG, ("tcp_input: invalid header length (%"U16_F")\n", (u16_t)hdrlen_by
 162:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     TCP_STATS_INC(tcp.lenerr);
 163:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     goto dropped;
 164:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   }
 165:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 166:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   /* Move the payload pointer in the pbuf so that it points to the
 167:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****      TCP data instead of the TCP header. */
 168:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   tcphdr_optlen = hdrlen_bytes - TCP_HLEN;
 169:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   tcphdr_opt2 = NULL;
 170:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   if (p->len >= hdrlen_bytes) {
 171:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* all options are in the first pbuf */
 172:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     tcphdr_opt1len = tcphdr_optlen;
 173:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     pbuf_header(p, -(s16_t)hdrlen_bytes); /* cannot fail */
 174:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   } else {
 175:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     u16_t opt2len;
 176:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* TCP header fits into first pbuf, options don't - data is in the next pbuf */
 177:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* there must be a next pbuf, due to hdrlen_bytes sanity check above */
 178:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     LWIP_ASSERT("p->next != NULL", p->next != NULL);
 179:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 180:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* advance over the TCP header (cannot fail) */
 181:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     pbuf_header(p, -TCP_HLEN);
 182:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 183:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* determine how long the first and second parts of the options are */
 184:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     tcphdr_opt1len = p->len;
 185:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     opt2len = tcphdr_optlen - tcphdr_opt1len;
 186:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 187:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* options continue in the next pbuf: set p to zero length and hide the
 188:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         options in the next pbuf (adjusting p->tot_len) */
 189:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     pbuf_header(p, -(s16_t)tcphdr_opt1len);
 190:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 191:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* check that the options fit in the second pbuf */
 192:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     if (opt2len > p->next->len) {
 193:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* drop short packets */
 194:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       LWIP_DEBUGF(TCP_INPUT_DEBUG, ("tcp_input: options overflow second pbuf (%"U16_F" bytes)\n", p
 195:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       TCP_STATS_INC(tcp.lenerr);
 196:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       goto dropped;
 197:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
 198:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 199:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* remember the pointer to the second part of the options */
 200:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     tcphdr_opt2 = (u8_t*)p->next->payload;
 201:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 202:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* advance p->next to point after the options, and manually
 203:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         adjust p->tot_len to keep it consistent with the changed p->next */
 204:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     pbuf_header(p->next, -(s16_t)opt2len);
ARM GAS  /tmp/ccCn7Yn1.s 			page 5


 205:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     p->tot_len -= opt2len;
 206:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 207:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     LWIP_ASSERT("p->len == 0", p->len == 0);
 208:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     LWIP_ASSERT("p->tot_len == p->next->tot_len", p->tot_len == p->next->tot_len);
 209:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   }
 210:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 211:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   /* Convert fields in TCP header to host byte order. */
 212:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   tcphdr->src = lwip_ntohs(tcphdr->src);
 213:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   tcphdr->dest = lwip_ntohs(tcphdr->dest);
 214:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   seqno = tcphdr->seqno = lwip_ntohl(tcphdr->seqno);
 215:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   ackno = tcphdr->ackno = lwip_ntohl(tcphdr->ackno);
 216:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   tcphdr->wnd = lwip_ntohs(tcphdr->wnd);
 217:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 218:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   flags = TCPH_FLAGS(tcphdr);
 219:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   tcplen = p->tot_len + ((flags & (TCP_FIN | TCP_SYN)) ? 1 : 0);
 220:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 221:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   /* Demultiplex an incoming segment. First, we check if it is destined
 222:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****      for an active connection. */
 223:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   prev = NULL;
 224:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 225:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   for (pcb = tcp_active_pcbs; pcb != NULL; pcb = pcb->next) {
 226:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     LWIP_ASSERT("tcp_input: active pcb->state != CLOSED", pcb->state != CLOSED);
 227:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     LWIP_ASSERT("tcp_input: active pcb->state != TIME-WAIT", pcb->state != TIME_WAIT);
 228:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     LWIP_ASSERT("tcp_input: active pcb->state != LISTEN", pcb->state != LISTEN);
 229:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     if (pcb->remote_port == tcphdr->src &&
 230:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pcb->local_port == tcphdr->dest &&
 231:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         ip_addr_cmp(&pcb->remote_ip, ip_current_src_addr()) &&
 232:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         ip_addr_cmp(&pcb->local_ip, ip_current_dest_addr())) {
 233:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* Move this PCB to the front of the list so that subsequent
 234:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****          lookups will be faster (we exploit locality in TCP segment
 235:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****          arrivals). */
 236:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       LWIP_ASSERT("tcp_input: pcb->next != pcb (before cache)", pcb->next != pcb);
 237:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       if (prev != NULL) {
 238:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         prev->next = pcb->next;
 239:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pcb->next = tcp_active_pcbs;
 240:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         tcp_active_pcbs = pcb;
 241:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       } else {
 242:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         TCP_STATS_INC(tcp.cachehit);
 243:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       }
 244:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       LWIP_ASSERT("tcp_input: pcb->next != pcb (after cache)", pcb->next != pcb);
 245:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       break;
 246:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
 247:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     prev = pcb;
 248:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   }
 249:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 250:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   if (pcb == NULL) {
 251:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* If it did not go to an active connection, we check the connections
 252:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****        in the TIME-WAIT state. */
 253:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     for (pcb = tcp_tw_pcbs; pcb != NULL; pcb = pcb->next) {
 254:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       LWIP_ASSERT("tcp_input: TIME-WAIT pcb->state == TIME-WAIT", pcb->state == TIME_WAIT);
 255:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       if (pcb->remote_port == tcphdr->src &&
 256:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           pcb->local_port == tcphdr->dest &&
 257:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           ip_addr_cmp(&pcb->remote_ip, ip_current_src_addr()) &&
 258:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           ip_addr_cmp(&pcb->local_ip, ip_current_dest_addr())) {
 259:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         /* We don't really care enough to move this PCB to the front
 260:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****            of the list since we are not very likely to receive that
 261:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****            many segments for connections in TIME-WAIT. */
ARM GAS  /tmp/ccCn7Yn1.s 			page 6


 262:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         LWIP_DEBUGF(TCP_INPUT_DEBUG, ("tcp_input: packed for TIME_WAITing connection.\n"));
 263:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         tcp_timewait_input(pcb);
 264:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pbuf_free(p);
 265:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         return;
 266:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       }
 267:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
 268:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 269:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* Finally, if we still did not get a match, we check all PCBs that
 270:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****        are LISTENing for incoming connections. */
 271:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     prev = NULL;
 272:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     for (lpcb = tcp_listen_pcbs.listen_pcbs; lpcb != NULL; lpcb = lpcb->next) {
 273:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       if (lpcb->local_port == tcphdr->dest) {
 274:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         if (IP_IS_ANY_TYPE_VAL(lpcb->local_ip)) {
 275:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           /* found an ANY TYPE (IPv4/IPv6) match */
 276:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #if SO_REUSE
 277:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           lpcb_any = lpcb;
 278:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           lpcb_prev = prev;
 279:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #else /* SO_REUSE */
 280:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           break;
 281:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #endif /* SO_REUSE */
 282:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         } else if (IP_ADDR_PCB_VERSION_MATCH_EXACT(lpcb, ip_current_dest_addr())) {
 283:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           if (ip_addr_cmp(&lpcb->local_ip, ip_current_dest_addr())) {
 284:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             /* found an exact match */
 285:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             break;
 286:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           } else if (ip_addr_isany(&lpcb->local_ip)) {
 287:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             /* found an ANY-match */
 288:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #if SO_REUSE
 289:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             lpcb_any = lpcb;
 290:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             lpcb_prev = prev;
 291:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #else /* SO_REUSE */
 292:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             break;
 293:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  #endif /* SO_REUSE */
 294:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           }
 295:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         }
 296:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       }
 297:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       prev = (struct tcp_pcb *)lpcb;
 298:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
 299:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #if SO_REUSE
 300:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* first try specific local IP */
 301:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     if (lpcb == NULL) {
 302:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* only pass to ANY if no specific local IP has been found */
 303:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       lpcb = lpcb_any;
 304:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       prev = lpcb_prev;
 305:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
 306:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #endif /* SO_REUSE */
 307:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     if (lpcb != NULL) {
 308:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* Move this PCB to the front of the list so that subsequent
 309:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****          lookups will be faster (we exploit locality in TCP segment
 310:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****          arrivals). */
 311:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       if (prev != NULL) {
 312:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         ((struct tcp_pcb_listen *)prev)->next = lpcb->next;
 313:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               /* our successor is the remainder of the listening list */
 314:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         lpcb->next = tcp_listen_pcbs.listen_pcbs;
 315:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               /* put this listening pcb at the head of the listening list */
 316:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         tcp_listen_pcbs.listen_pcbs = lpcb;
 317:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       } else {
 318:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         TCP_STATS_INC(tcp.cachehit);
ARM GAS  /tmp/ccCn7Yn1.s 			page 7


 319:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       }
 320:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 321:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       LWIP_DEBUGF(TCP_INPUT_DEBUG, ("tcp_input: packed for LISTENing connection.\n"));
 322:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       tcp_listen_input(lpcb);
 323:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       pbuf_free(p);
 324:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       return;
 325:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
 326:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   }
 327:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 328:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #if TCP_INPUT_DEBUG
 329:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   LWIP_DEBUGF(TCP_INPUT_DEBUG, ("+-+-+-+-+-+-+-+-+-+-+-+-+-+- tcp_input: flags "));
 330:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   tcp_debug_print_flags(TCPH_FLAGS(tcphdr));
 331:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   LWIP_DEBUGF(TCP_INPUT_DEBUG, ("-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n"));
 332:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #endif /* TCP_INPUT_DEBUG */
 333:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 334:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 335:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   if (pcb != NULL) {
 336:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* The incoming segment belongs to a connection. */
 337:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #if TCP_INPUT_DEBUG
 338:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     tcp_debug_print_state(pcb->state);
 339:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #endif /* TCP_INPUT_DEBUG */
 340:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 341:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* Set up a tcp_seg structure. */
 342:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     inseg.next = NULL;
 343:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     inseg.len = p->tot_len;
 344:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     inseg.p = p;
 345:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     inseg.tcphdr = tcphdr;
 346:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 347:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     recv_data = NULL;
 348:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     recv_flags = 0;
 349:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     recv_acked = 0;
 350:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 351:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     if (flags & TCP_PSH) {
 352:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       p->flags |= PBUF_FLAG_PUSH;
 353:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
 354:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 355:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* If there is data which was previously "refused" by upper layer */
 356:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     if (pcb->refused_data != NULL) {
 357:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       if ((tcp_process_refused_data(pcb) == ERR_ABRT) ||
 358:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         ((pcb->refused_data != NULL) && (tcplen > 0))) {
 359:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         /* pcb has been aborted or refused data is still refused and the new
 360:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****            segment contains data */
 361:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         if (pcb->rcv_ann_wnd == 0) {
 362:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           /* this is a zero-window probe, we respond to it with current RCV.NXT
 363:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           and drop the data segment */
 364:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           tcp_send_empty_ack(pcb);
 365:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         }
 366:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         TCP_STATS_INC(tcp.drop);
 367:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         MIB2_STATS_INC(mib2.tcpinerrs);
 368:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         goto aborted;
 369:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       }
 370:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
 371:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     tcp_input_pcb = pcb;
 372:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     err = tcp_process(pcb);
 373:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* A return value of ERR_ABRT means that tcp_abort() was called
 374:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****        and that the pcb has been freed. If so, we don't do anything. */
 375:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     if (err != ERR_ABRT) {
ARM GAS  /tmp/ccCn7Yn1.s 			page 8


 376:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       if (recv_flags & TF_RESET) {
 377:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         /* TF_RESET means that the connection was reset by the other
 378:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****            end. We then call the error callback to inform the
 379:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****            application that the connection is dead before we
 380:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****            deallocate the PCB. */
 381:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         TCP_EVENT_ERR(pcb->state, pcb->errf, pcb->callback_arg, ERR_RST);
 382:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         tcp_pcb_remove(&tcp_active_pcbs, pcb);
 383:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         memp_free(MEMP_TCP_PCB, pcb);
 384:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       } else {
 385:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         err = ERR_OK;
 386:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         /* If the application has registered a "sent" function to be
 387:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****            called when new send buffer space is available, we call it
 388:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****            now. */
 389:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         if (recv_acked > 0) {
 390:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           u16_t acked16;
 391:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #if LWIP_WND_SCALE
 392:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           /* recv_acked is u32_t but the sent callback only takes a u16_t,
 393:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****              so we might have to call it multiple times. */
 394:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           u32_t acked = recv_acked;
 395:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           while (acked > 0) {
 396:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             acked16 = (u16_t)LWIP_MIN(acked, 0xffffu);
 397:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             acked -= acked16;
 398:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #else
 399:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           {
 400:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             acked16 = recv_acked;
 401:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #endif
 402:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             TCP_EVENT_SENT(pcb, (u16_t)acked16, err);
 403:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             if (err == ERR_ABRT) {
 404:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               goto aborted;
 405:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             }
 406:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           }
 407:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           recv_acked = 0;
 408:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         }
 409:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         if (tcp_input_delayed_close(pcb)) {
 410:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           goto aborted;
 411:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         }
 412:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #if TCP_QUEUE_OOSEQ && LWIP_WND_SCALE
 413:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         while (recv_data != NULL) {
 414:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           struct pbuf *rest = NULL;
 415:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           pbuf_split_64k(recv_data, &rest);
 416:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #else /* TCP_QUEUE_OOSEQ && LWIP_WND_SCALE */
 417:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         if (recv_data != NULL) {
 418:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #endif /* TCP_QUEUE_OOSEQ && LWIP_WND_SCALE */
 419:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 420:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           LWIP_ASSERT("pcb->refused_data == NULL", pcb->refused_data == NULL);
 421:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           if (pcb->flags & TF_RXCLOSED) {
 422:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             /* received data although already closed -> abort (send RST) to
 423:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                notify the remote host that not all data has been processed */
 424:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             pbuf_free(recv_data);
 425:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #if TCP_QUEUE_OOSEQ && LWIP_WND_SCALE
 426:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             if (rest != NULL) {
 427:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               pbuf_free(rest);
 428:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             }
 429:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #endif /* TCP_QUEUE_OOSEQ && LWIP_WND_SCALE */
 430:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             tcp_abort(pcb);
 431:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             goto aborted;
 432:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           }
ARM GAS  /tmp/ccCn7Yn1.s 			page 9


 433:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 434:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           /* Notify application that data has been received. */
 435:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           TCP_EVENT_RECV(pcb, recv_data, ERR_OK, err);
 436:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           if (err == ERR_ABRT) {
 437:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #if TCP_QUEUE_OOSEQ && LWIP_WND_SCALE
 438:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             if (rest != NULL) {
 439:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               pbuf_free(rest);
 440:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             }
 441:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #endif /* TCP_QUEUE_OOSEQ && LWIP_WND_SCALE */
 442:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             goto aborted;
 443:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           }
 444:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 445:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           /* If the upper layer can't receive this data, store it */
 446:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           if (err != ERR_OK) {
 447:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #if TCP_QUEUE_OOSEQ && LWIP_WND_SCALE
 448:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             if (rest != NULL) {
 449:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               pbuf_cat(recv_data, rest);
 450:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             }
 451:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #endif /* TCP_QUEUE_OOSEQ && LWIP_WND_SCALE */
 452:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             pcb->refused_data = recv_data;
 453:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             LWIP_DEBUGF(TCP_INPUT_DEBUG, ("tcp_input: keep incoming packet, because pcb is \"full\"
 454:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #if TCP_QUEUE_OOSEQ && LWIP_WND_SCALE
 455:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             break;
 456:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           } else {
 457:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             /* Upper layer received the data, go on with the rest if > 64K */
 458:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             recv_data = rest;
 459:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #endif /* TCP_QUEUE_OOSEQ && LWIP_WND_SCALE */
 460:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           }
 461:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         }
 462:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 463:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         /* If a FIN segment was received, we call the callback
 464:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****            function with a NULL buffer to indicate EOF. */
 465:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         if (recv_flags & TF_GOT_FIN) {
 466:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           if (pcb->refused_data != NULL) {
 467:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             /* Delay this if we have refused data. */
 468:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             pcb->refused_data->flags |= PBUF_FLAG_TCP_FIN;
 469:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           } else {
 470:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             /* correct rcv_wnd as the application won't call tcp_recved()
 471:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                for the FIN's seqno */
 472:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             if (pcb->rcv_wnd != TCP_WND_MAX(pcb)) {
 473:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               pcb->rcv_wnd++;
 474:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             }
 475:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             TCP_EVENT_CLOSED(pcb, err);
 476:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             if (err == ERR_ABRT) {
 477:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               goto aborted;
 478:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             }
 479:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           }
 480:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         }
 481:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 482:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         tcp_input_pcb = NULL;
 483:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         if (tcp_input_delayed_close(pcb)) {
 484:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           goto aborted;
 485:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         }
 486:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         /* Try to send something out. */
 487:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         tcp_output(pcb);
 488:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #if TCP_INPUT_DEBUG
 489:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #if TCP_DEBUG
ARM GAS  /tmp/ccCn7Yn1.s 			page 10


 490:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         tcp_debug_print_state(pcb->state);
 491:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #endif /* TCP_DEBUG */
 492:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #endif /* TCP_INPUT_DEBUG */
 493:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       }
 494:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
 495:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* Jump target if pcb has been aborted in a callback (by calling tcp_abort()).
 496:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****        Below this line, 'pcb' may not be dereferenced! */
 497:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** aborted:
 498:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     tcp_input_pcb = NULL;
 499:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     recv_data = NULL;
 500:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 501:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* give up our reference to inseg.p */
 502:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     if (inseg.p != NULL)
 503:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     {
 504:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       pbuf_free(inseg.p);
 505:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       inseg.p = NULL;
 506:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
 507:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   } else {
 508:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 509:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* If no matching PCB was found, send a TCP RST (reset) to the
 510:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****        sender. */
 511:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     LWIP_DEBUGF(TCP_RST_DEBUG, ("tcp_input: no PCB match found, resetting.\n"));
 512:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     if (!(TCPH_FLAGS(tcphdr) & TCP_RST)) {
 513:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       TCP_STATS_INC(tcp.proterr);
 514:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       TCP_STATS_INC(tcp.drop);
 515:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       tcp_rst(ackno, seqno + tcplen, ip_current_dest_addr(),
 516:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         ip_current_src_addr(), tcphdr->dest, tcphdr->src);
 517:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
 518:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     pbuf_free(p);
 519:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   }
 520:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 521:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   LWIP_ASSERT("tcp_input: tcp_pcbs_sane()", tcp_pcbs_sane());
 522:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   PERF_STOP("tcp_input");
 523:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   return;
 524:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** dropped:
 525:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   TCP_STATS_INC(tcp.drop);
 526:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   MIB2_STATS_INC(mib2.tcpinerrs);
 527:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   pbuf_free(p);
 528:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** }
 529:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 530:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** /** Called from tcp_input to check for TF_CLOSED flag. This results in closing
 531:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * and deallocating a pcb at the correct place to ensure noone references it
 532:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * any more.
 533:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * @returns 1 if the pcb has been closed and deallocated, 0 otherwise
 534:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  */
 535:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** static int
 536:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** tcp_input_delayed_close(struct tcp_pcb *pcb)
 537:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** {
 538:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   if (recv_flags & TF_CLOSED) {
 539:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* The connection has been closed and we will deallocate the
 540:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         PCB. */
 541:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     if (!(pcb->flags & TF_RXCLOSED)) {
 542:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* Connection closed although the application has only shut down the
 543:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           tx side: call the PCB's err callback and indicate the closure to
 544:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           ensure the application doesn't continue using the PCB. */
 545:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       TCP_EVENT_ERR(pcb->state, pcb->errf, pcb->callback_arg, ERR_CLSD);
 546:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
ARM GAS  /tmp/ccCn7Yn1.s 			page 11


 547:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     tcp_pcb_remove(&tcp_active_pcbs, pcb);
 548:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     memp_free(MEMP_TCP_PCB, pcb);
 549:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     return 1;
 550:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   }
 551:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   return 0;
 552:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** }
 553:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 554:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** /**
 555:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * Called by tcp_input() when a segment arrives for a listening
 556:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * connection (from tcp_input()).
 557:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  *
 558:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * @param pcb the tcp_pcb_listen for which a segment arrived
 559:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  *
 560:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * @note the segment which arrived is saved in global variables, therefore only the pcb
 561:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  *       involved is passed as a parameter to this function
 562:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  */
 563:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** static void
 564:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** tcp_listen_input(struct tcp_pcb_listen *pcb)
 565:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** {
 566:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   struct tcp_pcb *npcb;
 567:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   u32_t iss;
 568:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   err_t rc;
 569:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 570:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   if (flags & TCP_RST) {
 571:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* An incoming RST should be ignored. Return. */
 572:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     return;
 573:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   }
 574:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 575:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   /* In the LISTEN state, we check for incoming SYN segments,
 576:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****      creates a new PCB, and responds with a SYN|ACK. */
 577:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   if (flags & TCP_ACK) {
 578:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* For incoming segments with the ACK flag set, respond with a
 579:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****        RST. */
 580:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     LWIP_DEBUGF(TCP_RST_DEBUG, ("tcp_listen_input: ACK in LISTEN, sending reset\n"));
 581:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     tcp_rst(ackno, seqno + tcplen, ip_current_dest_addr(),
 582:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       ip_current_src_addr(), tcphdr->dest, tcphdr->src);
 583:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   } else if (flags & TCP_SYN) {
 584:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     LWIP_DEBUGF(TCP_DEBUG, ("TCP connection request %"U16_F" -> %"U16_F".\n", tcphdr->src, tcphdr->
 585:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #if TCP_LISTEN_BACKLOG
 586:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     if (pcb->accepts_pending >= pcb->backlog) {
 587:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       LWIP_DEBUGF(TCP_DEBUG, ("tcp_listen_input: listen backlog exceeded for port %"U16_F"\n", tcph
 588:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       return;
 589:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
 590:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #endif /* TCP_LISTEN_BACKLOG */
 591:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     npcb = tcp_alloc(pcb->prio);
 592:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* If a new PCB could not be created (probably due to lack of memory),
 593:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****        we don't do anything, but rely on the sender will retransmit the
 594:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****        SYN at a time when we have more memory available. */
 595:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     if (npcb == NULL) {
 596:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       err_t err;
 597:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       LWIP_DEBUGF(TCP_DEBUG, ("tcp_listen_input: could not allocate PCB\n"));
 598:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       TCP_STATS_INC(tcp.memerr);
 599:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       TCP_EVENT_ACCEPT(pcb, NULL, pcb->callback_arg, ERR_MEM, err);
 600:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       LWIP_UNUSED_ARG(err); /* err not useful here */
 601:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       return;
 602:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
 603:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #if TCP_LISTEN_BACKLOG
ARM GAS  /tmp/ccCn7Yn1.s 			page 12


 604:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     pcb->accepts_pending++;
 605:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     npcb->flags |= TF_BACKLOGPEND;
 606:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #endif /* TCP_LISTEN_BACKLOG */
 607:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* Set up the new PCB. */
 608:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     ip_addr_copy(npcb->local_ip, *ip_current_dest_addr());
 609:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     ip_addr_copy(npcb->remote_ip, *ip_current_src_addr());
 610:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     npcb->local_port = pcb->local_port;
 611:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     npcb->remote_port = tcphdr->src;
 612:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     npcb->state = SYN_RCVD;
 613:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     npcb->rcv_nxt = seqno + 1;
 614:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     npcb->rcv_ann_right_edge = npcb->rcv_nxt;
 615:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     iss = tcp_next_iss(npcb);
 616:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     npcb->snd_wl2 = iss;
 617:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     npcb->snd_nxt = iss;
 618:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     npcb->lastack = iss;
 619:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     npcb->snd_lbb = iss;
 620:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     npcb->snd_wl1 = seqno - 1;/* initialise to seqno-1 to force window update */
 621:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     npcb->callback_arg = pcb->callback_arg;
 622:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #if LWIP_CALLBACK_API || TCP_LISTEN_BACKLOG
 623:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     npcb->listener = pcb;
 624:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #endif /* LWIP_CALLBACK_API || TCP_LISTEN_BACKLOG */
 625:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* inherit socket options */
 626:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     npcb->so_options = pcb->so_options & SOF_INHERITED;
 627:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* Register the new PCB so that we can begin receiving segments
 628:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****        for it. */
 629:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     TCP_REG_ACTIVE(npcb);
 630:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 631:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* Parse any options in the SYN. */
 632:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     tcp_parseopt(npcb);
 633:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     npcb->snd_wnd = tcphdr->wnd;
 634:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     npcb->snd_wnd_max = npcb->snd_wnd;
 635:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 636:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #if TCP_CALCULATE_EFF_SEND_MSS
 637:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     npcb->mss = tcp_eff_send_mss(npcb->mss, &npcb->local_ip, &npcb->remote_ip);
 638:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #endif /* TCP_CALCULATE_EFF_SEND_MSS */
 639:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 640:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     MIB2_STATS_INC(mib2.tcppassiveopens);
 641:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 642:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* Send a SYN|ACK together with the MSS option. */
 643:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     rc = tcp_enqueue_flags(npcb, TCP_SYN | TCP_ACK);
 644:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     if (rc != ERR_OK) {
 645:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       tcp_abandon(npcb, 0);
 646:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       return;
 647:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
 648:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     tcp_output(npcb);
 649:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   }
 650:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   return;
 651:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** }
 652:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 653:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** /**
 654:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * Called by tcp_input() when a segment arrives for a connection in
 655:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * TIME_WAIT.
 656:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  *
 657:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * @param pcb the tcp_pcb for which a segment arrived
 658:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  *
 659:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * @note the segment which arrived is saved in global variables, therefore only the pcb
 660:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  *       involved is passed as a parameter to this function
ARM GAS  /tmp/ccCn7Yn1.s 			page 13


 661:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  */
 662:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** static void
 663:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** tcp_timewait_input(struct tcp_pcb *pcb)
 664:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** {
 665:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   /* RFC 1337: in TIME_WAIT, ignore RST and ACK FINs + any 'acceptable' segments */
 666:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   /* RFC 793 3.9 Event Processing - Segment Arrives:
 667:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****    * - first check sequence number - we skip that one in TIME_WAIT (always
 668:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****    *   acceptable since we only send ACKs)
 669:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****    * - second check the RST bit (... return) */
 670:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   if (flags & TCP_RST) {
 671:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     return;
 672:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   }
 673:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   /* - fourth, check the SYN bit, */
 674:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   if (flags & TCP_SYN) {
 675:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* If an incoming segment is not acceptable, an acknowledgment
 676:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****        should be sent in reply */
 677:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     if (TCP_SEQ_BETWEEN(seqno, pcb->rcv_nxt, pcb->rcv_nxt + pcb->rcv_wnd)) {
 678:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* If the SYN is in the window it is an error, send a reset */
 679:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       tcp_rst(ackno, seqno + tcplen, ip_current_dest_addr(),
 680:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         ip_current_src_addr(), tcphdr->dest, tcphdr->src);
 681:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       return;
 682:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
 683:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   } else if (flags & TCP_FIN) {
 684:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* - eighth, check the FIN bit: Remain in the TIME-WAIT state.
 685:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****          Restart the 2 MSL time-wait timeout.*/
 686:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     pcb->tmr = tcp_ticks;
 687:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   }
 688:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 689:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   if ((tcplen > 0)) {
 690:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* Acknowledge data, FIN or out-of-window SYN */
 691:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     pcb->flags |= TF_ACK_NOW;
 692:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     tcp_output(pcb);
 693:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   }
 694:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   return;
 695:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** }
 696:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 697:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** /**
 698:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * Implements the TCP state machine. Called by tcp_input. In some
 699:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * states tcp_receive() is called to receive data. The tcp_seg
 700:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * argument will be freed by the caller (tcp_input()) unless the
 701:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * recv_data pointer in the pcb is set.
 702:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  *
 703:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * @param pcb the tcp_pcb for which a segment arrived
 704:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  *
 705:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * @note the segment which arrived is saved in global variables, therefore only the pcb
 706:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  *       involved is passed as a parameter to this function
 707:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  */
 708:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** static err_t
 709:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** tcp_process(struct tcp_pcb *pcb)
 710:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** {
 711:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   struct tcp_seg *rseg;
 712:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   u8_t acceptable = 0;
 713:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   err_t err;
 714:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 715:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   err = ERR_OK;
 716:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 717:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   /* Process incoming RST segments. */
ARM GAS  /tmp/ccCn7Yn1.s 			page 14


 718:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   if (flags & TCP_RST) {
 719:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* First, determine if the reset is acceptable. */
 720:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     if (pcb->state == SYN_SENT) {
 721:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* "In the SYN-SENT state (a RST received in response to an initial SYN),
 722:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           the RST is acceptable if the ACK field acknowledges the SYN." */
 723:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       if (ackno == pcb->snd_nxt) {
 724:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         acceptable = 1;
 725:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       }
 726:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     } else {
 727:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* "In all states except SYN-SENT, all reset (RST) segments are validated
 728:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           by checking their SEQ-fields." */
 729:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       if (seqno == pcb->rcv_nxt) {
 730:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         acceptable = 1;
 731:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       } else  if (TCP_SEQ_BETWEEN(seqno, pcb->rcv_nxt,
 732:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                                   pcb->rcv_nxt + pcb->rcv_wnd)) {
 733:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         /* If the sequence number is inside the window, we only send an ACK
 734:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****            and wait for a re-send with matching sequence number.
 735:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****            This violates RFC 793, but is required to protection against
 736:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****            CVE-2004-0230 (RST spoofing attack). */
 737:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         tcp_ack_now(pcb);
 738:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       }
 739:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
 740:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 741:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     if (acceptable) {
 742:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       LWIP_DEBUGF(TCP_INPUT_DEBUG, ("tcp_process: Connection RESET\n"));
 743:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       LWIP_ASSERT("tcp_input: pcb->state != CLOSED", pcb->state != CLOSED);
 744:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       recv_flags |= TF_RESET;
 745:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       pcb->flags &= ~TF_ACK_DELAY;
 746:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       return ERR_RST;
 747:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     } else {
 748:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       LWIP_DEBUGF(TCP_INPUT_DEBUG, ("tcp_process: unacceptable reset seqno %"U32_F" rcv_nxt %"U32_F
 749:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****        seqno, pcb->rcv_nxt));
 750:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       LWIP_DEBUGF(TCP_DEBUG, ("tcp_process: unacceptable reset seqno %"U32_F" rcv_nxt %"U32_F"\n",
 751:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****        seqno, pcb->rcv_nxt));
 752:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       return ERR_OK;
 753:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
 754:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   }
 755:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 756:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   if ((flags & TCP_SYN) && (pcb->state != SYN_SENT && pcb->state != SYN_RCVD)) {
 757:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* Cope with new connection attempt after remote end crashed */
 758:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     tcp_ack_now(pcb);
 759:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     return ERR_OK;
 760:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   }
 761:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 762:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   if ((pcb->flags & TF_RXCLOSED) == 0) {
 763:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* Update the PCB (in)activity timer unless rx is closed (see tcp_shutdown) */
 764:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     pcb->tmr = tcp_ticks;
 765:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   }
 766:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   pcb->keep_cnt_sent = 0;
 767:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 768:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   tcp_parseopt(pcb);
 769:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 770:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   /* Do different things depending on the TCP state. */
 771:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   switch (pcb->state) {
 772:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   case SYN_SENT:
 773:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     LWIP_DEBUGF(TCP_INPUT_DEBUG, ("SYN-SENT: ackno %"U32_F" pcb->snd_nxt %"U32_F" unacked %"U32_F"\
 774:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****      pcb->snd_nxt, lwip_ntohl(pcb->unacked->tcphdr->seqno)));
ARM GAS  /tmp/ccCn7Yn1.s 			page 15


 775:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* received SYN ACK with expected sequence number? */
 776:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     if ((flags & TCP_ACK) && (flags & TCP_SYN)
 777:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         && (ackno == pcb->lastack + 1)) {
 778:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       pcb->rcv_nxt = seqno + 1;
 779:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       pcb->rcv_ann_right_edge = pcb->rcv_nxt;
 780:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       pcb->lastack = ackno;
 781:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       pcb->snd_wnd = tcphdr->wnd;
 782:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       pcb->snd_wnd_max = pcb->snd_wnd;
 783:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       pcb->snd_wl1 = seqno - 1; /* initialise to seqno - 1 to force window update */
 784:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       pcb->state = ESTABLISHED;
 785:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 786:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #if TCP_CALCULATE_EFF_SEND_MSS
 787:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       pcb->mss = tcp_eff_send_mss(pcb->mss, &pcb->local_ip, &pcb->remote_ip);
 788:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #endif /* TCP_CALCULATE_EFF_SEND_MSS */
 789:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 790:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       pcb->cwnd = LWIP_TCP_CALC_INITIAL_CWND(pcb->mss);
 791:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       LWIP_DEBUGF(TCP_CWND_DEBUG, ("tcp_process (SENT): cwnd %"TCPWNDSIZE_F
 792:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                                    " ssthresh %"TCPWNDSIZE_F"\n",
 793:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                                    pcb->cwnd, pcb->ssthresh));
 794:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       LWIP_ASSERT("pcb->snd_queuelen > 0", (pcb->snd_queuelen > 0));
 795:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       --pcb->snd_queuelen;
 796:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       LWIP_DEBUGF(TCP_QLEN_DEBUG, ("tcp_process: SYN-SENT --queuelen %"TCPWNDSIZE_F"\n", (tcpwnd_si
 797:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       rseg = pcb->unacked;
 798:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       if (rseg == NULL) {
 799:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         /* might happen if tcp_output fails in tcp_rexmit_rto()
 800:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****            in which case the segment is on the unsent list */
 801:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         rseg = pcb->unsent;
 802:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         LWIP_ASSERT("no segment to free", rseg != NULL);
 803:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pcb->unsent = rseg->next;
 804:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       } else {
 805:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pcb->unacked = rseg->next;
 806:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       }
 807:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       tcp_seg_free(rseg);
 808:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 809:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* If there's nothing left to acknowledge, stop the retransmit
 810:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****          timer, otherwise reset it to start again */
 811:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       if (pcb->unacked == NULL) {
 812:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pcb->rtime = -1;
 813:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       } else {
 814:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pcb->rtime = 0;
 815:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pcb->nrtx = 0;
 816:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       }
 817:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 818:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* Call the user specified function to call when successfully
 819:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****        * connected. */
 820:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       TCP_EVENT_CONNECTED(pcb, ERR_OK, err);
 821:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       if (err == ERR_ABRT) {
 822:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         return ERR_ABRT;
 823:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       }
 824:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       tcp_ack_now(pcb);
 825:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
 826:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* received ACK? possibly a half-open connection */
 827:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     else if (flags & TCP_ACK) {
 828:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* send a RST to bring the other side in a non-synchronized state. */
 829:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       tcp_rst(ackno, seqno + tcplen, ip_current_dest_addr(),
 830:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         ip_current_src_addr(), tcphdr->dest, tcphdr->src);
 831:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* Resend SYN immediately (don't wait for rto timeout) to establish
ARM GAS  /tmp/ccCn7Yn1.s 			page 16


 832:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         connection faster, but do not send more SYNs than we otherwise would
 833:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         have, or we might get caught in a loop on loopback interfaces. */
 834:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       if (pcb->nrtx < TCP_SYNMAXRTX) {
 835:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pcb->rtime = 0;
 836:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         tcp_rexmit_rto(pcb);
 837:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       }
 838:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
 839:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     break;
 840:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   case SYN_RCVD:
 841:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     if (flags & TCP_ACK) {
 842:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* expected ACK number? */
 843:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       if (TCP_SEQ_BETWEEN(ackno, pcb->lastack+1, pcb->snd_nxt)) {
 844:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pcb->state = ESTABLISHED;
 845:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         LWIP_DEBUGF(TCP_DEBUG, ("TCP connection established %"U16_F" -> %"U16_F".\n", inseg.tcphdr-
 846:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #if LWIP_CALLBACK_API || TCP_LISTEN_BACKLOG
 847:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #if LWIP_CALLBACK_API
 848:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         LWIP_ASSERT("pcb->listener->accept != NULL",
 849:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           (pcb->listener == NULL) || (pcb->listener->accept != NULL));
 850:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #endif
 851:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         if (pcb->listener == NULL) {
 852:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           /* listen pcb might be closed by now */
 853:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           err = ERR_VAL;
 854:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         } else
 855:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #endif /* LWIP_CALLBACK_API || TCP_LISTEN_BACKLOG */
 856:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         {
 857:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           tcp_backlog_accepted(pcb);
 858:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           /* Call the accept function. */
 859:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           TCP_EVENT_ACCEPT(pcb->listener, pcb, pcb->callback_arg, ERR_OK, err);
 860:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         }
 861:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         if (err != ERR_OK) {
 862:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           /* If the accept function returns with an error, we abort
 863:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****            * the connection. */
 864:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           /* Already aborted? */
 865:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           if (err != ERR_ABRT) {
 866:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             tcp_abort(pcb);
 867:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           }
 868:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           return ERR_ABRT;
 869:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         }
 870:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         /* If there was any data contained within this ACK,
 871:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****          * we'd better pass it on to the application as well. */
 872:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         tcp_receive(pcb);
 873:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 874:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         /* Prevent ACK for SYN to generate a sent event */
 875:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         if (recv_acked != 0) {
 876:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           recv_acked--;
 877:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         }
 878:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 879:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pcb->cwnd = LWIP_TCP_CALC_INITIAL_CWND(pcb->mss);
 880:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         LWIP_DEBUGF(TCP_CWND_DEBUG, ("tcp_process (SYN_RCVD): cwnd %"TCPWNDSIZE_F
 881:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                                      " ssthresh %"TCPWNDSIZE_F"\n",
 882:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                                      pcb->cwnd, pcb->ssthresh));
 883:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 884:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         if (recv_flags & TF_GOT_FIN) {
 885:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           tcp_ack_now(pcb);
 886:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           pcb->state = CLOSE_WAIT;
 887:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         }
 888:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       } else {
ARM GAS  /tmp/ccCn7Yn1.s 			page 17


 889:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         /* incorrect ACK number, send RST */
 890:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         tcp_rst(ackno, seqno + tcplen, ip_current_dest_addr(),
 891:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           ip_current_src_addr(), tcphdr->dest, tcphdr->src);
 892:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       }
 893:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     } else if ((flags & TCP_SYN) && (seqno == pcb->rcv_nxt - 1)) {
 894:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* Looks like another copy of the SYN - retransmit our SYN-ACK */
 895:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       tcp_rexmit(pcb);
 896:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
 897:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     break;
 898:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   case CLOSE_WAIT:
 899:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* FALLTHROUGH */
 900:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   case ESTABLISHED:
 901:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     tcp_receive(pcb);
 902:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     if (recv_flags & TF_GOT_FIN) { /* passive close */
 903:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       tcp_ack_now(pcb);
 904:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       pcb->state = CLOSE_WAIT;
 905:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
 906:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     break;
 907:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   case FIN_WAIT_1:
 908:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     tcp_receive(pcb);
 909:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     if (recv_flags & TF_GOT_FIN) {
 910:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       if ((flags & TCP_ACK) && (ackno == pcb->snd_nxt) &&
 911:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           pcb->unsent == NULL) {
 912:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         LWIP_DEBUGF(TCP_DEBUG,
 913:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           ("TCP connection closed: FIN_WAIT_1 %"U16_F" -> %"U16_F".\n", inseg.tcphdr->src, inseg.tc
 914:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         tcp_ack_now(pcb);
 915:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         tcp_pcb_purge(pcb);
 916:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         TCP_RMV_ACTIVE(pcb);
 917:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pcb->state = TIME_WAIT;
 918:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         TCP_REG(&tcp_tw_pcbs, pcb);
 919:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       } else {
 920:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         tcp_ack_now(pcb);
 921:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pcb->state = CLOSING;
 922:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       }
 923:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     } else if ((flags & TCP_ACK) && (ackno == pcb->snd_nxt) &&
 924:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                pcb->unsent == NULL) {
 925:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       pcb->state = FIN_WAIT_2;
 926:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
 927:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     break;
 928:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   case FIN_WAIT_2:
 929:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     tcp_receive(pcb);
 930:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     if (recv_flags & TF_GOT_FIN) {
 931:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       LWIP_DEBUGF(TCP_DEBUG, ("TCP connection closed: FIN_WAIT_2 %"U16_F" -> %"U16_F".\n", inseg.tc
 932:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       tcp_ack_now(pcb);
 933:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       tcp_pcb_purge(pcb);
 934:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       TCP_RMV_ACTIVE(pcb);
 935:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       pcb->state = TIME_WAIT;
 936:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       TCP_REG(&tcp_tw_pcbs, pcb);
 937:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
 938:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     break;
 939:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   case CLOSING:
 940:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     tcp_receive(pcb);
 941:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     if ((flags & TCP_ACK) && ackno == pcb->snd_nxt && pcb->unsent == NULL) {
 942:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       LWIP_DEBUGF(TCP_DEBUG, ("TCP connection closed: CLOSING %"U16_F" -> %"U16_F".\n", inseg.tcphd
 943:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       tcp_pcb_purge(pcb);
 944:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       TCP_RMV_ACTIVE(pcb);
 945:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       pcb->state = TIME_WAIT;
ARM GAS  /tmp/ccCn7Yn1.s 			page 18


 946:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       TCP_REG(&tcp_tw_pcbs, pcb);
 947:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
 948:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     break;
 949:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   case LAST_ACK:
 950:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     tcp_receive(pcb);
 951:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     if ((flags & TCP_ACK) && ackno == pcb->snd_nxt && pcb->unsent == NULL) {
 952:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       LWIP_DEBUGF(TCP_DEBUG, ("TCP connection closed: LAST_ACK %"U16_F" -> %"U16_F".\n", inseg.tcph
 953:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* bugfix #21699: don't set pcb->state to CLOSED here or we risk leaking segments */
 954:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       recv_flags |= TF_CLOSED;
 955:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
 956:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     break;
 957:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   default:
 958:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     break;
 959:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   }
 960:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   return ERR_OK;
 961:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** }
 962:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 963:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #if TCP_QUEUE_OOSEQ
 964:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** /**
 965:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * Insert segment into the list (segments covered with new one will be deleted)
 966:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  *
 967:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * Called from tcp_receive()
 968:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  */
 969:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** static void
 970:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** tcp_oos_insert_segment(struct tcp_seg *cseg, struct tcp_seg *next)
 971:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** {
 972:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   struct tcp_seg *old_seg;
 973:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 974:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   if (TCPH_FLAGS(cseg->tcphdr) & TCP_FIN) {
 975:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* received segment overlaps all following segments */
 976:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     tcp_segs_free(next);
 977:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     next = NULL;
 978:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   } else {
 979:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* delete some following segments
 980:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****        oos queue may have segments with FIN flag */
 981:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     while (next &&
 982:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****            TCP_SEQ_GEQ((seqno + cseg->len),
 983:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                       (next->tcphdr->seqno + next->len))) {
 984:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* cseg with FIN already processed */
 985:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       if (TCPH_FLAGS(next->tcphdr) & TCP_FIN) {
 986:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         TCPH_SET_FLAG(cseg->tcphdr, TCP_FIN);
 987:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       }
 988:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       old_seg = next;
 989:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       next = next->next;
 990:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       tcp_seg_free(old_seg);
 991:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
 992:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     if (next &&
 993:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         TCP_SEQ_GT(seqno + cseg->len, next->tcphdr->seqno)) {
 994:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* We need to trim the incoming segment. */
 995:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       cseg->len = (u16_t)(next->tcphdr->seqno - seqno);
 996:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       pbuf_realloc(cseg->p, cseg->len);
 997:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
 998:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   }
 999:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   cseg->next = next;
1000:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** }
1001:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #endif /* TCP_QUEUE_OOSEQ */
1002:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
ARM GAS  /tmp/ccCn7Yn1.s 			page 19


1003:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** /**
1004:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * Called by tcp_process. Checks if the given segment is an ACK for outstanding
1005:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * data, and if so frees the memory of the buffered data. Next, it places the
1006:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * segment on any of the receive queues (pcb->recved or pcb->ooseq). If the segment
1007:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * is buffered, the pbuf is referenced by pbuf_ref so that it will not be freed until
1008:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * it has been removed from the buffer.
1009:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  *
1010:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * If the incoming segment constitutes an ACK for a segment that was used for RTT
1011:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * estimation, the RTT is estimated here as well.
1012:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  *
1013:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * Called from tcp_process().
1014:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  */
1015:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** static void
1016:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** tcp_receive(struct tcp_pcb *pcb)
1017:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** {
1018:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   struct tcp_seg *next;
1019:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #if TCP_QUEUE_OOSEQ
1020:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   struct tcp_seg *prev, *cseg;
1021:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #endif /* TCP_QUEUE_OOSEQ */
1022:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   s32_t off;
1023:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   s16_t m;
1024:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   u32_t right_wnd_edge;
1025:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   u16_t new_tot_len;
1026:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   int found_dupack = 0;
1027:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #if TCP_OOSEQ_MAX_BYTES || TCP_OOSEQ_MAX_PBUFS
1028:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   u32_t ooseq_blen;
1029:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   u16_t ooseq_qlen;
1030:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #endif /* TCP_OOSEQ_MAX_BYTES || TCP_OOSEQ_MAX_PBUFS */
1031:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1032:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   LWIP_ASSERT("tcp_receive: wrong state", pcb->state >= ESTABLISHED);
1033:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1034:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   if (flags & TCP_ACK) {
1035:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     right_wnd_edge = pcb->snd_wnd + pcb->snd_wl2;
1036:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1037:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* Update window. */
1038:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     if (TCP_SEQ_LT(pcb->snd_wl1, seqno) ||
1039:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****        (pcb->snd_wl1 == seqno && TCP_SEQ_LT(pcb->snd_wl2, ackno)) ||
1040:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****        (pcb->snd_wl2 == ackno && (u32_t)SND_WND_SCALE(pcb, tcphdr->wnd) > pcb->snd_wnd)) {
1041:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       pcb->snd_wnd = SND_WND_SCALE(pcb, tcphdr->wnd);
1042:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* keep track of the biggest window announced by the remote host to calculate
1043:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****          the maximum segment size */
1044:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       if (pcb->snd_wnd_max < pcb->snd_wnd) {
1045:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pcb->snd_wnd_max = pcb->snd_wnd;
1046:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       }
1047:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       pcb->snd_wl1 = seqno;
1048:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       pcb->snd_wl2 = ackno;
1049:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       if (pcb->snd_wnd == 0) {
1050:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         if (pcb->persist_backoff == 0) {
1051:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           /* start persist timer */
1052:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           pcb->persist_cnt = 0;
1053:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           pcb->persist_backoff = 1;
1054:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         }
1055:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       } else if (pcb->persist_backoff > 0) {
1056:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         /* stop persist timer */
1057:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           pcb->persist_backoff = 0;
1058:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       }
1059:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       LWIP_DEBUGF(TCP_WND_DEBUG, ("tcp_receive: window update %"TCPWNDSIZE_F"\n", pcb->snd_wnd));
ARM GAS  /tmp/ccCn7Yn1.s 			page 20


1060:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #if TCP_WND_DEBUG
1061:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     } else {
1062:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       if (pcb->snd_wnd != (tcpwnd_size_t)SND_WND_SCALE(pcb, tcphdr->wnd)) {
1063:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         LWIP_DEBUGF(TCP_WND_DEBUG,
1064:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                     ("tcp_receive: no window update lastack %"U32_F" ackno %"
1065:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                      U32_F" wl1 %"U32_F" seqno %"U32_F" wl2 %"U32_F"\n",
1066:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                      pcb->lastack, ackno, pcb->snd_wl1, seqno, pcb->snd_wl2));
1067:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       }
1068:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #endif /* TCP_WND_DEBUG */
1069:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
1070:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1071:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* (From Stevens TCP/IP Illustrated Vol II, p970.) Its only a
1072:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****      * duplicate ack if:
1073:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****      * 1) It doesn't ACK new data
1074:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****      * 2) length of received packet is zero (i.e. no payload)
1075:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****      * 3) the advertised window hasn't changed
1076:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****      * 4) There is outstanding unacknowledged data (retransmission timer running)
1077:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****      * 5) The ACK is == biggest ACK sequence number so far seen (snd_una)
1078:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****      *
1079:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****      * If it passes all five, should process as a dupack:
1080:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****      * a) dupacks < 3: do nothing
1081:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****      * b) dupacks == 3: fast retransmit
1082:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****      * c) dupacks > 3: increase cwnd
1083:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****      *
1084:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****      * If it only passes 1-3, should reset dupack counter (and add to
1085:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****      * stats, which we don't do in lwIP)
1086:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****      *
1087:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****      * If it only passes 1, should reset dupack counter
1088:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****      *
1089:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****      */
1090:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1091:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* Clause 1 */
1092:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     if (TCP_SEQ_LEQ(ackno, pcb->lastack)) {
1093:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* Clause 2 */
1094:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       if (tcplen == 0) {
1095:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         /* Clause 3 */
1096:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         if (pcb->snd_wl2 + pcb->snd_wnd == right_wnd_edge) {
1097:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           /* Clause 4 */
1098:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           if (pcb->rtime >= 0) {
1099:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             /* Clause 5 */
1100:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             if (pcb->lastack == ackno) {
1101:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               found_dupack = 1;
1102:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               if ((u8_t)(pcb->dupacks + 1) > pcb->dupacks) {
1103:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                 ++pcb->dupacks;
1104:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               }
1105:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               if (pcb->dupacks > 3) {
1106:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                 /* Inflate the congestion window, but not if it means that
1107:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                    the value overflows. */
1108:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                 if ((tcpwnd_size_t)(pcb->cwnd + pcb->mss) > pcb->cwnd) {
1109:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                   pcb->cwnd += pcb->mss;
1110:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                 }
1111:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               } else if (pcb->dupacks == 3) {
1112:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                 /* Do fast retransmit */
1113:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                 tcp_rexmit_fast(pcb);
1114:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               }
1115:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             }
1116:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           }
ARM GAS  /tmp/ccCn7Yn1.s 			page 21


1117:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         }
1118:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       }
1119:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* If Clause (1) or more is true, but not a duplicate ack, reset
1120:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****        * count of consecutive duplicate acks */
1121:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       if (!found_dupack) {
1122:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pcb->dupacks = 0;
1123:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       }
1124:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     } else if (TCP_SEQ_BETWEEN(ackno, pcb->lastack+1, pcb->snd_nxt)) {
1125:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* We come here when the ACK acknowledges new data. */
1126:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1127:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* Reset the "IN Fast Retransmit" flag, since we are no longer
1128:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****          in fast retransmit. Also reset the congestion window to the
1129:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****          slow start threshold. */
1130:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       if (pcb->flags & TF_INFR) {
1131:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pcb->flags &= ~TF_INFR;
1132:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pcb->cwnd = pcb->ssthresh;
1133:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       }
1134:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1135:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* Reset the number of retransmissions. */
1136:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       pcb->nrtx = 0;
1137:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1138:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* Reset the retransmission time-out. */
1139:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       pcb->rto = (pcb->sa >> 3) + pcb->sv;
1140:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1141:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* Reset the fast retransmit variables. */
1142:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       pcb->dupacks = 0;
1143:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       pcb->lastack = ackno;
1144:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1145:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* Update the congestion control variables (cwnd and
1146:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****          ssthresh). */
1147:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       if (pcb->state >= ESTABLISHED) {
1148:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         if (pcb->cwnd < pcb->ssthresh) {
1149:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           if ((tcpwnd_size_t)(pcb->cwnd + pcb->mss) > pcb->cwnd) {
1150:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             pcb->cwnd += pcb->mss;
1151:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           }
1152:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           LWIP_DEBUGF(TCP_CWND_DEBUG, ("tcp_receive: slow start cwnd %"TCPWNDSIZE_F"\n", pcb->cwnd)
1153:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         } else {
1154:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           tcpwnd_size_t new_cwnd = (pcb->cwnd + pcb->mss * pcb->mss / pcb->cwnd);
1155:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           if (new_cwnd > pcb->cwnd) {
1156:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             pcb->cwnd = new_cwnd;
1157:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           }
1158:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           LWIP_DEBUGF(TCP_CWND_DEBUG, ("tcp_receive: congestion avoidance cwnd %"TCPWNDSIZE_F"\n", 
1159:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         }
1160:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       }
1161:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       LWIP_DEBUGF(TCP_INPUT_DEBUG, ("tcp_receive: ACK for %"U32_F", unacked->seqno %"U32_F":%"U32_F
1162:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                                     ackno,
1163:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                                     pcb->unacked != NULL?
1164:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                                     lwip_ntohl(pcb->unacked->tcphdr->seqno): 0,
1165:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                                     pcb->unacked != NULL?
1166:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                                     lwip_ntohl(pcb->unacked->tcphdr->seqno) + TCP_TCPLEN(pcb->unack
1167:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1168:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* Remove segment from the unacknowledged list if the incoming
1169:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****          ACK acknowledges them. */
1170:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       while (pcb->unacked != NULL &&
1171:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****              TCP_SEQ_LEQ(lwip_ntohl(pcb->unacked->tcphdr->seqno) +
1172:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                          TCP_TCPLEN(pcb->unacked), ackno)) {
1173:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         LWIP_DEBUGF(TCP_INPUT_DEBUG, ("tcp_receive: removing %"U32_F":%"U32_F" from pcb->unacked\n"
ARM GAS  /tmp/ccCn7Yn1.s 			page 22


1174:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                                       lwip_ntohl(pcb->unacked->tcphdr->seqno),
1175:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                                       lwip_ntohl(pcb->unacked->tcphdr->seqno) +
1176:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                                       TCP_TCPLEN(pcb->unacked)));
1177:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1178:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         next = pcb->unacked;
1179:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pcb->unacked = pcb->unacked->next;
1180:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1181:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         LWIP_DEBUGF(TCP_QLEN_DEBUG, ("tcp_receive: queuelen %"TCPWNDSIZE_F" ... ", (tcpwnd_size_t)p
1182:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         LWIP_ASSERT("pcb->snd_queuelen >= pbuf_clen(next->p)", (pcb->snd_queuelen >= pbuf_clen(next
1183:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1184:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pcb->snd_queuelen -= pbuf_clen(next->p);
1185:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         recv_acked += next->len;
1186:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         tcp_seg_free(next);
1187:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1188:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         LWIP_DEBUGF(TCP_QLEN_DEBUG, ("%"TCPWNDSIZE_F" (after freeing unacked)\n", (tcpwnd_size_t)pc
1189:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         if (pcb->snd_queuelen != 0) {
1190:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           LWIP_ASSERT("tcp_receive: valid queue length", pcb->unacked != NULL ||
1191:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                       pcb->unsent != NULL);
1192:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         }
1193:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       }
1194:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1195:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* If there's nothing left to acknowledge, stop the retransmit
1196:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****          timer, otherwise reset it to start again */
1197:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       if (pcb->unacked == NULL) {
1198:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pcb->rtime = -1;
1199:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       } else {
1200:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pcb->rtime = 0;
1201:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       }
1202:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1203:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       pcb->polltmr = 0;
1204:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1205:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #if LWIP_IPV6 && LWIP_ND6_TCP_REACHABILITY_HINTS
1206:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       if (ip_current_is_v6()) {
1207:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         /* Inform neighbor reachability of forward progress. */
1208:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         nd6_reachability_hint(ip6_current_src_addr());
1209:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       }
1210:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #endif /* LWIP_IPV6 && LWIP_ND6_TCP_REACHABILITY_HINTS*/
1211:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     } else {
1212:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* Out of sequence ACK, didn't really ack anything */
1213:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       tcp_send_empty_ack(pcb);
1214:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
1215:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1216:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* We go through the ->unsent list to see if any of the segments
1217:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****        on the list are acknowledged by the ACK. This may seem
1218:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****        strange since an "unsent" segment shouldn't be acked. The
1219:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****        rationale is that lwIP puts all outstanding segments on the
1220:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****        ->unsent list after a retransmission, so these segments may
1221:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****        in fact have been sent once. */
1222:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     while (pcb->unsent != NULL &&
1223:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****            TCP_SEQ_BETWEEN(ackno, lwip_ntohl(pcb->unsent->tcphdr->seqno) +
1224:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                            TCP_TCPLEN(pcb->unsent), pcb->snd_nxt)) {
1225:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       LWIP_DEBUGF(TCP_INPUT_DEBUG, ("tcp_receive: removing %"U32_F":%"U32_F" from pcb->unsent\n",
1226:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                                     lwip_ntohl(pcb->unsent->tcphdr->seqno), lwip_ntohl(pcb->unsent-
1227:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                                     TCP_TCPLEN(pcb->unsent)));
1228:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1229:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       next = pcb->unsent;
1230:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       pcb->unsent = pcb->unsent->next;
ARM GAS  /tmp/ccCn7Yn1.s 			page 23


1231:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #if TCP_OVERSIZE
1232:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       if (pcb->unsent == NULL) {
1233:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pcb->unsent_oversize = 0;
1234:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       }
1235:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #endif /* TCP_OVERSIZE */
1236:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       LWIP_DEBUGF(TCP_QLEN_DEBUG, ("tcp_receive: queuelen %"TCPWNDSIZE_F" ... ", (tcpwnd_size_t)pcb
1237:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       LWIP_ASSERT("pcb->snd_queuelen >= pbuf_clen(next->p)", (pcb->snd_queuelen >= pbuf_clen(next->
1238:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* Prevent ACK for FIN to generate a sent event */
1239:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       pcb->snd_queuelen -= pbuf_clen(next->p);
1240:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       recv_acked += next->len;
1241:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       tcp_seg_free(next);
1242:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       LWIP_DEBUGF(TCP_QLEN_DEBUG, ("%"TCPWNDSIZE_F" (after freeing unsent)\n", (tcpwnd_size_t)pcb->
1243:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       if (pcb->snd_queuelen != 0) {
1244:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         LWIP_ASSERT("tcp_receive: valid queue length",
1245:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           pcb->unacked != NULL || pcb->unsent != NULL);
1246:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       }
1247:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
1248:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     pcb->snd_buf += recv_acked;
1249:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* End of ACK for new data processing. */
1250:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1251:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     LWIP_DEBUGF(TCP_RTO_DEBUG, ("tcp_receive: pcb->rttest %"U32_F" rtseq %"U32_F" ackno %"U32_F"\n"
1252:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                                 pcb->rttest, pcb->rtseq, ackno));
1253:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1254:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* RTT estimation calculations. This is done by checking if the
1255:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****        incoming segment acknowledges the segment we use to take a
1256:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****        round-trip time measurement. */
1257:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     if (pcb->rttest && TCP_SEQ_LT(pcb->rtseq, ackno)) {
1258:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* diff between this shouldn't exceed 32K since this are tcp timer ticks
1259:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****          and a round-trip shouldn't be that long... */
1260:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       m = (s16_t)(tcp_ticks - pcb->rttest);
1261:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1262:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       LWIP_DEBUGF(TCP_RTO_DEBUG, ("tcp_receive: experienced rtt %"U16_F" ticks (%"U16_F" msec).\n",
1263:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                                   m, (u16_t)(m * TCP_SLOW_INTERVAL)));
1264:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1265:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* This is taken directly from VJs original code in his paper */
1266:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       m = m - (pcb->sa >> 3);
1267:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       pcb->sa += m;
1268:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       if (m < 0) {
1269:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         m = -m;
1270:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       }
1271:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       m = m - (pcb->sv >> 2);
1272:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       pcb->sv += m;
1273:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       pcb->rto = (pcb->sa >> 3) + pcb->sv;
1274:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1275:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       LWIP_DEBUGF(TCP_RTO_DEBUG, ("tcp_receive: RTO %"U16_F" (%"U16_F" milliseconds)\n",
1276:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                                   pcb->rto, (u16_t)(pcb->rto * TCP_SLOW_INTERVAL)));
1277:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1278:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       pcb->rttest = 0;
1279:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
1280:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   }
1281:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1282:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   /* If the incoming segment contains data, we must process it
1283:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****      further unless the pcb already received a FIN.
1284:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****      (RFC 793, chapter 3.9, "SEGMENT ARRIVES" in states CLOSE-WAIT, CLOSING,
1285:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****      LAST-ACK and TIME-WAIT: "Ignore the segment text.") */
1286:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   if ((tcplen > 0) && (pcb->state < CLOSE_WAIT)) {
1287:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* This code basically does three things:
ARM GAS  /tmp/ccCn7Yn1.s 			page 24


1288:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1289:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     +) If the incoming segment contains data that is the next
1290:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     in-sequence data, this data is passed to the application. This
1291:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     might involve trimming the first edge of the data. The rcv_nxt
1292:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     variable and the advertised window are adjusted.
1293:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1294:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     +) If the incoming segment has data that is above the next
1295:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     sequence number expected (->rcv_nxt), the segment is placed on
1296:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     the ->ooseq queue. This is done by finding the appropriate
1297:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     place in the ->ooseq queue (which is ordered by sequence
1298:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     number) and trim the segment in both ends if needed. An
1299:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     immediate ACK is sent to indicate that we received an
1300:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     out-of-sequence segment.
1301:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1302:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     +) Finally, we check if the first segment on the ->ooseq queue
1303:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     now is in sequence (i.e., if rcv_nxt >= ooseq->seqno). If
1304:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     rcv_nxt > ooseq->seqno, we must trim the first edge of the
1305:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     segment on ->ooseq before we adjust rcv_nxt. The data in the
1306:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     segments that are now on sequence are chained onto the
1307:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     incoming segment so that we only need to call the application
1308:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     once.
1309:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     */
1310:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1311:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* First, we check if we must trim the first edge. We have to do
1312:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****        this if the sequence number of the incoming segment is less
1313:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****        than rcv_nxt, and the sequence number plus the length of the
1314:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****        segment is larger than rcv_nxt. */
1315:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /*    if (TCP_SEQ_LT(seqno, pcb->rcv_nxt)) {
1316:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           if (TCP_SEQ_LT(pcb->rcv_nxt, seqno + tcplen)) {*/
1317:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     if (TCP_SEQ_BETWEEN(pcb->rcv_nxt, seqno + 1, seqno + tcplen - 1)) {
1318:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* Trimming the first edge is done by pushing the payload
1319:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****          pointer in the pbuf downwards. This is somewhat tricky since
1320:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****          we do not want to discard the full contents of the pbuf up to
1321:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****          the new starting point of the data since we have to keep the
1322:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****          TCP header which is present in the first pbuf in the chain.
1323:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1324:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****          What is done is really quite a nasty hack: the first pbuf in
1325:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****          the pbuf chain is pointed to by inseg.p. Since we need to be
1326:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****          able to deallocate the whole pbuf, we cannot change this
1327:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****          inseg.p pointer to point to any of the later pbufs in the
1328:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****          chain. Instead, we point the ->payload pointer in the first
1329:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****          pbuf to data in one of the later pbufs. We also set the
1330:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****          inseg.data pointer to point to the right place. This way, the
1331:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****          ->p pointer will still point to the first pbuf, but the
1332:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****          ->p->payload pointer will point to data in another pbuf.
1333:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1334:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****          After we are done with adjusting the pbuf pointers we must
1335:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****          adjust the ->data pointer in the seg and the segment
1336:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****          length.*/
1337:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1338:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       struct pbuf *p = inseg.p;
1339:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       off = pcb->rcv_nxt - seqno;
1340:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       LWIP_ASSERT("inseg.p != NULL", inseg.p);
1341:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       LWIP_ASSERT("insane offset!", (off < 0x7fff));
1342:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       if (inseg.p->len < off) {
1343:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         LWIP_ASSERT("pbuf too short!", (((s32_t)inseg.p->tot_len) >= off));
1344:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         new_tot_len = (u16_t)(inseg.p->tot_len - off);
ARM GAS  /tmp/ccCn7Yn1.s 			page 25


1345:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         while (p->len < off) {
1346:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           off -= p->len;
1347:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           /* KJM following line changed (with addition of new_tot_len var)
1348:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****              to fix bug #9076
1349:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****              inseg.p->tot_len -= p->len; */
1350:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           p->tot_len = new_tot_len;
1351:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           p->len = 0;
1352:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           p = p->next;
1353:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         }
1354:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         if (pbuf_header(p, (s16_t)-off)) {
1355:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           /* Do we need to cope with this failing?  Assert for now */
1356:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           LWIP_ASSERT("pbuf_header failed", 0);
1357:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         }
1358:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       } else {
1359:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         if (pbuf_header(inseg.p, (s16_t)-off)) {
1360:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           /* Do we need to cope with this failing?  Assert for now */
1361:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           LWIP_ASSERT("pbuf_header failed", 0);
1362:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         }
1363:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       }
1364:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       inseg.len -= (u16_t)(pcb->rcv_nxt - seqno);
1365:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       inseg.tcphdr->seqno = seqno = pcb->rcv_nxt;
1366:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
1367:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     else {
1368:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       if (TCP_SEQ_LT(seqno, pcb->rcv_nxt)) {
1369:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         /* the whole segment is < rcv_nxt */
1370:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         /* must be a duplicate of a packet that has already been correctly handled */
1371:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1372:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         LWIP_DEBUGF(TCP_INPUT_DEBUG, ("tcp_receive: duplicate seqno %"U32_F"\n", seqno));
1373:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         tcp_ack_now(pcb);
1374:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       }
1375:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
1376:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1377:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* The sequence number must be within the window (above rcv_nxt
1378:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****        and below rcv_nxt + rcv_wnd) in order to be further
1379:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****        processed. */
1380:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     if (TCP_SEQ_BETWEEN(seqno, pcb->rcv_nxt,
1381:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                         pcb->rcv_nxt + pcb->rcv_wnd - 1)) {
1382:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       if (pcb->rcv_nxt == seqno) {
1383:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         /* The incoming segment is the next in sequence. We check if
1384:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****            we have to trim the end of the segment and update rcv_nxt
1385:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****            and pass the data to the application. */
1386:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         tcplen = TCP_TCPLEN(&inseg);
1387:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1388:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         if (tcplen > pcb->rcv_wnd) {
1389:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           LWIP_DEBUGF(TCP_INPUT_DEBUG,
1390:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                       ("tcp_receive: other end overran receive window"
1391:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                        "seqno %"U32_F" len %"U16_F" right edge %"U32_F"\n",
1392:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                        seqno, tcplen, pcb->rcv_nxt + pcb->rcv_wnd));
1393:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           if (TCPH_FLAGS(inseg.tcphdr) & TCP_FIN) {
1394:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             /* Must remove the FIN from the header as we're trimming
1395:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****              * that byte of sequence-space from the packet */
1396:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             TCPH_FLAGS_SET(inseg.tcphdr, TCPH_FLAGS(inseg.tcphdr) & ~(unsigned int)TCP_FIN);
1397:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           }
1398:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           /* Adjust length of segment to fit in the window. */
1399:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           TCPWND_CHECK16(pcb->rcv_wnd);
1400:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           inseg.len = (u16_t)pcb->rcv_wnd;
1401:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           if (TCPH_FLAGS(inseg.tcphdr) & TCP_SYN) {
ARM GAS  /tmp/ccCn7Yn1.s 			page 26


1402:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             inseg.len -= 1;
1403:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           }
1404:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           pbuf_realloc(inseg.p, inseg.len);
1405:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           tcplen = TCP_TCPLEN(&inseg);
1406:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           LWIP_ASSERT("tcp_receive: segment not trimmed correctly to rcv_wnd\n",
1407:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                       (seqno + tcplen) == (pcb->rcv_nxt + pcb->rcv_wnd));
1408:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         }
1409:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #if TCP_QUEUE_OOSEQ
1410:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         /* Received in-sequence data, adjust ooseq data if:
1411:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****            - FIN has been received or
1412:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****            - inseq overlaps with ooseq */
1413:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         if (pcb->ooseq != NULL) {
1414:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           if (TCPH_FLAGS(inseg.tcphdr) & TCP_FIN) {
1415:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             LWIP_DEBUGF(TCP_INPUT_DEBUG,
1416:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                         ("tcp_receive: received in-order FIN, binning ooseq queue\n"));
1417:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             /* Received in-order FIN means anything that was received
1418:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****              * out of order must now have been received in-order, so
1419:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****              * bin the ooseq queue */
1420:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             while (pcb->ooseq != NULL) {
1421:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               struct tcp_seg *old_ooseq = pcb->ooseq;
1422:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               pcb->ooseq = pcb->ooseq->next;
1423:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               tcp_seg_free(old_ooseq);
1424:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             }
1425:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           } else {
1426:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             next = pcb->ooseq;
1427:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             /* Remove all segments on ooseq that are covered by inseg already.
1428:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****              * FIN is copied from ooseq to inseg if present. */
1429:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             while (next &&
1430:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                    TCP_SEQ_GEQ(seqno + tcplen,
1431:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                                next->tcphdr->seqno + next->len)) {
1432:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               /* inseg cannot have FIN here (already processed above) */
1433:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               if ((TCPH_FLAGS(next->tcphdr) & TCP_FIN) != 0 &&
1434:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                   (TCPH_FLAGS(inseg.tcphdr) & TCP_SYN) == 0) {
1435:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                 TCPH_SET_FLAG(inseg.tcphdr, TCP_FIN);
1436:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                 tcplen = TCP_TCPLEN(&inseg);
1437:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               }
1438:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               prev = next;
1439:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               next = next->next;
1440:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               tcp_seg_free(prev);
1441:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             }
1442:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             /* Now trim right side of inseg if it overlaps with the first
1443:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****              * segment on ooseq */
1444:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             if (next &&
1445:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                 TCP_SEQ_GT(seqno + tcplen,
1446:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                            next->tcphdr->seqno)) {
1447:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               /* inseg cannot have FIN here (already processed above) */
1448:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               inseg.len = (u16_t)(next->tcphdr->seqno - seqno);
1449:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               if (TCPH_FLAGS(inseg.tcphdr) & TCP_SYN) {
1450:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                 inseg.len -= 1;
1451:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               }
1452:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               pbuf_realloc(inseg.p, inseg.len);
1453:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               tcplen = TCP_TCPLEN(&inseg);
1454:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               LWIP_ASSERT("tcp_receive: segment not trimmed correctly to ooseq queue\n",
1455:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                           (seqno + tcplen) == next->tcphdr->seqno);
1456:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             }
1457:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             pcb->ooseq = next;
1458:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           }
ARM GAS  /tmp/ccCn7Yn1.s 			page 27


1459:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         }
1460:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #endif /* TCP_QUEUE_OOSEQ */
1461:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1462:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pcb->rcv_nxt = seqno + tcplen;
1463:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1464:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         /* Update the receiver's (our) window. */
1465:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         LWIP_ASSERT("tcp_receive: tcplen > rcv_wnd\n", pcb->rcv_wnd >= tcplen);
1466:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pcb->rcv_wnd -= tcplen;
1467:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1468:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         tcp_update_rcv_ann_wnd(pcb);
1469:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1470:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         /* If there is data in the segment, we make preparations to
1471:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****            pass this up to the application. The ->recv_data variable
1472:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****            is used for holding the pbuf that goes to the
1473:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****            application. The code for reassembling out-of-sequence data
1474:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****            chains its data on this pbuf as well.
1475:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1476:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****            If the segment was a FIN, we set the TF_GOT_FIN flag that will
1477:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****            be used to indicate to the application that the remote side has
1478:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****            closed its end of the connection. */
1479:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         if (inseg.p->tot_len > 0) {
1480:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           recv_data = inseg.p;
1481:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           /* Since this pbuf now is the responsibility of the
1482:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****              application, we delete our reference to it so that we won't
1483:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****              (mistakingly) deallocate it. */
1484:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           inseg.p = NULL;
1485:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         }
1486:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         if (TCPH_FLAGS(inseg.tcphdr) & TCP_FIN) {
1487:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           LWIP_DEBUGF(TCP_INPUT_DEBUG, ("tcp_receive: received FIN.\n"));
1488:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           recv_flags |= TF_GOT_FIN;
1489:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         }
1490:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1491:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #if TCP_QUEUE_OOSEQ
1492:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         /* We now check if we have segments on the ->ooseq queue that
1493:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****            are now in sequence. */
1494:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         while (pcb->ooseq != NULL &&
1495:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                pcb->ooseq->tcphdr->seqno == pcb->rcv_nxt) {
1496:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1497:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           cseg = pcb->ooseq;
1498:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           seqno = pcb->ooseq->tcphdr->seqno;
1499:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1500:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           pcb->rcv_nxt += TCP_TCPLEN(cseg);
1501:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           LWIP_ASSERT("tcp_receive: ooseq tcplen > rcv_wnd\n",
1502:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                       pcb->rcv_wnd >= TCP_TCPLEN(cseg));
1503:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           pcb->rcv_wnd -= TCP_TCPLEN(cseg);
1504:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1505:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           tcp_update_rcv_ann_wnd(pcb);
1506:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1507:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           if (cseg->p->tot_len > 0) {
1508:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             /* Chain this pbuf onto the pbuf that we will pass to
1509:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                the application. */
1510:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             /* With window scaling, this can overflow recv_data->tot_len, but
1511:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                that's not a problem since we explicitly fix that before passing
1512:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                recv_data to the application. */
1513:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             if (recv_data) {
1514:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               pbuf_cat(recv_data, cseg->p);
1515:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             } else {
ARM GAS  /tmp/ccCn7Yn1.s 			page 28


1516:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               recv_data = cseg->p;
1517:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             }
1518:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             cseg->p = NULL;
1519:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           }
1520:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           if (TCPH_FLAGS(cseg->tcphdr) & TCP_FIN) {
1521:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             LWIP_DEBUGF(TCP_INPUT_DEBUG, ("tcp_receive: dequeued FIN.\n"));
1522:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             recv_flags |= TF_GOT_FIN;
1523:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             if (pcb->state == ESTABLISHED) { /* force passive close or we can move to active close 
1524:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               pcb->state = CLOSE_WAIT;
1525:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             }
1526:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           }
1527:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1528:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           pcb->ooseq = cseg->next;
1529:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           tcp_seg_free(cseg);
1530:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         }
1531:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #endif /* TCP_QUEUE_OOSEQ */
1532:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1533:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1534:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         /* Acknowledge the segment(s). */
1535:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         tcp_ack(pcb);
1536:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1537:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #if LWIP_IPV6 && LWIP_ND6_TCP_REACHABILITY_HINTS
1538:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         if (ip_current_is_v6()) {
1539:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           /* Inform neighbor reachability of forward progress. */
1540:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           nd6_reachability_hint(ip6_current_src_addr());
1541:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         }
1542:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #endif /* LWIP_IPV6 && LWIP_ND6_TCP_REACHABILITY_HINTS*/
1543:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1544:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       } else {
1545:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         /* We get here if the incoming segment is out-of-sequence. */
1546:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         tcp_send_empty_ack(pcb);
1547:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #if TCP_QUEUE_OOSEQ
1548:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         /* We queue the segment on the ->ooseq queue. */
1549:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         if (pcb->ooseq == NULL) {
1550:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           pcb->ooseq = tcp_seg_copy(&inseg);
1551:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         } else {
1552:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           /* If the queue is not empty, we walk through the queue and
1553:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****              try to find a place where the sequence number of the
1554:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****              incoming segment is between the sequence numbers of the
1555:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****              previous and the next segment on the ->ooseq queue. That is
1556:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****              the place where we put the incoming segment. If needed, we
1557:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****              trim the second edges of the previous and the incoming
1558:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****              segment so that it will fit into the sequence.
1559:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1560:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****              If the incoming segment has the same sequence number as a
1561:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****              segment on the ->ooseq queue, we discard the segment that
1562:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****              contains less data. */
1563:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1564:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           prev = NULL;
1565:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           for (next = pcb->ooseq; next != NULL; next = next->next) {
1566:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             if (seqno == next->tcphdr->seqno) {
1567:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               /* The sequence number of the incoming segment is the
1568:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                  same as the sequence number of the segment on
1569:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                  ->ooseq. We check the lengths to see which one to
1570:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                  discard. */
1571:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               if (inseg.len > next->len) {
1572:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                 /* The incoming segment is larger than the old
ARM GAS  /tmp/ccCn7Yn1.s 			page 29


1573:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                    segment. We replace some segments with the new
1574:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                    one. */
1575:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                 cseg = tcp_seg_copy(&inseg);
1576:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                 if (cseg != NULL) {
1577:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                   if (prev != NULL) {
1578:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                     prev->next = cseg;
1579:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                   } else {
1580:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                     pcb->ooseq = cseg;
1581:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                   }
1582:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                   tcp_oos_insert_segment(cseg, next);
1583:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                 }
1584:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                 break;
1585:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               } else {
1586:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                 /* Either the lengths are the same or the incoming
1587:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                    segment was smaller than the old one; in either
1588:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                    case, we ditch the incoming segment. */
1589:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                 break;
1590:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               }
1591:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             } else {
1592:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               if (prev == NULL) {
1593:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                 if (TCP_SEQ_LT(seqno, next->tcphdr->seqno)) {
1594:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                   /* The sequence number of the incoming segment is lower
1595:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                      than the sequence number of the first segment on the
1596:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                      queue. We put the incoming segment first on the
1597:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                      queue. */
1598:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                   cseg = tcp_seg_copy(&inseg);
1599:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                   if (cseg != NULL) {
1600:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                     pcb->ooseq = cseg;
1601:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                     tcp_oos_insert_segment(cseg, next);
1602:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                   }
1603:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                   break;
1604:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                 }
1605:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               } else {
1606:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                 /*if (TCP_SEQ_LT(prev->tcphdr->seqno, seqno) &&
1607:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                   TCP_SEQ_LT(seqno, next->tcphdr->seqno)) {*/
1608:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                 if (TCP_SEQ_BETWEEN(seqno, prev->tcphdr->seqno+1, next->tcphdr->seqno-1)) {
1609:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                   /* The sequence number of the incoming segment is in
1610:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                      between the sequence numbers of the previous and
1611:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                      the next segment on ->ooseq. We trim trim the previous
1612:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                      segment, delete next segments that included in received segment
1613:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                      and trim received, if needed. */
1614:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                   cseg = tcp_seg_copy(&inseg);
1615:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                   if (cseg != NULL) {
1616:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                     if (TCP_SEQ_GT(prev->tcphdr->seqno + prev->len, seqno)) {
1617:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                       /* We need to trim the prev segment. */
1618:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                       prev->len = (u16_t)(seqno - prev->tcphdr->seqno);
1619:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                       pbuf_realloc(prev->p, prev->len);
1620:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                     }
1621:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                     prev->next = cseg;
1622:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                     tcp_oos_insert_segment(cseg, next);
1623:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                   }
1624:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                   break;
1625:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                 }
1626:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               }
1627:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               /* If the "next" segment is the last segment on the
1628:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                  ooseq queue, we add the incoming segment to the end
1629:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                  of the list. */
ARM GAS  /tmp/ccCn7Yn1.s 			page 30


1630:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               if (next->next == NULL &&
1631:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                   TCP_SEQ_GT(seqno, next->tcphdr->seqno)) {
1632:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                 if (TCPH_FLAGS(next->tcphdr) & TCP_FIN) {
1633:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                   /* segment "next" already contains all data */
1634:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                   break;
1635:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                 }
1636:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                 next->next = tcp_seg_copy(&inseg);
1637:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                 if (next->next != NULL) {
1638:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                   if (TCP_SEQ_GT(next->tcphdr->seqno + next->len, seqno)) {
1639:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                     /* We need to trim the last segment. */
1640:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                     next->len = (u16_t)(seqno - next->tcphdr->seqno);
1641:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                     pbuf_realloc(next->p, next->len);
1642:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                   }
1643:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                   /* check if the remote side overruns our receive window */
1644:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                   if (TCP_SEQ_GT((u32_t)tcplen + seqno, pcb->rcv_nxt + (u32_t)pcb->rcv_wnd)) {
1645:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                     LWIP_DEBUGF(TCP_INPUT_DEBUG,
1646:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                                 ("tcp_receive: other end overran receive window"
1647:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                                  "seqno %"U32_F" len %"U16_F" right edge %"U32_F"\n",
1648:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                                  seqno, tcplen, pcb->rcv_nxt + pcb->rcv_wnd));
1649:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                     if (TCPH_FLAGS(next->next->tcphdr) & TCP_FIN) {
1650:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                       /* Must remove the FIN from the header as we're trimming
1651:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                        * that byte of sequence-space from the packet */
1652:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                       TCPH_FLAGS_SET(next->next->tcphdr, TCPH_FLAGS(next->next->tcphdr) & ~TCP_FIN)
1653:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                     }
1654:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                     /* Adjust length of segment to fit in the window. */
1655:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                     next->next->len = (u16_t)(pcb->rcv_nxt + pcb->rcv_wnd - seqno);
1656:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                     pbuf_realloc(next->next->p, next->next->len);
1657:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                     tcplen = TCP_TCPLEN(next->next);
1658:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                     LWIP_ASSERT("tcp_receive: segment not trimmed correctly to rcv_wnd\n",
1659:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                                 (seqno + tcplen) == (pcb->rcv_nxt + pcb->rcv_wnd));
1660:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                   }
1661:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                 }
1662:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                 break;
1663:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               }
1664:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             }
1665:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             prev = next;
1666:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           }
1667:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         }
1668:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #if TCP_OOSEQ_MAX_BYTES || TCP_OOSEQ_MAX_PBUFS
1669:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         /* Check that the data on ooseq doesn't exceed one of the limits
1670:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****            and throw away everything above that limit. */
1671:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         ooseq_blen = 0;
1672:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         ooseq_qlen = 0;
1673:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         prev = NULL;
1674:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         for (next = pcb->ooseq; next != NULL; prev = next, next = next->next) {
1675:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           struct pbuf *p = next->p;
1676:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           ooseq_blen += p->tot_len;
1677:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           ooseq_qlen += pbuf_clen(p);
1678:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           if ((ooseq_blen > TCP_OOSEQ_MAX_BYTES) ||
1679:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               (ooseq_qlen > TCP_OOSEQ_MAX_PBUFS)) {
1680:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****              /* too much ooseq data, dump this and everything after it */
1681:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****              tcp_segs_free(next);
1682:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****              if (prev == NULL) {
1683:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                /* first ooseq segment is too much, dump the whole queue */
1684:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                pcb->ooseq = NULL;
1685:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****              } else {
1686:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                /* just dump 'next' and everything after it */
ARM GAS  /tmp/ccCn7Yn1.s 			page 31


1687:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                prev->next = NULL;
1688:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****              }
1689:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****              break;
1690:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           }
1691:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         }
1692:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #endif /* TCP_OOSEQ_MAX_BYTES || TCP_OOSEQ_MAX_PBUFS */
1693:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #endif /* TCP_QUEUE_OOSEQ */
1694:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       }
1695:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     } else {
1696:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* The incoming segment is not within the window. */
1697:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       tcp_send_empty_ack(pcb);
1698:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
1699:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   } else {
1700:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* Segments with length 0 is taken care of here. Segments that
1701:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****        fall out of the window are ACKed. */
1702:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     if (!TCP_SEQ_BETWEEN(seqno, pcb->rcv_nxt, pcb->rcv_nxt + pcb->rcv_wnd - 1)) {
1703:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       tcp_ack_now(pcb);
1704:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
1705:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   }
1706:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** }
1707:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1708:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** static u8_t
1709:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** tcp_getoptbyte(void)
1710:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** {
  26              		.loc 1 1710 0
  27              		.cfi_startproc
  28              		@ args = 0, pretend = 0, frame = 0
  29              		@ frame_needed = 0, uses_anonymous_args = 0
  30              		@ link register save eliminated.
1711:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   if ((tcphdr_opt2 == NULL) || (tcp_optidx < tcphdr_opt1len)) {
  31              		.loc 1 1711 0
  32 0000 0E4B     		ldr	r3, .L8
  33 0002 1968     		ldr	r1, [r3]
  34 0004 89B1     		cbz	r1, .L2
  35              		.loc 1 1711 0 is_stmt 0 discriminator 1
  36 0006 0E4B     		ldr	r3, .L8+4
  37 0008 1B88     		ldrh	r3, [r3]
  38 000a 0E4A     		ldr	r2, .L8+8
  39 000c 1288     		ldrh	r2, [r2]
  40 000e 9342     		cmp	r3, r2
  41 0010 0BD3     		bcc	.L2
1710:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   if ((tcphdr_opt2 == NULL) || (tcp_optidx < tcphdr_opt1len)) {
  42              		.loc 1 1710 0 is_stmt 1
  43 0012 10B4     		push	{r4}
  44              	.LCFI0:
  45              		.cfi_def_cfa_offset 4
  46              		.cfi_offset 4, -4
  47              	.LBB2:
1712:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     u8_t* opts = (u8_t *)tcphdr + TCP_HLEN;
1713:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     return opts[tcp_optidx++];
1714:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   } else {
1715:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     u8_t idx = (u8_t)(tcp_optidx++ - tcphdr_opt1len);
  48              		.loc 1 1715 0
  49 0014 5C1C     		adds	r4, r3, #1
  50 0016 0A48     		ldr	r0, .L8+4
  51 0018 0480     		strh	r4, [r0]	@ movhi
  52 001a DBB2     		uxtb	r3, r3
ARM GAS  /tmp/ccCn7Yn1.s 			page 32


  53 001c D2B2     		uxtb	r2, r2
  54 001e 9B1A     		subs	r3, r3, r2
  55 0020 DBB2     		uxtb	r3, r3
  56              	.LVL0:
1716:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     return tcphdr_opt2[idx];
  57              		.loc 1 1716 0
  58 0022 C85C     		ldrb	r0, [r1, r3]	@ zero_extendqisi2
  59              	.LBE2:
1717:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   }
1718:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** }
  60              		.loc 1 1718 0
  61 0024 5DF8044B 		ldr	r4, [sp], #4
  62              	.LCFI1:
  63              		.cfi_restore 4
  64              		.cfi_def_cfa_offset 0
  65 0028 7047     		bx	lr
  66              	.LVL1:
  67              	.L2:
  68              	.LBB3:
1712:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     return opts[tcp_optidx++];
  69              		.loc 1 1712 0
  70 002a 074B     		ldr	r3, .L8+12
  71 002c 1B68     		ldr	r3, [r3]
  72              	.LVL2:
1713:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   } else {
  73              		.loc 1 1713 0
  74 002e 0449     		ldr	r1, .L8+4
  75 0030 0A88     		ldrh	r2, [r1]
  76 0032 501C     		adds	r0, r2, #1
  77 0034 0880     		strh	r0, [r1]	@ movhi
  78 0036 1344     		add	r3, r3, r2
  79              	.LVL3:
  80 0038 187D     		ldrb	r0, [r3, #20]	@ zero_extendqisi2
  81 003a 7047     		bx	lr
  82              	.L9:
  83              		.align	2
  84              	.L8:
  85 003c 00000000 		.word	.LANCHOR0
  86 0040 00000000 		.word	.LANCHOR1
  87 0044 00000000 		.word	.LANCHOR2
  88 0048 00000000 		.word	.LANCHOR3
  89              	.LBE3:
  90              		.cfi_endproc
  91              	.LFE165:
  93              		.section	.text.tcp_parseopt,"ax",%progbits
  94              		.align	1
  95              		.syntax unified
  96              		.thumb
  97              		.thumb_func
  98              		.fpu fpv5-d16
 100              	tcp_parseopt:
 101              	.LFB166:
1719:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1720:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** /**
1721:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * Parses the options contained in the incoming segment.
1722:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  *
1723:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * Called from tcp_listen_input() and tcp_process().
ARM GAS  /tmp/ccCn7Yn1.s 			page 33


1724:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * Currently, only the MSS option is supported!
1725:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  *
1726:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  * @param pcb the tcp_pcb for which a segment arrived
1727:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****  */
1728:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** static void
1729:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** tcp_parseopt(struct tcp_pcb *pcb)
1730:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** {
 102              		.loc 1 1730 0
 103              		.cfi_startproc
 104              		@ args = 0, pretend = 0, frame = 0
 105              		@ frame_needed = 0, uses_anonymous_args = 0
 106              	.LVL4:
 107 0000 38B5     		push	{r3, r4, r5, lr}
 108              	.LCFI2:
 109              		.cfi_def_cfa_offset 16
 110              		.cfi_offset 3, -16
 111              		.cfi_offset 4, -12
 112              		.cfi_offset 5, -8
 113              		.cfi_offset 14, -4
1731:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   u8_t data;
1732:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   u16_t mss;
1733:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #if LWIP_TCP_TIMESTAMPS
1734:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   u32_t tsval;
1735:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #endif
1736:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1737:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   /* Parse the TCP MSS option, if present. */
1738:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   if (tcphdr_optlen != 0) {
 114              		.loc 1 1738 0
 115 0002 1F4B     		ldr	r3, .L22
 116 0004 1B88     		ldrh	r3, [r3]
 117 0006 002B     		cmp	r3, #0
 118 0008 38D0     		beq	.L10
 119 000a 0546     		mov	r5, r0
1739:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     for (tcp_optidx = 0; tcp_optidx < tcphdr_optlen; ) {
 120              		.loc 1 1739 0
 121 000c 0022     		movs	r2, #0
 122 000e 1D4B     		ldr	r3, .L22+4
 123 0010 1A80     		strh	r2, [r3]	@ movhi
 124              	.LVL5:
 125              	.L14:
 126              		.loc 1 1739 0 is_stmt 0 discriminator 1
 127 0012 1C4B     		ldr	r3, .L22+4
 128 0014 1A88     		ldrh	r2, [r3]
 129 0016 1A4B     		ldr	r3, .L22
 130 0018 1B88     		ldrh	r3, [r3]
 131 001a 9A42     		cmp	r2, r3
 132 001c 2ED2     		bcs	.L10
 133              	.LBB4:
1740:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       u8_t opt = tcp_getoptbyte();
 134              		.loc 1 1740 0 is_stmt 1
 135 001e FFF7FEFF 		bl	tcp_getoptbyte
 136              	.LVL6:
1741:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       switch (opt) {
 137              		.loc 1 1741 0
 138 0022 0128     		cmp	r0, #1
 139 0024 F5D0     		beq	.L14
 140 0026 48B3     		cbz	r0, .L10
ARM GAS  /tmp/ccCn7Yn1.s 			page 34


 141 0028 0228     		cmp	r0, #2
 142 002a 1DD1     		bne	.L20
1742:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       case LWIP_TCP_OPT_EOL:
1743:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         /* End of options. */
1744:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         LWIP_DEBUGF(TCP_INPUT_DEBUG, ("tcp_parseopt: EOL\n"));
1745:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         return;
1746:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       case LWIP_TCP_OPT_NOP:
1747:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         /* NOP option. */
1748:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         LWIP_DEBUGF(TCP_INPUT_DEBUG, ("tcp_parseopt: NOP\n"));
1749:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         break;
1750:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       case LWIP_TCP_OPT_MSS:
1751:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         LWIP_DEBUGF(TCP_INPUT_DEBUG, ("tcp_parseopt: MSS\n"));
1752:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         if (tcp_getoptbyte() != LWIP_TCP_OPT_LEN_MSS || (tcp_optidx - 2 + LWIP_TCP_OPT_LEN_MSS) > t
 143              		.loc 1 1752 0
 144 002c FFF7FEFF 		bl	tcp_getoptbyte
 145              	.LVL7:
 146 0030 0428     		cmp	r0, #4
 147 0032 23D1     		bne	.L10
 148              		.loc 1 1752 0 is_stmt 0 discriminator 1
 149 0034 134B     		ldr	r3, .L22+4
 150 0036 1B88     		ldrh	r3, [r3]
 151 0038 0233     		adds	r3, r3, #2
 152 003a 114A     		ldr	r2, .L22
 153 003c 1288     		ldrh	r2, [r2]
 154 003e 9342     		cmp	r3, r2
 155 0040 1CDC     		bgt	.L10
1753:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           /* Bad length */
1754:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           LWIP_DEBUGF(TCP_INPUT_DEBUG, ("tcp_parseopt: bad length\n"));
1755:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           return;
1756:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         }
1757:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         /* An MSS option with the right option length. */
1758:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         mss = (tcp_getoptbyte() << 8);
 156              		.loc 1 1758 0 is_stmt 1
 157 0042 FFF7FEFF 		bl	tcp_getoptbyte
 158              	.LVL8:
 159 0046 83B2     		uxth	r3, r0
 160 0048 1B02     		lsls	r3, r3, #8
 161 004a 9CB2     		uxth	r4, r3
 162              	.LVL9:
1759:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         mss |= tcp_getoptbyte();
 163              		.loc 1 1759 0
 164 004c FFF7FEFF 		bl	tcp_getoptbyte
 165              	.LVL10:
 166 0050 80B2     		uxth	r0, r0
 167 0052 44EA0003 		orr	r3, r4, r0
 168              	.LVL11:
1760:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         /* Limit the mss to the configured TCP_MSS and prevent division by zero */
1761:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pcb->mss = ((mss > TCP_MSS) || (mss == 0)) ? TCP_MSS : mss;
 169              		.loc 1 1761 0
 170 0056 5A1E     		subs	r2, r3, #1
 171 0058 92B2     		uxth	r2, r2
 172 005a B2F5067F 		cmp	r2, #536
 173 005e 01D3     		bcc	.L16
 174 0060 4FF40673 		mov	r3, #536
 175              	.LVL12:
 176              	.L16:
 177              		.loc 1 1761 0 is_stmt 0 discriminator 4
ARM GAS  /tmp/ccCn7Yn1.s 			page 35


 178 0064 6B86     		strh	r3, [r5, #50]	@ movhi
1762:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         break;
 179              		.loc 1 1762 0 is_stmt 1 discriminator 4
 180 0066 D4E7     		b	.L14
 181              	.LVL13:
 182              	.L20:
1763:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #if LWIP_WND_SCALE
1764:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       case LWIP_TCP_OPT_WS:
1765:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         LWIP_DEBUGF(TCP_INPUT_DEBUG, ("tcp_parseopt: WND_SCALE\n"));
1766:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         if (tcp_getoptbyte() != LWIP_TCP_OPT_LEN_WS || (tcp_optidx - 2 + LWIP_TCP_OPT_LEN_WS) > tcp
1767:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           /* Bad length */
1768:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           LWIP_DEBUGF(TCP_INPUT_DEBUG, ("tcp_parseopt: bad length\n"));
1769:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           return;
1770:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         }
1771:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         /* An WND_SCALE option with the right option length. */
1772:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         data = tcp_getoptbyte();
1773:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         /* If syn was received with wnd scale option,
1774:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****            activate wnd scale opt, but only if this is not a retransmission */
1775:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         if ((flags & TCP_SYN) && !(pcb->flags & TF_WND_SCALE)) {
1776:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           pcb->snd_scale = data;
1777:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           if (pcb->snd_scale > 14U) {
1778:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             pcb->snd_scale = 14U;
1779:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           }
1780:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           pcb->rcv_scale = TCP_RCV_SCALE;
1781:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           pcb->flags |= TF_WND_SCALE;
1782:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           /* window scaling is enabled, we can use the full receive window */
1783:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           LWIP_ASSERT("window not at default value", pcb->rcv_wnd == TCPWND_MIN16(TCP_WND));
1784:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           LWIP_ASSERT("window not at default value", pcb->rcv_ann_wnd == TCPWND_MIN16(TCP_WND));
1785:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           pcb->rcv_wnd = pcb->rcv_ann_wnd = TCP_WND;
1786:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         }
1787:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         break;
1788:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #endif
1789:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #if LWIP_TCP_TIMESTAMPS
1790:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       case LWIP_TCP_OPT_TS:
1791:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         LWIP_DEBUGF(TCP_INPUT_DEBUG, ("tcp_parseopt: TS\n"));
1792:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         if (tcp_getoptbyte() != LWIP_TCP_OPT_LEN_TS || (tcp_optidx - 2 + LWIP_TCP_OPT_LEN_TS) > tcp
1793:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           /* Bad length */
1794:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           LWIP_DEBUGF(TCP_INPUT_DEBUG, ("tcp_parseopt: bad length\n"));
1795:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           return;
1796:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         }
1797:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         /* TCP timestamp option with valid length */
1798:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         tsval = tcp_getoptbyte();
1799:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         tsval |= (tcp_getoptbyte() << 8);
1800:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         tsval |= (tcp_getoptbyte() << 16);
1801:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         tsval |= (tcp_getoptbyte() << 24);
1802:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         if (flags & TCP_SYN) {
1803:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           pcb->ts_recent = lwip_ntohl(tsval);
1804:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           /* Enable sending timestamps in every segment now that we know
1805:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****              the remote host supports it. */
1806:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           pcb->flags |= TF_TIMESTAMP;
1807:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         } else if (TCP_SEQ_BETWEEN(pcb->ts_lastacksent, seqno, seqno+tcplen)) {
1808:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           pcb->ts_recent = lwip_ntohl(tsval);
1809:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         }
1810:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         /* Advance to next option (6 bytes already read) */
1811:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         tcp_optidx += LWIP_TCP_OPT_LEN_TS - 6;
1812:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         break;
1813:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #endif
ARM GAS  /tmp/ccCn7Yn1.s 			page 36


1814:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       default:
1815:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         LWIP_DEBUGF(TCP_INPUT_DEBUG, ("tcp_parseopt: other\n"));
1816:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         data = tcp_getoptbyte();
 183              		.loc 1 1816 0
 184 0068 FFF7FEFF 		bl	tcp_getoptbyte
 185              	.LVL14:
1817:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         if (data < 2) {
 186              		.loc 1 1817 0
 187 006c 0128     		cmp	r0, #1
 188 006e 05D9     		bls	.L10
1818:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           LWIP_DEBUGF(TCP_INPUT_DEBUG, ("tcp_parseopt: bad length\n"));
1819:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           /* If the length field is zero, the options are malformed
1820:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****              and we don't process them further. */
1821:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           return;
1822:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         }
1823:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         /* All other options have a length field, so that we easily
1824:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****            can skip past them. */
1825:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         tcp_optidx += data - 2;
 189              		.loc 1 1825 0
 190 0070 044B     		ldr	r3, .L22+4
 191 0072 1A88     		ldrh	r2, [r3]
 192 0074 1044     		add	r0, r0, r2
 193              	.LVL15:
 194 0076 0238     		subs	r0, r0, #2
 195 0078 1880     		strh	r0, [r3]	@ movhi
 196 007a CAE7     		b	.L14
 197              	.LVL16:
 198              	.L10:
 199 007c 38BD     		pop	{r3, r4, r5, pc}
 200              	.L23:
 201 007e 00BF     		.align	2
 202              	.L22:
 203 0080 00000000 		.word	.LANCHOR4
 204 0084 00000000 		.word	.LANCHOR1
 205              	.LBE4:
 206              		.cfi_endproc
 207              	.LFE166:
 209              		.section	.text.tcp_input_delayed_close,"ax",%progbits
 210              		.align	1
 211              		.syntax unified
 212              		.thumb
 213              		.thumb_func
 214              		.fpu fpv5-d16
 216              	tcp_input_delayed_close:
 217              	.LFB159:
 537:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   if (recv_flags & TF_CLOSED) {
 218              		.loc 1 537 0
 219              		.cfi_startproc
 220              		@ args = 0, pretend = 0, frame = 0
 221              		@ frame_needed = 0, uses_anonymous_args = 0
 222              	.LVL17:
 538:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* The connection has been closed and we will deallocate the
 223              		.loc 1 538 0
 224 0000 0E4B     		ldr	r3, .L32
 225 0002 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 226 0004 13F0100F 		tst	r3, #16
 227 0008 16D0     		beq	.L27
ARM GAS  /tmp/ccCn7Yn1.s 			page 37


 537:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   if (recv_flags & TF_CLOSED) {
 228              		.loc 1 537 0
 229 000a 10B5     		push	{r4, lr}
 230              	.LCFI3:
 231              		.cfi_def_cfa_offset 8
 232              		.cfi_offset 4, -8
 233              		.cfi_offset 14, -4
 234 000c 0446     		mov	r4, r0
 541:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* Connection closed although the application has only shut down the
 235              		.loc 1 541 0
 236 000e 837E     		ldrb	r3, [r0, #26]	@ zero_extendqisi2
 237 0010 13F0100F 		tst	r3, #16
 238 0014 06D1     		bne	.L26
 545:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
 239              		.loc 1 545 0
 240 0016 D0F88C30 		ldr	r3, [r0, #140]
 241 001a 1BB1     		cbz	r3, .L26
 545:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
 242              		.loc 1 545 0 is_stmt 0 discriminator 1
 243 001c 6FF00E01 		mvn	r1, #14
 244 0020 0069     		ldr	r0, [r0, #16]
 245              	.LVL18:
 246 0022 9847     		blx	r3
 247              	.LVL19:
 248              	.L26:
 547:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     memp_free(MEMP_TCP_PCB, pcb);
 249              		.loc 1 547 0 is_stmt 1
 250 0024 2146     		mov	r1, r4
 251 0026 0648     		ldr	r0, .L32+4
 252 0028 FFF7FEFF 		bl	tcp_pcb_remove
 253              	.LVL20:
 548:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     return 1;
 254              		.loc 1 548 0
 255 002c 2146     		mov	r1, r4
 256 002e 0120     		movs	r0, #1
 257 0030 FFF7FEFF 		bl	memp_free
 258              	.LVL21:
 549:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   }
 259              		.loc 1 549 0
 260 0034 0120     		movs	r0, #1
 261 0036 10BD     		pop	{r4, pc}
 262              	.LVL22:
 263              	.L27:
 264              	.LCFI4:
 265              		.cfi_def_cfa_offset 0
 266              		.cfi_restore 4
 267              		.cfi_restore 14
 551:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** }
 268              		.loc 1 551 0
 269 0038 0020     		movs	r0, #0
 270              	.LVL23:
 271 003a 7047     		bx	lr
 272              	.L33:
 273              		.align	2
 274              	.L32:
 275 003c 00000000 		.word	.LANCHOR5
 276 0040 00000000 		.word	tcp_active_pcbs
ARM GAS  /tmp/ccCn7Yn1.s 			page 38


 277              		.cfi_endproc
 278              	.LFE159:
 280              		.section	.text.tcp_timewait_input,"ax",%progbits
 281              		.align	1
 282              		.syntax unified
 283              		.thumb
 284              		.thumb_func
 285              		.fpu fpv5-d16
 287              	tcp_timewait_input:
 288              	.LFB161:
 664:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   /* RFC 1337: in TIME_WAIT, ignore RST and ACK FINs + any 'acceptable' segments */
 289              		.loc 1 664 0
 290              		.cfi_startproc
 291              		@ args = 0, pretend = 0, frame = 0
 292              		@ frame_needed = 0, uses_anonymous_args = 0
 293              	.LVL24:
 670:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     return;
 294              		.loc 1 670 0
 295 0000 1C4B     		ldr	r3, .L42
 296 0002 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 297 0004 13F0040F 		tst	r3, #4
 298 0008 32D1     		bne	.L39
 664:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   /* RFC 1337: in TIME_WAIT, ignore RST and ACK FINs + any 'acceptable' segments */
 299              		.loc 1 664 0
 300 000a 10B5     		push	{r4, lr}
 301              	.LCFI5:
 302              		.cfi_def_cfa_offset 8
 303              		.cfi_offset 4, -8
 304              		.cfi_offset 14, -4
 305 000c 82B0     		sub	sp, sp, #8
 306              	.LCFI6:
 307              		.cfi_def_cfa_offset 16
 674:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* If an incoming segment is not acceptable, an acknowledgment
 308              		.loc 1 674 0
 309 000e 13F0020F 		tst	r3, #2
 310 0012 1CD0     		beq	.L36
 677:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* If the SYN is in the window it is an error, send a reset */
 311              		.loc 1 677 0
 312 0014 184B     		ldr	r3, .L42+4
 313 0016 1968     		ldr	r1, [r3]
 314 0018 436A     		ldr	r3, [r0, #36]
 315 001a CA1A     		subs	r2, r1, r3
 316 001c 002A     		cmp	r2, #0
 317 001e 1CDB     		blt	.L37
 677:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* If the SYN is in the window it is an error, send a reset */
 318              		.loc 1 677 0 is_stmt 0 discriminator 1
 319 0020 028D     		ldrh	r2, [r0, #40]
 320 0022 1344     		add	r3, r3, r2
 321 0024 CB1A     		subs	r3, r1, r3
 322 0026 002B     		cmp	r3, #0
 323 0028 17DC     		bgt	.L37
 680:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       return;
 324              		.loc 1 680 0 is_stmt 1
 325 002a 144B     		ldr	r3, .L42+8
 326 002c 1B68     		ldr	r3, [r3]
 679:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         ip_current_src_addr(), tcphdr->dest, tcphdr->src);
 327              		.loc 1 679 0
ARM GAS  /tmp/ccCn7Yn1.s 			page 39


 328 002e 144A     		ldr	r2, .L42+12
 329 0030 1448     		ldr	r0, .L42+16
 330              	.LVL25:
 331 0032 0088     		ldrh	r0, [r0]
 332 0034 1C88     		ldrh	r4, [r3]	@ unaligned
 333 0036 0194     		str	r4, [sp, #4]
 334 0038 5B88     		ldrh	r3, [r3, #2]	@ unaligned
 335 003a 0093     		str	r3, [sp]
 336 003c 1346     		mov	r3, r2
 337 003e 0432     		adds	r2, r2, #4
 338 0040 0144     		add	r1, r1, r0
 339 0042 1148     		ldr	r0, .L42+20
 340 0044 0068     		ldr	r0, [r0]
 341 0046 FFF7FEFF 		bl	tcp_rst
 342              	.LVL26:
 343              	.L34:
 695:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 344              		.loc 1 695 0
 345 004a 02B0     		add	sp, sp, #8
 346              	.LCFI7:
 347              		.cfi_remember_state
 348              		.cfi_def_cfa_offset 8
 349              		@ sp needed
 350 004c 10BD     		pop	{r4, pc}
 351              	.LVL27:
 352              	.L36:
 353              	.LCFI8:
 354              		.cfi_restore_state
 683:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* - eighth, check the FIN bit: Remain in the TIME-WAIT state.
 355              		.loc 1 683 0
 356 004e 13F0010F 		tst	r3, #1
 357 0052 02D0     		beq	.L37
 686:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   }
 358              		.loc 1 686 0
 359 0054 0D4B     		ldr	r3, .L42+24
 360 0056 1B68     		ldr	r3, [r3]
 361 0058 0362     		str	r3, [r0, #32]
 362              	.L37:
 689:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* Acknowledge data, FIN or out-of-window SYN */
 363              		.loc 1 689 0
 364 005a 0A4B     		ldr	r3, .L42+16
 365 005c 1B88     		ldrh	r3, [r3]
 366 005e 002B     		cmp	r3, #0
 367 0060 F3D0     		beq	.L34
 691:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     tcp_output(pcb);
 368              		.loc 1 691 0
 369 0062 837E     		ldrb	r3, [r0, #26]	@ zero_extendqisi2
 370 0064 43F00203 		orr	r3, r3, #2
 371 0068 8376     		strb	r3, [r0, #26]
 692:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   }
 372              		.loc 1 692 0
 373 006a FFF7FEFF 		bl	tcp_output
 374              	.LVL28:
 375 006e ECE7     		b	.L34
 376              	.LVL29:
 377              	.L39:
 378              	.LCFI9:
ARM GAS  /tmp/ccCn7Yn1.s 			page 40


 379              		.cfi_def_cfa_offset 0
 380              		.cfi_restore 4
 381              		.cfi_restore 14
 382 0070 7047     		bx	lr
 383              	.L43:
 384 0072 00BF     		.align	2
 385              	.L42:
 386 0074 00000000 		.word	.LANCHOR6
 387 0078 00000000 		.word	.LANCHOR7
 388 007c 00000000 		.word	.LANCHOR3
 389 0080 10000000 		.word	ip_data+16
 390 0084 00000000 		.word	.LANCHOR8
 391 0088 00000000 		.word	.LANCHOR9
 392 008c 00000000 		.word	tcp_ticks
 393              		.cfi_endproc
 394              	.LFE161:
 396              		.section	.text.tcp_listen_input,"ax",%progbits
 397              		.align	1
 398              		.syntax unified
 399              		.thumb
 400              		.thumb_func
 401              		.fpu fpv5-d16
 403              	tcp_listen_input:
 404              	.LFB160:
 565:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   struct tcp_pcb *npcb;
 405              		.loc 1 565 0
 406              		.cfi_startproc
 407              		@ args = 0, pretend = 0, frame = 0
 408              		@ frame_needed = 0, uses_anonymous_args = 0
 409              	.LVL30:
 570:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* An incoming RST should be ignored. Return. */
 410              		.loc 1 570 0
 411 0000 3C4B     		ldr	r3, .L57
 412 0002 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 413 0004 13F0040F 		tst	r3, #4
 414 0008 73D1     		bne	.L50
 565:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   struct tcp_pcb *npcb;
 415              		.loc 1 565 0
 416 000a F0B5     		push	{r4, r5, r6, r7, lr}
 417              	.LCFI10:
 418              		.cfi_def_cfa_offset 20
 419              		.cfi_offset 4, -20
 420              		.cfi_offset 5, -16
 421              		.cfi_offset 6, -12
 422              		.cfi_offset 7, -8
 423              		.cfi_offset 14, -4
 424 000c 83B0     		sub	sp, sp, #12
 425              	.LCFI11:
 426              		.cfi_def_cfa_offset 32
 427 000e 0546     		mov	r5, r0
 577:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* For incoming segments with the ACK flag set, respond with a
 428              		.loc 1 577 0
 429 0010 13F0100F 		tst	r3, #16
 430 0014 04D1     		bne	.L53
 583:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     LWIP_DEBUGF(TCP_DEBUG, ("TCP connection request %"U16_F" -> %"U16_F".\n", tcphdr->src, tcphdr->
 431              		.loc 1 583 0
 432 0016 13F0020F 		tst	r3, #2
ARM GAS  /tmp/ccCn7Yn1.s 			page 41


 433 001a 14D1     		bne	.L54
 434              	.LVL31:
 435              	.L44:
 651:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 436              		.loc 1 651 0
 437 001c 03B0     		add	sp, sp, #12
 438              	.LCFI12:
 439              		.cfi_remember_state
 440              		.cfi_def_cfa_offset 20
 441              		@ sp needed
 442 001e F0BD     		pop	{r4, r5, r6, r7, pc}
 443              	.LVL32:
 444              	.L53:
 445              	.LCFI13:
 446              		.cfi_restore_state
 582:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   } else if (flags & TCP_SYN) {
 447              		.loc 1 582 0
 448 0020 354B     		ldr	r3, .L57+4
 449 0022 1B68     		ldr	r3, [r3]
 581:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       ip_current_src_addr(), tcphdr->dest, tcphdr->src);
 450              		.loc 1 581 0
 451 0024 354A     		ldr	r2, .L57+8
 452 0026 3649     		ldr	r1, .L57+12
 453 0028 0C88     		ldrh	r4, [r1]
 454 002a 3649     		ldr	r1, .L57+16
 455 002c 0968     		ldr	r1, [r1]
 456 002e 3648     		ldr	r0, .L57+20
 457              	.LVL33:
 458 0030 0068     		ldr	r0, [r0]
 459 0032 1D88     		ldrh	r5, [r3]	@ unaligned
 460              	.LVL34:
 461 0034 0195     		str	r5, [sp, #4]
 462 0036 5B88     		ldrh	r3, [r3, #2]	@ unaligned
 463 0038 0093     		str	r3, [sp]
 464 003a 1346     		mov	r3, r2
 465 003c 0432     		adds	r2, r2, #4
 466 003e 2144     		add	r1, r1, r4
 467 0040 FFF7FEFF 		bl	tcp_rst
 468              	.LVL35:
 469 0044 EAE7     		b	.L44
 470              	.LVL36:
 471              	.L54:
 591:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* If a new PCB could not be created (probably due to lack of memory),
 472              		.loc 1 591 0
 473 0046 407D     		ldrb	r0, [r0, #21]	@ zero_extendqisi2
 474              	.LVL37:
 475 0048 FFF7FEFF 		bl	tcp_alloc
 476              	.LVL38:
 595:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       err_t err;
 477              		.loc 1 595 0
 478 004c 0446     		mov	r4, r0
 479 004e 0028     		cmp	r0, #0
 480 0050 41D0     		beq	.L55
 608:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     ip_addr_copy(npcb->remote_ip, *ip_current_src_addr());
 481              		.loc 1 608 0
 482 0052 2E4B     		ldr	r3, .L57+24
 483 0054 5A69     		ldr	r2, [r3, #20]
ARM GAS  /tmp/ccCn7Yn1.s 			page 42


 484 0056 0260     		str	r2, [r0]
 609:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     npcb->local_port = pcb->local_port;
 485              		.loc 1 609 0
 486 0058 1B69     		ldr	r3, [r3, #16]
 487 005a 4360     		str	r3, [r0, #4]
 610:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     npcb->remote_port = tcphdr->src;
 488              		.loc 1 610 0
 489 005c EB8A     		ldrh	r3, [r5, #22]
 490 005e C382     		strh	r3, [r0, #22]	@ movhi
 611:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     npcb->state = SYN_RCVD;
 491              		.loc 1 611 0
 492 0060 254E     		ldr	r6, .L57+4
 493 0062 3368     		ldr	r3, [r6]
 494 0064 1B88     		ldrh	r3, [r3]	@ unaligned
 495 0066 0383     		strh	r3, [r0, #24]	@ movhi
 612:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     npcb->rcv_nxt = seqno + 1;
 496              		.loc 1 612 0
 497 0068 0323     		movs	r3, #3
 498 006a 0375     		strb	r3, [r0, #20]
 613:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     npcb->rcv_ann_right_edge = npcb->rcv_nxt;
 499              		.loc 1 613 0
 500 006c 254F     		ldr	r7, .L57+16
 501 006e 3B68     		ldr	r3, [r7]
 502 0070 0133     		adds	r3, r3, #1
 503 0072 4362     		str	r3, [r0, #36]
 614:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     iss = tcp_next_iss(npcb);
 504              		.loc 1 614 0
 505 0074 C362     		str	r3, [r0, #44]
 615:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     npcb->snd_wl2 = iss;
 506              		.loc 1 615 0
 507 0076 FFF7FEFF 		bl	tcp_next_iss
 508              	.LVL39:
 616:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     npcb->snd_nxt = iss;
 509              		.loc 1 616 0
 510 007a 6065     		str	r0, [r4, #84]
 617:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     npcb->lastack = iss;
 511              		.loc 1 617 0
 512 007c E064     		str	r0, [r4, #76]
 618:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     npcb->snd_lbb = iss;
 513              		.loc 1 618 0
 514 007e 6064     		str	r0, [r4, #68]
 619:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     npcb->snd_wl1 = seqno - 1;/* initialise to seqno-1 to force window update */
 515              		.loc 1 619 0
 516 0080 A065     		str	r0, [r4, #88]
 620:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     npcb->callback_arg = pcb->callback_arg;
 517              		.loc 1 620 0
 518 0082 3B68     		ldr	r3, [r7]
 519 0084 013B     		subs	r3, r3, #1
 520 0086 2365     		str	r3, [r4, #80]
 621:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #if LWIP_CALLBACK_API || TCP_LISTEN_BACKLOG
 521              		.loc 1 621 0
 522 0088 2B69     		ldr	r3, [r5, #16]
 523 008a 2361     		str	r3, [r4, #16]
 623:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #endif /* LWIP_CALLBACK_API || TCP_LISTEN_BACKLOG */
 524              		.loc 1 623 0
 525 008c A567     		str	r5, [r4, #120]
 626:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* Register the new PCB so that we can begin receiving segments
ARM GAS  /tmp/ccCn7Yn1.s 			page 43


 526              		.loc 1 626 0
 527 008e 2B7A     		ldrb	r3, [r5, #8]	@ zero_extendqisi2
 528 0090 03F00C03 		and	r3, r3, #12
 529 0094 2372     		strb	r3, [r4, #8]
 629:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 530              		.loc 1 629 0
 531 0096 1E4B     		ldr	r3, .L57+28
 532 0098 1A68     		ldr	r2, [r3]
 533 009a E260     		str	r2, [r4, #12]
 534 009c 1C60     		str	r4, [r3]
 535 009e FFF7FEFF 		bl	tcp_timer_needed
 536              	.LVL40:
 537 00a2 0122     		movs	r2, #1
 538 00a4 1B4B     		ldr	r3, .L57+32
 539 00a6 1A70     		strb	r2, [r3]
 632:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     npcb->snd_wnd = tcphdr->wnd;
 540              		.loc 1 632 0
 541 00a8 2046     		mov	r0, r4
 542 00aa FFF7FEFF 		bl	tcp_parseopt
 543              	.LVL41:
 633:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     npcb->snd_wnd_max = npcb->snd_wnd;
 544              		.loc 1 633 0
 545 00ae 3368     		ldr	r3, [r6]
 546 00b0 DB89     		ldrh	r3, [r3, #14]	@ unaligned
 547 00b2 A4F85C30 		strh	r3, [r4, #92]	@ movhi
 634:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 548              		.loc 1 634 0
 549 00b6 A4F85E30 		strh	r3, [r4, #94]	@ movhi
 637:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #endif /* TCP_CALCULATE_EFF_SEND_MSS */
 550              		.loc 1 637 0
 551 00ba 211D     		adds	r1, r4, #4
 552 00bc 608E     		ldrh	r0, [r4, #50]
 553 00be FFF7FEFF 		bl	tcp_eff_send_mss_impl
 554              	.LVL42:
 555 00c2 6086     		strh	r0, [r4, #50]	@ movhi
 643:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     if (rc != ERR_OK) {
 556              		.loc 1 643 0
 557 00c4 1221     		movs	r1, #18
 558 00c6 2046     		mov	r0, r4
 559 00c8 FFF7FEFF 		bl	tcp_enqueue_flags
 560              	.LVL43:
 644:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       tcp_abandon(npcb, 0);
 561              		.loc 1 644 0
 562 00cc 60B9     		cbnz	r0, .L56
 648:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   }
 563              		.loc 1 648 0
 564 00ce 2046     		mov	r0, r4
 565              	.LVL44:
 566 00d0 FFF7FEFF 		bl	tcp_output
 567              	.LVL45:
 568 00d4 A2E7     		b	.L44
 569              	.LVL46:
 570              	.L55:
 571              	.LBB5:
 599:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       LWIP_UNUSED_ARG(err); /* err not useful here */
 572              		.loc 1 599 0
 573 00d6 AB69     		ldr	r3, [r5, #24]
ARM GAS  /tmp/ccCn7Yn1.s 			page 44


 574 00d8 002B     		cmp	r3, #0
 575 00da 9FD0     		beq	.L44
 599:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       LWIP_UNUSED_ARG(err); /* err not useful here */
 576              		.loc 1 599 0 is_stmt 0 discriminator 1
 577 00dc 4FF0FF32 		mov	r2, #-1
 578 00e0 0021     		movs	r1, #0
 579 00e2 2869     		ldr	r0, [r5, #16]
 580              	.LVL47:
 581 00e4 9847     		blx	r3
 582              	.LVL48:
 583 00e6 99E7     		b	.L44
 584              	.LVL49:
 585              	.L56:
 586              	.LBE5:
 645:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       return;
 587              		.loc 1 645 0 is_stmt 1
 588 00e8 0021     		movs	r1, #0
 589 00ea 2046     		mov	r0, r4
 590              	.LVL50:
 591 00ec FFF7FEFF 		bl	tcp_abandon
 592              	.LVL51:
 646:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
 593              		.loc 1 646 0
 594 00f0 94E7     		b	.L44
 595              	.LVL52:
 596              	.L50:
 597              	.LCFI14:
 598              		.cfi_def_cfa_offset 0
 599              		.cfi_restore 4
 600              		.cfi_restore 5
 601              		.cfi_restore 6
 602              		.cfi_restore 7
 603              		.cfi_restore 14
 604 00f2 7047     		bx	lr
 605              	.L58:
 606              		.align	2
 607              	.L57:
 608 00f4 00000000 		.word	.LANCHOR6
 609 00f8 00000000 		.word	.LANCHOR3
 610 00fc 10000000 		.word	ip_data+16
 611 0100 00000000 		.word	.LANCHOR8
 612 0104 00000000 		.word	.LANCHOR7
 613 0108 00000000 		.word	.LANCHOR9
 614 010c 00000000 		.word	ip_data
 615 0110 00000000 		.word	tcp_active_pcbs
 616 0114 00000000 		.word	tcp_active_pcbs_changed
 617              		.cfi_endproc
 618              	.LFE160:
 620              		.section	.text.tcp_oos_insert_segment,"ax",%progbits
 621              		.align	1
 622              		.syntax unified
 623              		.thumb
 624              		.thumb_func
 625              		.fpu fpv5-d16
 627              	tcp_oos_insert_segment:
 628              	.LFB163:
 971:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   struct tcp_seg *old_seg;
ARM GAS  /tmp/ccCn7Yn1.s 			page 45


 629              		.loc 1 971 0
 630              		.cfi_startproc
 631              		@ args = 0, pretend = 0, frame = 0
 632              		@ frame_needed = 0, uses_anonymous_args = 0
 633              	.LVL53:
 634 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 635              	.LCFI15:
 636              		.cfi_def_cfa_offset 24
 637              		.cfi_offset 3, -24
 638              		.cfi_offset 4, -20
 639              		.cfi_offset 5, -16
 640              		.cfi_offset 6, -12
 641              		.cfi_offset 7, -8
 642              		.cfi_offset 14, -4
 643 0002 0546     		mov	r5, r0
 644 0004 0C46     		mov	r4, r1
 974:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* received segment overlaps all following segments */
 645              		.loc 1 974 0
 646 0006 C368     		ldr	r3, [r0, #12]
 647 0008 9889     		ldrh	r0, [r3, #12]	@ unaligned
 648              	.LVL54:
 649 000a FFF7FEFF 		bl	lwip_htons
 650              	.LVL55:
 651 000e 10F0010F 		tst	r0, #1
 652 0012 09D0     		beq	.L60
 976:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     next = NULL;
 653              		.loc 1 976 0
 654 0014 2046     		mov	r0, r4
 655 0016 FFF7FEFF 		bl	tcp_segs_free
 656              	.LVL56:
 977:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   } else {
 657              		.loc 1 977 0
 658 001a 0024     		movs	r4, #0
 659 001c 2EE0     		b	.L61
 660              	.LVL57:
 661              	.L62:
 989:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       tcp_seg_free(old_seg);
 662              		.loc 1 989 0
 663 001e 2668     		ldr	r6, [r4]
 664              	.LVL58:
 990:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
 665              		.loc 1 990 0
 666 0020 2046     		mov	r0, r4
 667 0022 FFF7FEFF 		bl	tcp_seg_free
 668              	.LVL59:
 989:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       tcp_seg_free(old_seg);
 669              		.loc 1 989 0
 670 0026 3446     		mov	r4, r6
 671              	.LVL60:
 672              	.L60:
 981:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****            TCP_SEQ_GEQ((seqno + cseg->len),
 673              		.loc 1 981 0
 674 0028 C4B1     		cbz	r4, .L63
 982:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                       (next->tcphdr->seqno + next->len))) {
 675              		.loc 1 982 0 discriminator 1
 676 002a 2B89     		ldrh	r3, [r5, #8]
 677 002c 144A     		ldr	r2, .L66
ARM GAS  /tmp/ccCn7Yn1.s 			page 46


 678 002e 1268     		ldr	r2, [r2]
 679 0030 1344     		add	r3, r3, r2
 680 0032 E168     		ldr	r1, [r4, #12]
 681 0034 4A68     		ldr	r2, [r1, #4]	@ unaligned
 682 0036 2089     		ldrh	r0, [r4, #8]
 683 0038 0244     		add	r2, r2, r0
 684 003a 9B1A     		subs	r3, r3, r2
 981:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****            TCP_SEQ_GEQ((seqno + cseg->len),
 685              		.loc 1 981 0 discriminator 1
 686 003c 002B     		cmp	r3, #0
 687 003e 0DDB     		blt	.L63
 985:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         TCPH_SET_FLAG(cseg->tcphdr, TCP_FIN);
 688              		.loc 1 985 0
 689 0040 8889     		ldrh	r0, [r1, #12]	@ unaligned
 690 0042 FFF7FEFF 		bl	lwip_htons
 691              	.LVL61:
 692 0046 10F0010F 		tst	r0, #1
 693 004a E8D0     		beq	.L62
 986:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       }
 694              		.loc 1 986 0
 695 004c EF68     		ldr	r7, [r5, #12]
 696 004e BE89     		ldrh	r6, [r7, #12]	@ unaligned
 697 0050 0120     		movs	r0, #1
 698 0052 FFF7FEFF 		bl	lwip_htons
 699              	.LVL62:
 700 0056 3043     		orrs	r0, r0, r6
 701 0058 B881     		strh	r0, [r7, #12]	@ unaligned
 702 005a E0E7     		b	.L62
 703              	.L63:
 992:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         TCP_SEQ_GT(seqno + cseg->len, next->tcphdr->seqno)) {
 704              		.loc 1 992 0
 705 005c 74B1     		cbz	r4, .L61
 993:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* We need to trim the incoming segment. */
 706              		.loc 1 993 0 discriminator 1
 707 005e 2B89     		ldrh	r3, [r5, #8]
 708 0060 074A     		ldr	r2, .L66
 709 0062 1168     		ldr	r1, [r2]
 710 0064 0B44     		add	r3, r3, r1
 711 0066 E268     		ldr	r2, [r4, #12]
 712 0068 5268     		ldr	r2, [r2, #4]	@ unaligned
 713 006a 9B1A     		subs	r3, r3, r2
 992:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         TCP_SEQ_GT(seqno + cseg->len, next->tcphdr->seqno)) {
 714              		.loc 1 992 0 discriminator 1
 715 006c 002B     		cmp	r3, #0
 716 006e 05DD     		ble	.L61
 995:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       pbuf_realloc(cseg->p, cseg->len);
 717              		.loc 1 995 0
 718 0070 521A     		subs	r2, r2, r1
 719 0072 91B2     		uxth	r1, r2
 720 0074 2981     		strh	r1, [r5, #8]	@ movhi
 996:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
 721              		.loc 1 996 0
 722 0076 6868     		ldr	r0, [r5, #4]
 723 0078 FFF7FEFF 		bl	pbuf_realloc
 724              	.LVL63:
 725              	.L61:
 999:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** }
ARM GAS  /tmp/ccCn7Yn1.s 			page 47


 726              		.loc 1 999 0
 727 007c 2C60     		str	r4, [r5]
 728 007e F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 729              	.LVL64:
 730              	.L67:
 731              		.align	2
 732              	.L66:
 733 0080 00000000 		.word	.LANCHOR7
 734              		.cfi_endproc
 735              	.LFE163:
 737              		.section	.text.tcp_receive,"ax",%progbits
 738              		.align	1
 739              		.syntax unified
 740              		.thumb
 741              		.thumb_func
 742              		.fpu fpv5-d16
 744              	tcp_receive:
 745              	.LFB164:
1017:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   struct tcp_seg *next;
 746              		.loc 1 1017 0
 747              		.cfi_startproc
 748              		@ args = 0, pretend = 0, frame = 0
 749              		@ frame_needed = 0, uses_anonymous_args = 0
 750              	.LVL65:
 751 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 752              	.LCFI16:
 753              		.cfi_def_cfa_offset 24
 754              		.cfi_offset 4, -24
 755              		.cfi_offset 5, -20
 756              		.cfi_offset 6, -16
 757              		.cfi_offset 7, -12
 758              		.cfi_offset 8, -8
 759              		.cfi_offset 14, -4
 760 0004 0446     		mov	r4, r0
 761              	.LVL66:
1032:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 762              		.loc 1 1032 0
 763 0006 037D     		ldrb	r3, [r0, #20]	@ zero_extendqisi2
 764 0008 032B     		cmp	r3, #3
 765 000a 79D9     		bls	.L179
 766              	.LVL67:
 767              	.L69:
1034:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     right_wnd_edge = pcb->snd_wnd + pcb->snd_wl2;
 768              		.loc 1 1034 0
 769 000c AE4B     		ldr	r3, .L214
 770 000e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 771 0010 13F0100F 		tst	r3, #16
 772 0014 00F0AA81 		beq	.L70
1035:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 773              		.loc 1 1035 0
 774 0018 B4F85C00 		ldrh	r0, [r4, #92]
 775 001c 626D     		ldr	r2, [r4, #84]
 776 001e 8618     		adds	r6, r0, r2
 777              	.LVL68:
1038:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****        (pcb->snd_wl1 == seqno && TCP_SEQ_LT(pcb->snd_wl2, ackno)) ||
 778              		.loc 1 1038 0
 779 0020 216D     		ldr	r1, [r4, #80]
ARM GAS  /tmp/ccCn7Yn1.s 			page 48


 780 0022 AA4B     		ldr	r3, .L214+4
 781 0024 1B68     		ldr	r3, [r3]
 782 0026 CD1A     		subs	r5, r1, r3
 783 0028 002D     		cmp	r5, #0
 784 002a 7CDB     		blt	.L71
1038:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****        (pcb->snd_wl1 == seqno && TCP_SEQ_LT(pcb->snd_wl2, ackno)) ||
 785              		.loc 1 1038 0 is_stmt 0 discriminator 1
 786 002c 9942     		cmp	r1, r3
 787 002e 6FD0     		beq	.L180
 788              	.L72:
1040:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       pcb->snd_wnd = SND_WND_SCALE(pcb, tcphdr->wnd);
 789              		.loc 1 1040 0 is_stmt 1 discriminator 1
 790 0030 A749     		ldr	r1, .L214+8
 791 0032 0968     		ldr	r1, [r1]
1039:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****        (pcb->snd_wl2 == ackno && (u32_t)SND_WND_SCALE(pcb, tcphdr->wnd) > pcb->snd_wnd)) {
 792              		.loc 1 1039 0 discriminator 1
 793 0034 8A42     		cmp	r2, r1
 794 0036 71D0     		beq	.L181
 795              	.L73:
1092:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* Clause 2 */
 796              		.loc 1 1092 0
 797 0038 A54B     		ldr	r3, .L214+8
 798 003a 1B68     		ldr	r3, [r3]
 799 003c 616C     		ldr	r1, [r4, #68]
 800 003e 5A1A     		subs	r2, r3, r1
 801 0040 002A     		cmp	r2, #0
 802 0042 40F39580 		ble	.L182
1124:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* We come here when the ACK acknowledges new data. */
 803              		.loc 1 1124 0
 804 0046 012A     		cmp	r2, #1
 805 0048 04D4     		bmi	.L82
1124:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* We come here when the ACK acknowledges new data. */
 806              		.loc 1 1124 0 is_stmt 0 discriminator 1
 807 004a E26C     		ldr	r2, [r4, #76]
 808 004c 9A1A     		subs	r2, r3, r2
 809 004e 002A     		cmp	r2, #0
 810 0050 40F3CC80 		ble	.L183
 811              	.L82:
1213:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
 812              		.loc 1 1213 0 is_stmt 1
 813 0054 2046     		mov	r0, r4
 814 0056 FFF7FEFF 		bl	tcp_send_empty_ack
 815              	.LVL69:
 816              	.L81:
1222:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****            TCP_SEQ_BETWEEN(ackno, lwip_ntohl(pcb->unsent->tcphdr->seqno) +
 817              		.loc 1 1222 0
 818 005a A36E     		ldr	r3, [r4, #104]
 819 005c 002B     		cmp	r3, #0
 820 005e 00F07681 		beq	.L97
1223:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                            TCP_TCPLEN(pcb->unsent), pcb->snd_nxt)) {
 821              		.loc 1 1223 0
 822 0062 9B4A     		ldr	r2, .L214+8
 823 0064 1568     		ldr	r5, [r2]
 824 0066 DB68     		ldr	r3, [r3, #12]
 825 0068 5868     		ldr	r0, [r3, #4]	@ unaligned
 826 006a FFF7FEFF 		bl	lwip_htonl
 827              	.LVL70:
ARM GAS  /tmp/ccCn7Yn1.s 			page 49


 828 006e 0646     		mov	r6, r0
 829 0070 A36E     		ldr	r3, [r4, #104]
 830 0072 1F89     		ldrh	r7, [r3, #8]
 831 0074 DB68     		ldr	r3, [r3, #12]
 832 0076 9889     		ldrh	r0, [r3, #12]	@ unaligned
 833 0078 FFF7FEFF 		bl	lwip_htons
 834              	.LVL71:
 835 007c 10F0030F 		tst	r0, #3
 836 0080 00F06381 		beq	.L165
 837 0084 0123     		movs	r3, #1
 838              	.L98:
1223:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                            TCP_TCPLEN(pcb->unsent), pcb->snd_nxt)) {
 839              		.loc 1 1223 0 is_stmt 0 discriminator 4
 840 0086 3B44     		add	r3, r3, r7
 841 0088 1E44     		add	r6, r6, r3
 842 008a AD1B     		subs	r5, r5, r6
1222:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****            TCP_SEQ_BETWEEN(ackno, lwip_ntohl(pcb->unsent->tcphdr->seqno) +
 843              		.loc 1 1222 0 is_stmt 1 discriminator 4
 844 008c 002D     		cmp	r5, #0
 845 008e C0F25E81 		blt	.L97
1223:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                            TCP_TCPLEN(pcb->unsent), pcb->snd_nxt)) {
 846              		.loc 1 1223 0
 847 0092 8F4B     		ldr	r3, .L214+8
 848 0094 1B68     		ldr	r3, [r3]
 849 0096 E26C     		ldr	r2, [r4, #76]
 850 0098 9B1A     		subs	r3, r3, r2
 851 009a 002B     		cmp	r3, #0
 852 009c 00F35781 		bgt	.L97
1229:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       pcb->unsent = pcb->unsent->next;
 853              		.loc 1 1229 0
 854 00a0 A56E     		ldr	r5, [r4, #104]
 855              	.LVL72:
1230:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #if TCP_OVERSIZE
 856              		.loc 1 1230 0
 857 00a2 2B68     		ldr	r3, [r5]
 858 00a4 A366     		str	r3, [r4, #104]
1232:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pcb->unsent_oversize = 0;
 859              		.loc 1 1232 0
 860 00a6 002B     		cmp	r3, #0
 861 00a8 00F04481 		beq	.L184
 862              	.L94:
1237:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* Prevent ACK for FIN to generate a sent event */
 863              		.loc 1 1237 0
 864 00ac B4F86260 		ldrh	r6, [r4, #98]
 865 00b0 6868     		ldr	r0, [r5, #4]
 866 00b2 FFF7FEFF 		bl	pbuf_clen
 867              	.LVL73:
 868 00b6 8642     		cmp	r6, r0
 869 00b8 C0F03F81 		bcc	.L185
 870              	.L95:
1239:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       recv_acked += next->len;
 871              		.loc 1 1239 0
 872 00bc 6868     		ldr	r0, [r5, #4]
 873 00be FFF7FEFF 		bl	pbuf_clen
 874              	.LVL74:
 875 00c2 B4F86230 		ldrh	r3, [r4, #98]
 876 00c6 181A     		subs	r0, r3, r0
ARM GAS  /tmp/ccCn7Yn1.s 			page 50


 877 00c8 A4F86200 		strh	r0, [r4, #98]	@ movhi
1240:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       tcp_seg_free(next);
 878              		.loc 1 1240 0
 879 00cc 2B89     		ldrh	r3, [r5, #8]
 880 00ce 814A     		ldr	r2, .L214+12
 881 00d0 1188     		ldrh	r1, [r2]
 882 00d2 0B44     		add	r3, r3, r1
 883 00d4 1380     		strh	r3, [r2]	@ movhi
1241:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       LWIP_DEBUGF(TCP_QLEN_DEBUG, ("%"TCPWNDSIZE_F" (after freeing unsent)\n", (tcpwnd_size_t)pcb->
 884              		.loc 1 1241 0
 885 00d6 2846     		mov	r0, r5
 886 00d8 FFF7FEFF 		bl	tcp_seg_free
 887              	.LVL75:
1243:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         LWIP_ASSERT("tcp_receive: valid queue length",
 888              		.loc 1 1243 0
 889 00dc B4F86230 		ldrh	r3, [r4, #98]
 890 00e0 002B     		cmp	r3, #0
 891 00e2 BAD0     		beq	.L81
1244:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           pcb->unacked != NULL || pcb->unsent != NULL);
 892              		.loc 1 1244 0
 893 00e4 E36E     		ldr	r3, [r4, #108]
 894 00e6 002B     		cmp	r3, #0
 895 00e8 B7D1     		bne	.L81
1244:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           pcb->unacked != NULL || pcb->unsent != NULL);
 896              		.loc 1 1244 0 is_stmt 0 discriminator 1
 897 00ea A36E     		ldr	r3, [r4, #104]
 898 00ec 002B     		cmp	r3, #0
 899 00ee B4D1     		bne	.L81
1244:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           pcb->unacked != NULL || pcb->unsent != NULL);
 900              		.loc 1 1244 0 discriminator 2
 901 00f0 794B     		ldr	r3, .L214+16
 902 00f2 40F2DD42 		movw	r2, #1245
 903 00f6 7949     		ldr	r1, .L214+20
 904 00f8 7948     		ldr	r0, .L214+24
 905 00fa FFF7FEFF 		bl	printf
 906              	.LVL76:
 907 00fe ACE7     		b	.L81
 908              	.LVL77:
 909              	.L179:
1032:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 910              		.loc 1 1032 0 is_stmt 1 discriminator 1
 911 0100 754B     		ldr	r3, .L214+16
 912 0102 4FF48162 		mov	r2, #1032
 913 0106 7749     		ldr	r1, .L214+28
 914 0108 7548     		ldr	r0, .L214+24
 915              	.LVL78:
 916 010a FFF7FEFF 		bl	printf
 917              	.LVL79:
 918 010e 7DE7     		b	.L69
 919              	.LVL80:
 920              	.L180:
1039:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****        (pcb->snd_wl2 == ackno && (u32_t)SND_WND_SCALE(pcb, tcphdr->wnd) > pcb->snd_wnd)) {
 921              		.loc 1 1039 0
 922 0110 6F49     		ldr	r1, .L214+8
 923 0112 0968     		ldr	r1, [r1]
 924 0114 511A     		subs	r1, r2, r1
 925 0116 0029     		cmp	r1, #0
ARM GAS  /tmp/ccCn7Yn1.s 			page 51


 926 0118 8ADA     		bge	.L72
 927 011a 04E0     		b	.L71
 928              	.L181:
1040:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       pcb->snd_wnd = SND_WND_SCALE(pcb, tcphdr->wnd);
 929              		.loc 1 1040 0
 930 011c 724A     		ldr	r2, .L214+32
 931 011e 1268     		ldr	r2, [r2]
 932 0120 D289     		ldrh	r2, [r2, #14]	@ unaligned
 933 0122 9042     		cmp	r0, r2
 934 0124 88D2     		bcs	.L73
 935              	.L71:
1041:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* keep track of the biggest window announced by the remote host to calculate
 936              		.loc 1 1041 0
 937 0126 704A     		ldr	r2, .L214+32
 938 0128 1268     		ldr	r2, [r2]
 939 012a D289     		ldrh	r2, [r2, #14]	@ unaligned
 940 012c 91B2     		uxth	r1, r2
 941 012e A4F85C20 		strh	r2, [r4, #92]	@ movhi
1044:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pcb->snd_wnd_max = pcb->snd_wnd;
 942              		.loc 1 1044 0
 943 0132 B4F85E00 		ldrh	r0, [r4, #94]
 944 0136 8142     		cmp	r1, r0
 945 0138 01D9     		bls	.L74
1045:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       }
 946              		.loc 1 1045 0
 947 013a A4F85E20 		strh	r2, [r4, #94]	@ movhi
 948              	.L74:
1047:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       pcb->snd_wl2 = ackno;
 949              		.loc 1 1047 0
 950 013e 2365     		str	r3, [r4, #80]
1048:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       if (pcb->snd_wnd == 0) {
 951              		.loc 1 1048 0
 952 0140 634B     		ldr	r3, .L214+8
 953 0142 1B68     		ldr	r3, [r3]
 954 0144 6365     		str	r3, [r4, #84]
1049:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         if (pcb->persist_backoff == 0) {
 955              		.loc 1 1049 0
 956 0146 51B9     		cbnz	r1, .L75
1050:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           /* start persist timer */
 957              		.loc 1 1050 0
 958 0148 94F89530 		ldrb	r3, [r4, #149]	@ zero_extendqisi2
 959 014c 002B     		cmp	r3, #0
 960 014e 7FF473AF 		bne	.L73
1052:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           pcb->persist_backoff = 1;
 961              		.loc 1 1052 0
 962 0152 84F89430 		strb	r3, [r4, #148]
1053:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         }
 963              		.loc 1 1053 0
 964 0156 0123     		movs	r3, #1
 965 0158 84F89530 		strb	r3, [r4, #149]
 966 015c 6CE7     		b	.L73
 967              	.L75:
1055:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         /* stop persist timer */
 968              		.loc 1 1055 0
 969 015e 94F89530 		ldrb	r3, [r4, #149]	@ zero_extendqisi2
 970 0162 002B     		cmp	r3, #0
 971 0164 3FF468AF 		beq	.L73
ARM GAS  /tmp/ccCn7Yn1.s 			page 52


1057:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       }
 972              		.loc 1 1057 0
 973 0168 0023     		movs	r3, #0
 974 016a 84F89530 		strb	r3, [r4, #149]
 975 016e 63E7     		b	.L73
 976              	.L182:
1094:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         /* Clause 3 */
 977              		.loc 1 1094 0
 978 0170 5E4A     		ldr	r2, .L214+36
 979 0172 1288     		ldrh	r2, [r2]
 980 0174 7ABB     		cbnz	r2, .L158
1096:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           /* Clause 4 */
 981              		.loc 1 1096 0
 982 0176 626D     		ldr	r2, [r4, #84]
 983 0178 B4F85C00 		ldrh	r0, [r4, #92]
 984 017c 0244     		add	r2, r2, r0
 985 017e 9642     		cmp	r6, r2
 986 0180 01D0     		beq	.L186
1026:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #if TCP_OOSEQ_MAX_BYTES || TCP_OOSEQ_MAX_PBUFS
 987              		.loc 1 1026 0
 988 0182 0023     		movs	r3, #0
 989 0184 28E0     		b	.L77
 990              	.L186:
1098:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             /* Clause 5 */
 991              		.loc 1 1098 0
 992 0186 B4F93020 		ldrsh	r2, [r4, #48]
 993 018a 002A     		cmp	r2, #0
 994 018c 2ADB     		blt	.L160
1100:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               found_dupack = 1;
 995              		.loc 1 1100 0
 996 018e 8B42     		cmp	r3, r1
 997 0190 01D0     		beq	.L187
1026:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #if TCP_OOSEQ_MAX_BYTES || TCP_OOSEQ_MAX_PBUFS
 998              		.loc 1 1026 0
 999 0192 0023     		movs	r3, #0
 1000 0194 20E0     		b	.L77
 1001              	.L187:
 1002              	.LVL81:
1102:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                 ++pcb->dupacks;
 1003              		.loc 1 1102 0
 1004 0196 94F84320 		ldrb	r2, [r4, #67]	@ zero_extendqisi2
 1005 019a 531C     		adds	r3, r2, #1
 1006 019c DBB2     		uxtb	r3, r3
 1007 019e 9A42     		cmp	r2, r3
 1008 01a0 01D2     		bcs	.L78
1103:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               }
 1009              		.loc 1 1103 0
 1010 01a2 84F84330 		strb	r3, [r4, #67]
 1011              	.L78:
1105:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                 /* Inflate the congestion window, but not if it means that
 1012              		.loc 1 1105 0
 1013 01a6 94F84330 		ldrb	r3, [r4, #67]	@ zero_extendqisi2
 1014 01aa 032B     		cmp	r3, #3
 1015 01ac 0AD9     		bls	.L79
1108:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                   pcb->cwnd += pcb->mss;
 1016              		.loc 1 1108 0
 1017 01ae B4F84820 		ldrh	r2, [r4, #72]
ARM GAS  /tmp/ccCn7Yn1.s 			page 53


 1018 01b2 638E     		ldrh	r3, [r4, #50]
 1019 01b4 1344     		add	r3, r3, r2
 1020 01b6 9BB2     		uxth	r3, r3
 1021 01b8 9A42     		cmp	r2, r3
 1022 01ba 15D2     		bcs	.L162
1109:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                 }
 1023              		.loc 1 1109 0
 1024 01bc A4F84830 		strh	r3, [r4, #72]	@ movhi
1101:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               if ((u8_t)(pcb->dupacks + 1) > pcb->dupacks) {
 1025              		.loc 1 1101 0
 1026 01c0 0123     		movs	r3, #1
 1027 01c2 09E0     		b	.L77
 1028              	.L79:
1111:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                 /* Do fast retransmit */
 1029              		.loc 1 1111 0
 1030 01c4 032B     		cmp	r3, #3
 1031 01c6 01D0     		beq	.L188
1101:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               if ((u8_t)(pcb->dupacks + 1) > pcb->dupacks) {
 1032              		.loc 1 1101 0
 1033 01c8 0123     		movs	r3, #1
 1034 01ca 05E0     		b	.L77
 1035              	.L188:
1113:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               }
 1036              		.loc 1 1113 0
 1037 01cc 2046     		mov	r0, r4
 1038 01ce FFF7FEFF 		bl	tcp_rexmit_fast
 1039              	.LVL82:
1101:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               if ((u8_t)(pcb->dupacks + 1) > pcb->dupacks) {
 1040              		.loc 1 1101 0
 1041 01d2 0123     		movs	r3, #1
 1042 01d4 00E0     		b	.L77
 1043              	.LVL83:
 1044              	.L158:
1026:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #if TCP_OOSEQ_MAX_BYTES || TCP_OOSEQ_MAX_PBUFS
 1045              		.loc 1 1026 0
 1046 01d6 0023     		movs	r3, #0
 1047              	.LVL84:
 1048              	.L77:
1121:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pcb->dupacks = 0;
 1049              		.loc 1 1121 0
 1050 01d8 002B     		cmp	r3, #0
 1051 01da 7FF43EAF 		bne	.L81
1122:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       }
 1052              		.loc 1 1122 0
 1053 01de 84F84330 		strb	r3, [r4, #67]
 1054 01e2 3AE7     		b	.L81
 1055              	.LVL85:
 1056              	.L160:
1026:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #if TCP_OOSEQ_MAX_BYTES || TCP_OOSEQ_MAX_PBUFS
 1057              		.loc 1 1026 0
 1058 01e4 0023     		movs	r3, #0
 1059 01e6 F7E7     		b	.L77
 1060              	.LVL86:
 1061              	.L162:
1101:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               if ((u8_t)(pcb->dupacks + 1) > pcb->dupacks) {
 1062              		.loc 1 1101 0
 1063 01e8 0123     		movs	r3, #1
ARM GAS  /tmp/ccCn7Yn1.s 			page 54


 1064 01ea F5E7     		b	.L77
 1065              	.LVL87:
 1066              	.L183:
1130:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pcb->flags &= ~TF_INFR;
 1067              		.loc 1 1130 0
 1068 01ec A27E     		ldrb	r2, [r4, #26]	@ zero_extendqisi2
 1069 01ee 12F0040F 		tst	r2, #4
 1070 01f2 06D0     		beq	.L83
1131:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pcb->cwnd = pcb->ssthresh;
 1071              		.loc 1 1131 0
 1072 01f4 22F00402 		bic	r2, r2, #4
 1073 01f8 A276     		strb	r2, [r4, #26]
1132:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       }
 1074              		.loc 1 1132 0
 1075 01fa B4F84A20 		ldrh	r2, [r4, #74]
 1076 01fe A4F84820 		strh	r2, [r4, #72]	@ movhi
 1077              	.L83:
1136:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 1078              		.loc 1 1136 0
 1079 0202 0021     		movs	r1, #0
 1080 0204 84F84210 		strb	r1, [r4, #66]
1139:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 1081              		.loc 1 1139 0
 1082 0208 B4F93C00 		ldrsh	r0, [r4, #60]
 1083 020c E28F     		ldrh	r2, [r4, #62]
 1084 020e 02EBE002 		add	r2, r2, r0, asr #3
 1085 0212 A4F84020 		strh	r2, [r4, #64]	@ movhi
1142:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       pcb->lastack = ackno;
 1086              		.loc 1 1142 0
 1087 0216 84F84310 		strb	r1, [r4, #67]
1143:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 1088              		.loc 1 1143 0
 1089 021a 6364     		str	r3, [r4, #68]
1147:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         if (pcb->cwnd < pcb->ssthresh) {
 1090              		.loc 1 1147 0
 1091 021c 237D     		ldrb	r3, [r4, #20]	@ zero_extendqisi2
 1092 021e 032B     		cmp	r3, #3
 1093 0220 0CD9     		bls	.L86
1148:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           if ((tcpwnd_size_t)(pcb->cwnd + pcb->mss) > pcb->cwnd) {
 1094              		.loc 1 1148 0
 1095 0222 B4F84820 		ldrh	r2, [r4, #72]
 1096 0226 B4F84A30 		ldrh	r3, [r4, #74]
 1097 022a 9A42     		cmp	r2, r3
 1098 022c 60D2     		bcs	.L85
1149:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             pcb->cwnd += pcb->mss;
 1099              		.loc 1 1149 0
 1100 022e 638E     		ldrh	r3, [r4, #50]
 1101 0230 1344     		add	r3, r3, r2
 1102 0232 9BB2     		uxth	r3, r3
 1103 0234 9A42     		cmp	r2, r3
 1104 0236 01D2     		bcs	.L86
1150:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           }
 1105              		.loc 1 1150 0
 1106 0238 A4F84830 		strh	r3, [r4, #72]	@ movhi
 1107              	.LVL88:
 1108              	.L86:
1170:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****              TCP_SEQ_LEQ(lwip_ntohl(pcb->unacked->tcphdr->seqno) +
ARM GAS  /tmp/ccCn7Yn1.s 			page 55


 1109              		.loc 1 1170 0
 1110 023c E36E     		ldr	r3, [r4, #108]
 1111 023e 002B     		cmp	r3, #0
 1112 0240 6DD0     		beq	.L89
1171:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                          TCP_TCPLEN(pcb->unacked), ackno)) {
 1113              		.loc 1 1171 0
 1114 0242 DB68     		ldr	r3, [r3, #12]
 1115 0244 5868     		ldr	r0, [r3, #4]	@ unaligned
 1116 0246 FFF7FEFF 		bl	lwip_htonl
 1117              	.LVL89:
 1118 024a 0546     		mov	r5, r0
 1119 024c E36E     		ldr	r3, [r4, #108]
 1120 024e 1E89     		ldrh	r6, [r3, #8]
 1121 0250 DB68     		ldr	r3, [r3, #12]
 1122 0252 9889     		ldrh	r0, [r3, #12]	@ unaligned
 1123 0254 FFF7FEFF 		bl	lwip_htons
 1124              	.LVL90:
 1125 0258 10F0030F 		tst	r0, #3
 1126 025c 5DD0     		beq	.L164
 1127 025e 0123     		movs	r3, #1
 1128              	.L90:
1171:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                          TCP_TCPLEN(pcb->unacked), ackno)) {
 1129              		.loc 1 1171 0 is_stmt 0 discriminator 4
 1130 0260 3344     		add	r3, r3, r6
 1131 0262 1D44     		add	r5, r5, r3
 1132 0264 1A4B     		ldr	r3, .L214+8
 1133 0266 1B68     		ldr	r3, [r3]
 1134 0268 ED1A     		subs	r5, r5, r3
1170:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****              TCP_SEQ_LEQ(lwip_ntohl(pcb->unacked->tcphdr->seqno) +
 1135              		.loc 1 1170 0 is_stmt 1 discriminator 4
 1136 026a 002D     		cmp	r5, #0
 1137 026c 57DC     		bgt	.L89
1178:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pcb->unacked = pcb->unacked->next;
 1138              		.loc 1 1178 0
 1139 026e E56E     		ldr	r5, [r4, #108]
 1140              	.LVL91:
1179:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 1141              		.loc 1 1179 0
 1142 0270 2B68     		ldr	r3, [r5]
 1143 0272 E366     		str	r3, [r4, #108]
1182:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 1144              		.loc 1 1182 0
 1145 0274 B4F86260 		ldrh	r6, [r4, #98]
 1146 0278 6868     		ldr	r0, [r5, #4]
 1147 027a FFF7FEFF 		bl	pbuf_clen
 1148              	.LVL92:
 1149 027e 8642     		cmp	r6, r0
 1150 0280 43D3     		bcc	.L189
 1151              	.L87:
1184:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         recv_acked += next->len;
 1152              		.loc 1 1184 0
 1153 0282 6868     		ldr	r0, [r5, #4]
 1154 0284 FFF7FEFF 		bl	pbuf_clen
 1155              	.LVL93:
 1156 0288 B4F86230 		ldrh	r3, [r4, #98]
 1157 028c 181A     		subs	r0, r3, r0
 1158 028e A4F86200 		strh	r0, [r4, #98]	@ movhi
ARM GAS  /tmp/ccCn7Yn1.s 			page 56


1185:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         tcp_seg_free(next);
 1159              		.loc 1 1185 0
 1160 0292 2B89     		ldrh	r3, [r5, #8]
 1161 0294 0F4A     		ldr	r2, .L214+12
 1162 0296 1188     		ldrh	r1, [r2]
 1163 0298 0B44     		add	r3, r3, r1
 1164 029a 1380     		strh	r3, [r2]	@ movhi
1186:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 1165              		.loc 1 1186 0
 1166 029c 2846     		mov	r0, r5
 1167 029e FFF7FEFF 		bl	tcp_seg_free
 1168              	.LVL94:
1189:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           LWIP_ASSERT("tcp_receive: valid queue length", pcb->unacked != NULL ||
 1169              		.loc 1 1189 0
 1170 02a2 B4F86230 		ldrh	r3, [r4, #98]
 1171 02a6 002B     		cmp	r3, #0
 1172 02a8 C8D0     		beq	.L86
1190:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                       pcb->unsent != NULL);
 1173              		.loc 1 1190 0
 1174 02aa E36E     		ldr	r3, [r4, #108]
 1175 02ac 002B     		cmp	r3, #0
 1176 02ae C5D1     		bne	.L86
1190:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                       pcb->unsent != NULL);
 1177              		.loc 1 1190 0 is_stmt 0 discriminator 1
 1178 02b0 A36E     		ldr	r3, [r4, #104]
 1179 02b2 002B     		cmp	r3, #0
 1180 02b4 C2D1     		bne	.L86
1190:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                       pcb->unsent != NULL);
 1181              		.loc 1 1190 0 discriminator 2
 1182 02b6 084B     		ldr	r3, .L214+16
 1183 02b8 40F2A742 		movw	r2, #1191
 1184 02bc 0749     		ldr	r1, .L214+20
 1185 02be 0848     		ldr	r0, .L214+24
 1186 02c0 FFF7FEFF 		bl	printf
 1187              	.LVL95:
 1188 02c4 BAE7     		b	.L86
 1189              	.L215:
 1190 02c6 00BF     		.align	2
 1191              	.L214:
 1192 02c8 00000000 		.word	.LANCHOR6
 1193 02cc 00000000 		.word	.LANCHOR7
 1194 02d0 00000000 		.word	.LANCHOR9
 1195 02d4 00000000 		.word	.LANCHOR10
 1196 02d8 00000000 		.word	.LC0
 1197 02dc 9C000000 		.word	.LC4
 1198 02e0 4C000000 		.word	.LC2
 1199 02e4 30000000 		.word	.LC1
 1200 02e8 00000000 		.word	.LANCHOR3
 1201 02ec 00000000 		.word	.LANCHOR8
 1202              	.LVL96:
 1203              	.L85:
 1204              	.LBB6:
1154:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           if (new_cwnd > pcb->cwnd) {
 1205              		.loc 1 1154 0 is_stmt 1
 1206 02f0 638E     		ldrh	r3, [r4, #50]
 1207 02f2 03FB03F3 		mul	r3, r3, r3
 1208 02f6 93FBF2F3 		sdiv	r3, r3, r2
ARM GAS  /tmp/ccCn7Yn1.s 			page 57


 1209 02fa 12FA83F3 		uxtah	r3, r2, r3
 1210 02fe 9BB2     		uxth	r3, r3
 1211              	.LVL97:
1155:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             pcb->cwnd = new_cwnd;
 1212              		.loc 1 1155 0
 1213 0300 9A42     		cmp	r2, r3
 1214 0302 9BD2     		bcs	.L86
1156:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           }
 1215              		.loc 1 1156 0
 1216 0304 A4F84830 		strh	r3, [r4, #72]	@ movhi
 1217 0308 98E7     		b	.L86
 1218              	.LVL98:
 1219              	.L189:
 1220              	.LBE6:
1182:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 1221              		.loc 1 1182 0 discriminator 1
 1222 030a A24B     		ldr	r3, .L216
 1223 030c 40F29E42 		movw	r2, #1182
 1224 0310 A149     		ldr	r1, .L216+4
 1225 0312 A248     		ldr	r0, .L216+8
 1226 0314 FFF7FEFF 		bl	printf
 1227              	.LVL99:
 1228 0318 B3E7     		b	.L87
 1229              	.LVL100:
 1230              	.L164:
1171:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                          TCP_TCPLEN(pcb->unacked), ackno)) {
 1231              		.loc 1 1171 0
 1232 031a 0023     		movs	r3, #0
 1233 031c A0E7     		b	.L90
 1234              	.L89:
1197:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pcb->rtime = -1;
 1235              		.loc 1 1197 0
 1236 031e E36E     		ldr	r3, [r4, #108]
 1237 0320 23B1     		cbz	r3, .L190
1200:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       }
 1238              		.loc 1 1200 0
 1239 0322 0023     		movs	r3, #0
 1240 0324 2386     		strh	r3, [r4, #48]	@ movhi
 1241              	.L93:
1203:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 1242              		.loc 1 1203 0
 1243 0326 0023     		movs	r3, #0
 1244 0328 E376     		strb	r3, [r4, #27]
 1245 032a 96E6     		b	.L81
 1246              	.L190:
1198:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       } else {
 1247              		.loc 1 1198 0
 1248 032c 4FF6FF73 		movw	r3, #65535
 1249 0330 2386     		strh	r3, [r4, #48]	@ movhi
 1250 0332 F8E7     		b	.L93
 1251              	.LVL101:
 1252              	.L184:
1233:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       }
 1253              		.loc 1 1233 0
 1254 0334 A4F86430 		strh	r3, [r4, #100]	@ movhi
 1255 0338 B8E6     		b	.L94
 1256              	.L185:
ARM GAS  /tmp/ccCn7Yn1.s 			page 58


1237:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* Prevent ACK for FIN to generate a sent event */
 1257              		.loc 1 1237 0 discriminator 1
 1258 033a 964B     		ldr	r3, .L216
 1259 033c 40F2D542 		movw	r2, #1237
 1260 0340 9549     		ldr	r1, .L216+4
 1261 0342 9648     		ldr	r0, .L216+8
 1262 0344 FFF7FEFF 		bl	printf
 1263              	.LVL102:
 1264 0348 B8E6     		b	.L95
 1265              	.LVL103:
 1266              	.L165:
1223:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                            TCP_TCPLEN(pcb->unsent), pcb->snd_nxt)) {
 1267              		.loc 1 1223 0
 1268 034a 0023     		movs	r3, #0
 1269 034c 9BE6     		b	.L98
 1270              	.L97:
1248:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* End of ACK for new data processing. */
 1271              		.loc 1 1248 0
 1272 034e B4F86030 		ldrh	r3, [r4, #96]
 1273 0352 934A     		ldr	r2, .L216+12
 1274 0354 1288     		ldrh	r2, [r2]
 1275 0356 1344     		add	r3, r3, r2
 1276 0358 A4F86030 		strh	r3, [r4, #96]	@ movhi
1257:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* diff between this shouldn't exceed 32K since this are tcp timer ticks
 1277              		.loc 1 1257 0
 1278 035c 636B     		ldr	r3, [r4, #52]
 1279 035e 2BB1     		cbz	r3, .L70
1257:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* diff between this shouldn't exceed 32K since this are tcp timer ticks
 1280              		.loc 1 1257 0 is_stmt 0 discriminator 1
 1281 0360 A26B     		ldr	r2, [r4, #56]
 1282 0362 9049     		ldr	r1, .L216+16
 1283 0364 0968     		ldr	r1, [r1]
 1284 0366 521A     		subs	r2, r2, r1
 1285 0368 002A     		cmp	r2, #0
 1286 036a 29DB     		blt	.L191
 1287              	.L70:
1286:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* This code basically does three things:
 1288              		.loc 1 1286 0 is_stmt 1
 1289 036c 8E4B     		ldr	r3, .L216+20
 1290 036e 1B88     		ldrh	r3, [r3]
 1291 0370 002B     		cmp	r3, #0
 1292 0372 00F04B83 		beq	.L101
1286:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* This code basically does three things:
 1293              		.loc 1 1286 0 is_stmt 0 discriminator 1
 1294 0376 227D     		ldrb	r2, [r4, #20]	@ zero_extendqisi2
 1295 0378 062A     		cmp	r2, #6
 1296 037a 00F24783 		bhi	.L101
1317:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* Trimming the first edge is done by pushing the payload
 1297              		.loc 1 1317 0 is_stmt 1
 1298 037e 616A     		ldr	r1, [r4, #36]
 1299 0380 8A4A     		ldr	r2, .L216+24
 1300 0382 1268     		ldr	r2, [r2]
 1301 0384 8E1A     		subs	r6, r1, r2
 1302 0386 012E     		cmp	r6, #1
 1303 0388 04D4     		bmi	.L102
1317:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* Trimming the first edge is done by pushing the payload
 1304              		.loc 1 1317 0 is_stmt 0 discriminator 1
ARM GAS  /tmp/ccCn7Yn1.s 			page 59


 1305 038a 1344     		add	r3, r3, r2
 1306 038c CB1A     		subs	r3, r1, r3
 1307 038e 0133     		adds	r3, r3, #1
 1308 0390 002B     		cmp	r3, #0
 1309 0392 36DD     		ble	.L192
 1310              	.L102:
1368:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         /* the whole segment is < rcv_nxt */
 1311              		.loc 1 1368 0 is_stmt 1
 1312 0394 521A     		subs	r2, r2, r1
 1313 0396 002A     		cmp	r2, #0
 1314 0398 C0F29380 		blt	.L193
 1315              	.L110:
1380:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                         pcb->rcv_nxt + pcb->rcv_wnd - 1)) {
 1316              		.loc 1 1380 0
 1317 039c 834B     		ldr	r3, .L216+24
 1318 039e 1968     		ldr	r1, [r3]
 1319 03a0 626A     		ldr	r2, [r4, #36]
 1320 03a2 8B1A     		subs	r3, r1, r2
 1321 03a4 002B     		cmp	r3, #0
 1322 03a6 06DB     		blt	.L111
1380:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                         pcb->rcv_nxt + pcb->rcv_wnd - 1)) {
 1323              		.loc 1 1380 0 is_stmt 0 discriminator 1
 1324 03a8 238D     		ldrh	r3, [r4, #40]
 1325 03aa 1344     		add	r3, r3, r2
 1326 03ac CB1A     		subs	r3, r1, r3
 1327 03ae 0133     		adds	r3, r3, #1
 1328 03b0 002B     		cmp	r3, #0
 1329 03b2 40F38B80 		ble	.L194
 1330              	.L111:
1697:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
 1331              		.loc 1 1697 0 is_stmt 1
 1332 03b6 2046     		mov	r0, r4
 1333 03b8 FFF7FEFF 		bl	tcp_send_empty_ack
 1334              	.LVL104:
 1335 03bc BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 1336              	.LVL105:
 1337              	.L191:
1260:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 1338              		.loc 1 1260 0
 1339 03c0 7B4A     		ldr	r2, .L216+28
 1340 03c2 1268     		ldr	r2, [r2]
 1341 03c4 D21A     		subs	r2, r2, r3
 1342 03c6 92B2     		uxth	r2, r2
 1343              	.LVL106:
1266:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       pcb->sa += m;
 1344              		.loc 1 1266 0
 1345 03c8 B4F93C10 		ldrsh	r1, [r4, #60]
 1346 03cc A2EBE102 		sub	r2, r2, r1, asr #3
 1347              	.LVL107:
 1348 03d0 92B2     		uxth	r2, r2
 1349 03d2 13B2     		sxth	r3, r2
 1350              	.LVL108:
1267:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       if (m < 0) {
 1351              		.loc 1 1267 0
 1352 03d4 1144     		add	r1, r1, r2
 1353 03d6 09B2     		sxth	r1, r1
 1354 03d8 A187     		strh	r1, [r4, #60]	@ movhi
ARM GAS  /tmp/ccCn7Yn1.s 			page 60


1268:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         m = -m;
 1355              		.loc 1 1268 0
 1356 03da 002B     		cmp	r3, #0
 1357 03dc 0EDB     		blt	.L195
 1358              	.L100:
1271:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       pcb->sv += m;
 1359              		.loc 1 1271 0
 1360 03de B4F93E20 		ldrsh	r2, [r4, #62]
 1361 03e2 A3EBA203 		sub	r3, r3, r2, asr #2
 1362              	.LVL109:
1272:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       pcb->rto = (pcb->sa >> 3) + pcb->sv;
 1363              		.loc 1 1272 0
 1364 03e6 12FA83F3 		uxtah	r3, r2, r3
 1365              	.LVL110:
 1366 03ea 9BB2     		uxth	r3, r3
 1367 03ec E387     		strh	r3, [r4, #62]	@ movhi
1273:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 1368              		.loc 1 1273 0
 1369 03ee 03EBE103 		add	r3, r3, r1, asr #3
 1370 03f2 A4F84030 		strh	r3, [r4, #64]	@ movhi
1278:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
 1371              		.loc 1 1278 0
 1372 03f6 0023     		movs	r3, #0
 1373 03f8 6363     		str	r3, [r4, #52]
 1374 03fa B7E7     		b	.L70
 1375              	.LVL111:
 1376              	.L195:
1269:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       }
 1377              		.loc 1 1269 0
 1378 03fc 5342     		negs	r3, r2
 1379              	.LVL112:
 1380 03fe 1BB2     		sxth	r3, r3
 1381              	.LVL113:
 1382 0400 EDE7     		b	.L100
 1383              	.LVL114:
 1384              	.L192:
 1385              	.LBB7:
1338:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       off = pcb->rcv_nxt - seqno;
 1386              		.loc 1 1338 0
 1387 0402 6C4B     		ldr	r3, .L216+32
 1388 0404 5D68     		ldr	r5, [r3, #4]
 1389              	.LVL115:
1339:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       LWIP_ASSERT("inseg.p != NULL", inseg.p);
 1390              		.loc 1 1339 0
 1391 0406 3746     		mov	r7, r6
 1392              	.LVL116:
1340:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       LWIP_ASSERT("insane offset!", (off < 0x7fff));
 1393              		.loc 1 1340 0
 1394 0408 95B1     		cbz	r5, .L196
 1395              	.LVL117:
 1396              	.L103:
1341:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       if (inseg.p->len < off) {
 1397              		.loc 1 1341 0
 1398 040a 47F6FE73 		movw	r3, #32766
 1399 040e 9E42     		cmp	r6, r3
 1400 0410 16DC     		bgt	.L197
 1401              	.L104:
ARM GAS  /tmp/ccCn7Yn1.s 			page 61


1342:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         LWIP_ASSERT("pbuf too short!", (((s32_t)inseg.p->tot_len) >= off));
 1402              		.loc 1 1342 0
 1403 0412 684B     		ldr	r3, .L216+32
 1404 0414 5868     		ldr	r0, [r3, #4]
 1405 0416 4389     		ldrh	r3, [r0, #10]
 1406 0418 9E42     		cmp	r6, r3
 1407 041a 44DD     		ble	.L105
1343:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         new_tot_len = (u16_t)(inseg.p->tot_len - off);
 1408              		.loc 1 1343 0
 1409 041c 0389     		ldrh	r3, [r0, #8]
 1410 041e 9E42     		cmp	r6, r3
 1411 0420 16DC     		bgt	.L198
 1412              	.L106:
1344:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         while (p->len < off) {
 1413              		.loc 1 1344 0
 1414 0422 644B     		ldr	r3, .L216+32
 1415 0424 5B68     		ldr	r3, [r3, #4]
 1416 0426 1A89     		ldrh	r2, [r3, #8]
 1417 0428 B6B2     		uxth	r6, r6
 1418              	.LVL118:
 1419 042a 921B     		subs	r2, r2, r6
 1420 042c 92B2     		uxth	r2, r2
 1421              	.LVL119:
1345:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           off -= p->len;
 1422              		.loc 1 1345 0
 1423 042e 1CE0     		b	.L107
 1424              	.LVL120:
 1425              	.L196:
1340:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       LWIP_ASSERT("insane offset!", (off < 0x7fff));
 1426              		.loc 1 1340 0 discriminator 1
 1427 0430 584B     		ldr	r3, .L216
 1428 0432 40F23C52 		movw	r2, #1340
 1429 0436 6049     		ldr	r1, .L216+36
 1430 0438 5848     		ldr	r0, .L216+8
 1431 043a FFF7FEFF 		bl	printf
 1432              	.LVL121:
 1433 043e E4E7     		b	.L103
 1434              	.L197:
1341:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       if (inseg.p->len < off) {
 1435              		.loc 1 1341 0 discriminator 1
 1436 0440 544B     		ldr	r3, .L216
 1437 0442 40F23D52 		movw	r2, #1341
 1438 0446 5D49     		ldr	r1, .L216+40
 1439 0448 5448     		ldr	r0, .L216+8
 1440 044a FFF7FEFF 		bl	printf
 1441              	.LVL122:
 1442 044e E0E7     		b	.L104
 1443              	.L198:
1343:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         new_tot_len = (u16_t)(inseg.p->tot_len - off);
 1444              		.loc 1 1343 0 discriminator 1
 1445 0450 504B     		ldr	r3, .L216
 1446 0452 40F23F52 		movw	r2, #1343
 1447 0456 5A49     		ldr	r1, .L216+44
 1448 0458 5048     		ldr	r0, .L216+8
 1449 045a FFF7FEFF 		bl	printf
 1450              	.LVL123:
 1451 045e E0E7     		b	.L106
ARM GAS  /tmp/ccCn7Yn1.s 			page 62


 1452              	.LVL124:
 1453              	.L108:
1346:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           /* KJM following line changed (with addition of new_tot_len var)
 1454              		.loc 1 1346 0
 1455 0460 FF1A     		subs	r7, r7, r3
 1456              	.LVL125:
1350:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           p->len = 0;
 1457              		.loc 1 1350 0
 1458 0462 2A81     		strh	r2, [r5, #8]	@ movhi
1351:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           p = p->next;
 1459              		.loc 1 1351 0
 1460 0464 0023     		movs	r3, #0
 1461 0466 6B81     		strh	r3, [r5, #10]	@ movhi
1352:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         }
 1462              		.loc 1 1352 0
 1463 0468 2D68     		ldr	r5, [r5]
 1464              	.LVL126:
 1465              	.L107:
1345:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           off -= p->len;
 1466              		.loc 1 1345 0
 1467 046a 6B89     		ldrh	r3, [r5, #10]
 1468 046c 9F42     		cmp	r7, r3
 1469 046e F7DC     		bgt	.L108
1354:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           /* Do we need to cope with this failing?  Assert for now */
 1470              		.loc 1 1354 0
 1471 0470 7942     		negs	r1, r7
 1472 0472 09B2     		sxth	r1, r1
 1473 0474 2846     		mov	r0, r5
 1474 0476 FFF7FEFF 		bl	pbuf_header
 1475              	.LVL127:
 1476 047a 60B9     		cbnz	r0, .L199
 1477              	.L109:
1364:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       inseg.tcphdr->seqno = seqno = pcb->rcv_nxt;
 1478              		.loc 1 1364 0
 1479 047c 626A     		ldr	r2, [r4, #36]
 1480 047e 4B48     		ldr	r0, .L216+24
 1481 0480 0368     		ldr	r3, [r0]
 1482 0482 9B1A     		subs	r3, r3, r2
 1483 0484 4B49     		ldr	r1, .L216+32
 1484 0486 0D89     		ldrh	r5, [r1, #8]
 1485              	.LVL128:
 1486 0488 15FA83F3 		uxtah	r3, r5, r3
 1487 048c 0B81     		strh	r3, [r1, #8]	@ movhi
1365:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
 1488              		.loc 1 1365 0
 1489 048e CB68     		ldr	r3, [r1, #12]
 1490 0490 0260     		str	r2, [r0]
 1491 0492 5A60     		str	r2, [r3, #4]	@ unaligned
 1492              	.LBE7:
1317:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* Trimming the first edge is done by pushing the payload
 1493              		.loc 1 1317 0
 1494 0494 82E7     		b	.L110
 1495              	.LVL129:
 1496              	.L199:
 1497              	.LBB8:
1356:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         }
 1498              		.loc 1 1356 0 discriminator 1
ARM GAS  /tmp/ccCn7Yn1.s 			page 63


 1499 0496 3F4B     		ldr	r3, .L216
 1500 0498 40F24C52 		movw	r2, #1356
 1501 049c 4949     		ldr	r1, .L216+48
 1502 049e 3F48     		ldr	r0, .L216+8
 1503 04a0 FFF7FEFF 		bl	printf
 1504              	.LVL130:
 1505 04a4 EAE7     		b	.L109
 1506              	.LVL131:
 1507              	.L105:
1359:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           /* Do we need to cope with this failing?  Assert for now */
 1508              		.loc 1 1359 0
 1509 04a6 7142     		negs	r1, r6
 1510 04a8 09B2     		sxth	r1, r1
 1511 04aa FFF7FEFF 		bl	pbuf_header
 1512              	.LVL132:
 1513 04ae 0028     		cmp	r0, #0
 1514 04b0 E4D0     		beq	.L109
1361:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         }
 1515              		.loc 1 1361 0 discriminator 1
 1516 04b2 384B     		ldr	r3, .L216
 1517 04b4 40F25152 		movw	r2, #1361
 1518 04b8 4249     		ldr	r1, .L216+48
 1519 04ba 3848     		ldr	r0, .L216+8
 1520 04bc FFF7FEFF 		bl	printf
 1521              	.LVL133:
 1522 04c0 DCE7     		b	.L109
 1523              	.LVL134:
 1524              	.L193:
 1525              	.LBE8:
1373:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       }
 1526              		.loc 1 1373 0
 1527 04c2 A37E     		ldrb	r3, [r4, #26]	@ zero_extendqisi2
 1528 04c4 43F00203 		orr	r3, r3, #2
 1529 04c8 A376     		strb	r3, [r4, #26]
 1530 04ca 67E7     		b	.L110
 1531              	.L194:
1382:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         /* The incoming segment is the next in sequence. We check if
 1532              		.loc 1 1382 0
 1533 04cc 9142     		cmp	r1, r2
 1534 04ce 08D0     		beq	.L200
1546:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #if TCP_QUEUE_OOSEQ
 1535              		.loc 1 1546 0
 1536 04d0 2046     		mov	r0, r4
 1537 04d2 FFF7FEFF 		bl	tcp_send_empty_ack
 1538              	.LVL135:
1549:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           pcb->ooseq = tcp_seg_copy(&inseg);
 1539              		.loc 1 1549 0
 1540 04d6 256F     		ldr	r5, [r4, #112]
 1541 04d8 002D     		cmp	r5, #0
 1542 04da 00F0AD81 		beq	.L201
 1543 04de 0026     		movs	r6, #0
 1544 04e0 E4E1     		b	.L146
 1545              	.L200:
1386:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 1546              		.loc 1 1386 0
 1547 04e2 344B     		ldr	r3, .L216+32
 1548 04e4 1D89     		ldrh	r5, [r3, #8]
ARM GAS  /tmp/ccCn7Yn1.s 			page 64


 1549 04e6 DB68     		ldr	r3, [r3, #12]
 1550 04e8 9889     		ldrh	r0, [r3, #12]	@ unaligned
 1551 04ea FFF7FEFF 		bl	lwip_htons
 1552              	.LVL136:
 1553 04ee 10F0030F 		tst	r0, #3
 1554 04f2 15D0     		beq	.L166
 1555 04f4 0123     		movs	r3, #1
 1556              	.L113:
1386:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 1557              		.loc 1 1386 0 is_stmt 0 discriminator 4
 1558 04f6 2B44     		add	r3, r3, r5
 1559 04f8 9BB2     		uxth	r3, r3
 1560 04fa 2B4A     		ldr	r2, .L216+20
 1561 04fc 1380     		strh	r3, [r2]	@ movhi
1388:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           LWIP_DEBUGF(TCP_INPUT_DEBUG,
 1562              		.loc 1 1388 0 is_stmt 1 discriminator 4
 1563 04fe 228D     		ldrh	r2, [r4, #40]
 1564 0500 9342     		cmp	r3, r2
 1565 0502 0FD8     		bhi	.L202
 1566              	.L114:
1413:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           if (TCPH_FLAGS(inseg.tcphdr) & TCP_FIN) {
 1567              		.loc 1 1413 0
 1568 0504 236F     		ldr	r3, [r4, #112]
 1569 0506 002B     		cmp	r3, #0
 1570 0508 00F0ED80 		beq	.L118
1414:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             LWIP_DEBUGF(TCP_INPUT_DEBUG,
 1571              		.loc 1 1414 0
 1572 050c 294B     		ldr	r3, .L216+32
 1573 050e DB68     		ldr	r3, [r3, #12]
 1574 0510 9889     		ldrh	r0, [r3, #12]	@ unaligned
 1575 0512 FFF7FEFF 		bl	lwip_htons
 1576              	.LVL137:
 1577 0516 10F0010F 		tst	r0, #1
 1578 051a 68D1     		bne	.L119
1426:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             /* Remove all segments on ooseq that are covered by inseg already.
 1579              		.loc 1 1426 0
 1580 051c 256F     		ldr	r5, [r4, #112]
 1581              	.LVL138:
1429:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                    TCP_SEQ_GEQ(seqno + tcplen,
 1582              		.loc 1 1429 0
 1583 051e 77E0     		b	.L122
 1584              	.LVL139:
 1585              	.L166:
1386:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 1586              		.loc 1 1386 0
 1587 0520 0023     		movs	r3, #0
 1588 0522 E8E7     		b	.L113
 1589              	.L202:
1393:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             /* Must remove the FIN from the header as we're trimming
 1590              		.loc 1 1393 0
 1591 0524 234B     		ldr	r3, .L216+32
 1592 0526 DB68     		ldr	r3, [r3, #12]
 1593 0528 9889     		ldrh	r0, [r3, #12]	@ unaligned
 1594 052a FFF7FEFF 		bl	lwip_htons
 1595              	.LVL140:
 1596 052e 10F0010F 		tst	r0, #1
 1597 0532 4BD1     		bne	.L203
ARM GAS  /tmp/ccCn7Yn1.s 			page 65


 1598              	.L115:
1400:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           if (TCPH_FLAGS(inseg.tcphdr) & TCP_SYN) {
 1599              		.loc 1 1400 0
 1600 0534 228D     		ldrh	r2, [r4, #40]
 1601 0536 1F4B     		ldr	r3, .L216+32
 1602 0538 1A81     		strh	r2, [r3, #8]	@ movhi
1401:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             inseg.len -= 1;
 1603              		.loc 1 1401 0
 1604 053a DB68     		ldr	r3, [r3, #12]
 1605 053c 9889     		ldrh	r0, [r3, #12]	@ unaligned
 1606 053e FFF7FEFF 		bl	lwip_htons
 1607              	.LVL141:
 1608 0542 10F0020F 		tst	r0, #2
 1609 0546 03D0     		beq	.L116
1402:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           }
 1610              		.loc 1 1402 0
 1611 0548 1A4A     		ldr	r2, .L216+32
 1612 054a 1389     		ldrh	r3, [r2, #8]
 1613 054c 013B     		subs	r3, r3, #1
 1614 054e 1381     		strh	r3, [r2, #8]	@ movhi
 1615              	.L116:
1404:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           tcplen = TCP_TCPLEN(&inseg);
 1616              		.loc 1 1404 0
 1617 0550 184D     		ldr	r5, .L216+32
 1618 0552 2989     		ldrh	r1, [r5, #8]
 1619 0554 6868     		ldr	r0, [r5, #4]
 1620 0556 FFF7FEFF 		bl	pbuf_realloc
 1621              	.LVL142:
1405:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           LWIP_ASSERT("tcp_receive: segment not trimmed correctly to rcv_wnd\n",
 1622              		.loc 1 1405 0
 1623 055a 2E89     		ldrh	r6, [r5, #8]
 1624 055c EB68     		ldr	r3, [r5, #12]
 1625 055e 9889     		ldrh	r0, [r3, #12]	@ unaligned
 1626 0560 FFF7FEFF 		bl	lwip_htons
 1627              	.LVL143:
 1628 0564 10F0030F 		tst	r0, #3
 1629 0568 3FD0     		beq	.L167
 1630 056a 0123     		movs	r3, #1
 1631              	.L117:
1405:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           LWIP_ASSERT("tcp_receive: segment not trimmed correctly to rcv_wnd\n",
 1632              		.loc 1 1405 0 is_stmt 0 discriminator 4
 1633 056c 3344     		add	r3, r3, r6
 1634 056e 9BB2     		uxth	r3, r3
 1635 0570 0D4A     		ldr	r2, .L216+20
 1636 0572 1380     		strh	r3, [r2]	@ movhi
1406:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                       (seqno + tcplen) == (pcb->rcv_nxt + pcb->rcv_wnd));
 1637              		.loc 1 1406 0 is_stmt 1 discriminator 4
 1638 0574 0D4A     		ldr	r2, .L216+24
 1639 0576 1268     		ldr	r2, [r2]
 1640 0578 1344     		add	r3, r3, r2
 1641 057a 626A     		ldr	r2, [r4, #36]
 1642 057c 218D     		ldrh	r1, [r4, #40]
 1643 057e 0A44     		add	r2, r2, r1
 1644 0580 9342     		cmp	r3, r2
 1645 0582 BFD0     		beq	.L114
1406:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                       (seqno + tcplen) == (pcb->rcv_nxt + pcb->rcv_wnd));
 1646              		.loc 1 1406 0 is_stmt 0 discriminator 1
ARM GAS  /tmp/ccCn7Yn1.s 			page 66


 1647 0584 034B     		ldr	r3, .L216
 1648 0586 40F27F52 		movw	r2, #1407
 1649 058a 0F49     		ldr	r1, .L216+52
 1650 058c 0348     		ldr	r0, .L216+8
 1651 058e FFF7FEFF 		bl	printf
 1652              	.LVL144:
 1653 0592 B7E7     		b	.L114
 1654              	.L217:
 1655              		.align	2
 1656              	.L216:
 1657 0594 00000000 		.word	.LC0
 1658 0598 74000000 		.word	.LC3
 1659 059c 4C000000 		.word	.LC2
 1660 05a0 00000000 		.word	.LANCHOR10
 1661 05a4 00000000 		.word	.LANCHOR9
 1662 05a8 00000000 		.word	.LANCHOR8
 1663 05ac 00000000 		.word	.LANCHOR7
 1664 05b0 00000000 		.word	tcp_ticks
 1665 05b4 00000000 		.word	.LANCHOR11
 1666 05b8 BC000000 		.word	.LC5
 1667 05bc CC000000 		.word	.LC6
 1668 05c0 DC000000 		.word	.LC7
 1669 05c4 EC000000 		.word	.LC8
 1670 05c8 00010000 		.word	.LC9
 1671              	.L203:
1396:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           }
 1672              		.loc 1 1396 0 is_stmt 1
 1673 05cc A94B     		ldr	r3, .L218
 1674 05ce DE68     		ldr	r6, [r3, #12]
 1675 05d0 B089     		ldrh	r0, [r6, #12]	@ unaligned
 1676 05d2 20F47C55 		bic	r5, r0, #16128
 1677 05d6 ADB2     		uxth	r5, r5
 1678 05d8 FFF7FEFF 		bl	lwip_htons
 1679              	.LVL145:
 1680 05dc 00F03E00 		and	r0, r0, #62
 1681 05e0 FFF7FEFF 		bl	lwip_htons
 1682              	.LVL146:
 1683 05e4 2843     		orrs	r0, r0, r5
 1684 05e6 B081     		strh	r0, [r6, #12]	@ unaligned
 1685 05e8 A4E7     		b	.L115
 1686              	.L167:
1405:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           LWIP_ASSERT("tcp_receive: segment not trimmed correctly to rcv_wnd\n",
 1687              		.loc 1 1405 0
 1688 05ea 0023     		movs	r3, #0
 1689 05ec BEE7     		b	.L117
 1690              	.L119:
1420:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               struct tcp_seg *old_ooseq = pcb->ooseq;
 1691              		.loc 1 1420 0
 1692 05ee 206F     		ldr	r0, [r4, #112]
 1693 05f0 0028     		cmp	r0, #0
 1694 05f2 78D0     		beq	.L118
 1695              	.LVL147:
 1696              	.LBB9:
1422:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               tcp_seg_free(old_ooseq);
 1697              		.loc 1 1422 0
 1698 05f4 0368     		ldr	r3, [r0]
 1699 05f6 2367     		str	r3, [r4, #112]
ARM GAS  /tmp/ccCn7Yn1.s 			page 67


1423:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             }
 1700              		.loc 1 1423 0
 1701 05f8 FFF7FEFF 		bl	tcp_seg_free
 1702              	.LVL148:
 1703 05fc F7E7     		b	.L119
 1704              	.LVL149:
 1705              	.L168:
 1706              	.LBE9:
1436:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               }
 1707              		.loc 1 1436 0
 1708 05fe 0023     		movs	r3, #0
 1709              	.L124:
1436:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               }
 1710              		.loc 1 1436 0 is_stmt 0 discriminator 4
 1711 0600 3B44     		add	r3, r3, r7
 1712 0602 9D4A     		ldr	r2, .L218+4
 1713 0604 1380     		strh	r3, [r2]	@ movhi
 1714              	.L123:
 1715              	.LVL150:
1439:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               tcp_seg_free(prev);
 1716              		.loc 1 1439 0 is_stmt 1
 1717 0606 2E68     		ldr	r6, [r5]
 1718              	.LVL151:
1440:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             }
 1719              		.loc 1 1440 0
 1720 0608 2846     		mov	r0, r5
 1721 060a FFF7FEFF 		bl	tcp_seg_free
 1722              	.LVL152:
1439:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               tcp_seg_free(prev);
 1723              		.loc 1 1439 0
 1724 060e 3546     		mov	r5, r6
 1725              	.LVL153:
 1726              	.L122:
1429:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                    TCP_SEQ_GEQ(seqno + tcplen,
 1727              		.loc 1 1429 0
 1728 0610 75B3     		cbz	r5, .L125
1430:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                                next->tcphdr->seqno + next->len)) {
 1729              		.loc 1 1430 0 discriminator 1
 1730 0612 994B     		ldr	r3, .L218+4
 1731 0614 1B88     		ldrh	r3, [r3]
 1732 0616 994A     		ldr	r2, .L218+8
 1733 0618 1268     		ldr	r2, [r2]
 1734 061a 1344     		add	r3, r3, r2
 1735 061c E968     		ldr	r1, [r5, #12]
 1736 061e 4A68     		ldr	r2, [r1, #4]	@ unaligned
 1737 0620 2889     		ldrh	r0, [r5, #8]
 1738 0622 0244     		add	r2, r2, r0
 1739 0624 9B1A     		subs	r3, r3, r2
1429:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                    TCP_SEQ_GEQ(seqno + tcplen,
 1740              		.loc 1 1429 0 discriminator 1
 1741 0626 002B     		cmp	r3, #0
 1742 0628 22DB     		blt	.L125
1433:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                   (TCPH_FLAGS(inseg.tcphdr) & TCP_SYN) == 0) {
 1743              		.loc 1 1433 0
 1744 062a 8889     		ldrh	r0, [r1, #12]	@ unaligned
 1745 062c FFF7FEFF 		bl	lwip_htons
 1746              	.LVL154:
ARM GAS  /tmp/ccCn7Yn1.s 			page 68


 1747 0630 10F0010F 		tst	r0, #1
 1748 0634 E7D0     		beq	.L123
1434:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                 TCPH_SET_FLAG(inseg.tcphdr, TCP_FIN);
 1749              		.loc 1 1434 0 discriminator 1
 1750 0636 8F4B     		ldr	r3, .L218
 1751 0638 DB68     		ldr	r3, [r3, #12]
 1752 063a 9889     		ldrh	r0, [r3, #12]	@ unaligned
 1753 063c FFF7FEFF 		bl	lwip_htons
 1754              	.LVL155:
1433:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                   (TCPH_FLAGS(inseg.tcphdr) & TCP_SYN) == 0) {
 1755              		.loc 1 1433 0 discriminator 1
 1756 0640 10F0020F 		tst	r0, #2
 1757 0644 DFD1     		bne	.L123
1435:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                 tcplen = TCP_TCPLEN(&inseg);
 1758              		.loc 1 1435 0
 1759 0646 8B4E     		ldr	r6, .L218
 1760 0648 D6F80C80 		ldr	r8, [r6, #12]
 1761 064c B8F80C70 		ldrh	r7, [r8, #12]	@ unaligned
 1762 0650 0120     		movs	r0, #1
 1763 0652 FFF7FEFF 		bl	lwip_htons
 1764              	.LVL156:
 1765 0656 3843     		orrs	r0, r0, r7
 1766 0658 A8F80C00 		strh	r0, [r8, #12]	@ unaligned
1436:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               }
 1767              		.loc 1 1436 0
 1768 065c 3789     		ldrh	r7, [r6, #8]
 1769 065e F368     		ldr	r3, [r6, #12]
 1770 0660 9889     		ldrh	r0, [r3, #12]	@ unaligned
 1771 0662 FFF7FEFF 		bl	lwip_htons
 1772              	.LVL157:
 1773 0666 10F0030F 		tst	r0, #3
 1774 066a C8D0     		beq	.L168
 1775 066c 0123     		movs	r3, #1
 1776 066e C7E7     		b	.L124
 1777              	.L125:
1444:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                 TCP_SEQ_GT(seqno + tcplen,
 1778              		.loc 1 1444 0
 1779 0670 002D     		cmp	r5, #0
 1780 0672 37D0     		beq	.L127
1445:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                            next->tcphdr->seqno)) {
 1781              		.loc 1 1445 0 discriminator 1
 1782 0674 814B     		ldr	r3, .L218+8
 1783 0676 1968     		ldr	r1, [r3]
 1784 0678 7F4B     		ldr	r3, .L218+4
 1785 067a 1B88     		ldrh	r3, [r3]
 1786 067c 0B44     		add	r3, r3, r1
 1787 067e EA68     		ldr	r2, [r5, #12]
 1788 0680 5268     		ldr	r2, [r2, #4]	@ unaligned
 1789 0682 9B1A     		subs	r3, r3, r2
1444:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                 TCP_SEQ_GT(seqno + tcplen,
 1790              		.loc 1 1444 0 discriminator 1
 1791 0684 002B     		cmp	r3, #0
 1792 0686 2DDD     		ble	.L127
1448:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               if (TCPH_FLAGS(inseg.tcphdr) & TCP_SYN) {
 1793              		.loc 1 1448 0
 1794 0688 521A     		subs	r2, r2, r1
 1795 068a 7A4B     		ldr	r3, .L218
ARM GAS  /tmp/ccCn7Yn1.s 			page 69


 1796 068c 1A81     		strh	r2, [r3, #8]	@ movhi
1449:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                 inseg.len -= 1;
 1797              		.loc 1 1449 0
 1798 068e DB68     		ldr	r3, [r3, #12]
 1799 0690 9889     		ldrh	r0, [r3, #12]	@ unaligned
 1800 0692 FFF7FEFF 		bl	lwip_htons
 1801              	.LVL158:
 1802 0696 10F0020F 		tst	r0, #2
 1803 069a 03D0     		beq	.L128
1450:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               }
 1804              		.loc 1 1450 0
 1805 069c 754A     		ldr	r2, .L218
 1806 069e 1389     		ldrh	r3, [r2, #8]
 1807 06a0 013B     		subs	r3, r3, #1
 1808 06a2 1381     		strh	r3, [r2, #8]	@ movhi
 1809              	.L128:
1452:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               tcplen = TCP_TCPLEN(&inseg);
 1810              		.loc 1 1452 0
 1811 06a4 734E     		ldr	r6, .L218
 1812 06a6 3189     		ldrh	r1, [r6, #8]
 1813 06a8 7068     		ldr	r0, [r6, #4]
 1814 06aa FFF7FEFF 		bl	pbuf_realloc
 1815              	.LVL159:
1453:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               LWIP_ASSERT("tcp_receive: segment not trimmed correctly to ooseq queue\n",
 1816              		.loc 1 1453 0
 1817 06ae 3789     		ldrh	r7, [r6, #8]
 1818 06b0 F368     		ldr	r3, [r6, #12]
 1819 06b2 9889     		ldrh	r0, [r3, #12]	@ unaligned
 1820 06b4 FFF7FEFF 		bl	lwip_htons
 1821              	.LVL160:
 1822 06b8 10F0030F 		tst	r0, #3
 1823 06bc 3BD0     		beq	.L169
 1824 06be 0123     		movs	r3, #1
 1825              	.L129:
1453:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               LWIP_ASSERT("tcp_receive: segment not trimmed correctly to ooseq queue\n",
 1826              		.loc 1 1453 0 is_stmt 0 discriminator 4
 1827 06c0 3B44     		add	r3, r3, r7
 1828 06c2 9BB2     		uxth	r3, r3
 1829 06c4 6C4A     		ldr	r2, .L218+4
 1830 06c6 1380     		strh	r3, [r2]	@ movhi
1454:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                           (seqno + tcplen) == next->tcphdr->seqno);
 1831              		.loc 1 1454 0 is_stmt 1 discriminator 4
 1832 06c8 6C4A     		ldr	r2, .L218+8
 1833 06ca 1268     		ldr	r2, [r2]
 1834 06cc 1344     		add	r3, r3, r2
 1835 06ce EA68     		ldr	r2, [r5, #12]
 1836 06d0 5268     		ldr	r2, [r2, #4]	@ unaligned
 1837 06d2 9342     		cmp	r3, r2
 1838 06d4 06D0     		beq	.L127
1454:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                           (seqno + tcplen) == next->tcphdr->seqno);
 1839              		.loc 1 1454 0 is_stmt 0 discriminator 1
 1840 06d6 6A4B     		ldr	r3, .L218+12
 1841 06d8 40F2AF52 		movw	r2, #1455
 1842 06dc 6949     		ldr	r1, .L218+16
 1843 06de 6A48     		ldr	r0, .L218+20
 1844 06e0 FFF7FEFF 		bl	printf
 1845              	.LVL161:
ARM GAS  /tmp/ccCn7Yn1.s 			page 70


 1846              	.L127:
1457:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           }
 1847              		.loc 1 1457 0 is_stmt 1
 1848 06e4 2567     		str	r5, [r4, #112]
 1849              	.LVL162:
 1850              	.L118:
1462:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 1851              		.loc 1 1462 0
 1852 06e6 644B     		ldr	r3, .L218+4
 1853 06e8 1A88     		ldrh	r2, [r3]
 1854 06ea 644B     		ldr	r3, .L218+8
 1855 06ec 1B68     		ldr	r3, [r3]
 1856 06ee 1344     		add	r3, r3, r2
 1857 06f0 6362     		str	r3, [r4, #36]
1465:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pcb->rcv_wnd -= tcplen;
 1858              		.loc 1 1465 0
 1859 06f2 238D     		ldrh	r3, [r4, #40]
 1860 06f4 9A42     		cmp	r2, r3
 1861 06f6 20D8     		bhi	.L204
 1862              	.L130:
1466:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 1863              		.loc 1 1466 0
 1864 06f8 238D     		ldrh	r3, [r4, #40]
 1865 06fa 5F4A     		ldr	r2, .L218+4
 1866 06fc 1288     		ldrh	r2, [r2]
 1867 06fe 9B1A     		subs	r3, r3, r2
 1868 0700 2385     		strh	r3, [r4, #40]	@ movhi
1468:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 1869              		.loc 1 1468 0
 1870 0702 2046     		mov	r0, r4
 1871 0704 FFF7FEFF 		bl	tcp_update_rcv_ann_wnd
 1872              	.LVL163:
1479:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           recv_data = inseg.p;
 1873              		.loc 1 1479 0
 1874 0708 5A4B     		ldr	r3, .L218
 1875 070a 5B68     		ldr	r3, [r3, #4]
 1876 070c 1A89     		ldrh	r2, [r3, #8]
 1877 070e 22B1     		cbz	r2, .L131
1480:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           /* Since this pbuf now is the responsibility of the
 1878              		.loc 1 1480 0
 1879 0710 5E4A     		ldr	r2, .L218+24
 1880 0712 1360     		str	r3, [r2]
1484:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         }
 1881              		.loc 1 1484 0
 1882 0714 0022     		movs	r2, #0
 1883 0716 574B     		ldr	r3, .L218
 1884 0718 5A60     		str	r2, [r3, #4]
 1885              	.L131:
1486:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           LWIP_DEBUGF(TCP_INPUT_DEBUG, ("tcp_receive: received FIN.\n"));
 1886              		.loc 1 1486 0
 1887 071a 564B     		ldr	r3, .L218
 1888 071c DB68     		ldr	r3, [r3, #12]
 1889 071e 9889     		ldrh	r0, [r3, #12]	@ unaligned
 1890 0720 FFF7FEFF 		bl	lwip_htons
 1891              	.LVL164:
 1892 0724 10F0010F 		tst	r0, #1
 1893 0728 35D0     		beq	.L133
ARM GAS  /tmp/ccCn7Yn1.s 			page 71


1488:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         }
 1894              		.loc 1 1488 0
 1895 072a 594A     		ldr	r2, .L218+28
 1896 072c 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 1897 072e 43F02003 		orr	r3, r3, #32
 1898 0732 1370     		strb	r3, [r2]
 1899 0734 2FE0     		b	.L133
 1900              	.LVL165:
 1901              	.L169:
1453:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               LWIP_ASSERT("tcp_receive: segment not trimmed correctly to ooseq queue\n",
 1902              		.loc 1 1453 0
 1903 0736 0023     		movs	r3, #0
 1904 0738 C2E7     		b	.L129
 1905              	.LVL166:
 1906              	.L204:
1465:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pcb->rcv_wnd -= tcplen;
 1907              		.loc 1 1465 0 discriminator 1
 1908 073a 514B     		ldr	r3, .L218+12
 1909 073c 40F2B952 		movw	r2, #1465
 1910 0740 5449     		ldr	r1, .L218+32
 1911 0742 5148     		ldr	r0, .L218+20
 1912 0744 FFF7FEFF 		bl	printf
 1913              	.LVL167:
 1914 0748 D6E7     		b	.L130
 1915              	.LVL168:
 1916              	.L170:
1500:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           LWIP_ASSERT("tcp_receive: ooseq tcplen > rcv_wnd\n",
 1917              		.loc 1 1500 0
 1918 074a 0023     		movs	r3, #0
 1919 074c 35E0     		b	.L134
 1920              	.L171:
1501:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                       pcb->rcv_wnd >= TCP_TCPLEN(cseg));
 1921              		.loc 1 1501 0
 1922 074e 0023     		movs	r3, #0
 1923 0750 41E0     		b	.L135
 1924              	.L206:
1501:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                       pcb->rcv_wnd >= TCP_TCPLEN(cseg));
 1925              		.loc 1 1501 0 is_stmt 0 discriminator 5
 1926 0752 4B4B     		ldr	r3, .L218+12
 1927 0754 40F2DE52 		movw	r2, #1502
 1928 0758 4F49     		ldr	r1, .L218+36
 1929 075a 4B48     		ldr	r0, .L218+20
 1930 075c FFF7FEFF 		bl	printf
 1931              	.LVL169:
 1932 0760 3CE0     		b	.L136
 1933              	.L172:
1503:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 1934              		.loc 1 1503 0 is_stmt 1
 1935 0762 0023     		movs	r3, #0
 1936 0764 43E0     		b	.L137
 1937              	.L139:
1516:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             }
 1938              		.loc 1 1516 0
 1939 0766 494B     		ldr	r3, .L218+24
 1940 0768 1960     		str	r1, [r3]
 1941              	.L140:
1518:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           }
ARM GAS  /tmp/ccCn7Yn1.s 			page 72


 1942              		.loc 1 1518 0
 1943 076a 0023     		movs	r3, #0
 1944 076c 6B60     		str	r3, [r5, #4]
 1945              	.L138:
1520:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             LWIP_DEBUGF(TCP_INPUT_DEBUG, ("tcp_receive: dequeued FIN.\n"));
 1946              		.loc 1 1520 0
 1947 076e EB68     		ldr	r3, [r5, #12]
 1948 0770 9889     		ldrh	r0, [r3, #12]	@ unaligned
 1949 0772 FFF7FEFF 		bl	lwip_htons
 1950              	.LVL170:
 1951 0776 10F0010F 		tst	r0, #1
 1952 077a 07D0     		beq	.L141
1522:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             if (pcb->state == ESTABLISHED) { /* force passive close or we can move to active close 
 1953              		.loc 1 1522 0
 1954 077c 444A     		ldr	r2, .L218+28
 1955 077e 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 1956 0780 43F02003 		orr	r3, r3, #32
 1957 0784 1370     		strb	r3, [r2]
1523:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               pcb->state = CLOSE_WAIT;
 1958              		.loc 1 1523 0
 1959 0786 237D     		ldrb	r3, [r4, #20]	@ zero_extendqisi2
 1960 0788 042B     		cmp	r3, #4
 1961 078a 42D0     		beq	.L205
 1962              	.L141:
1528:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           tcp_seg_free(cseg);
 1963              		.loc 1 1528 0
 1964 078c 2B68     		ldr	r3, [r5]
 1965 078e 2367     		str	r3, [r4, #112]
1529:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         }
 1966              		.loc 1 1529 0
 1967 0790 2846     		mov	r0, r5
 1968 0792 FFF7FEFF 		bl	tcp_seg_free
 1969              	.LVL171:
 1970              	.L133:
1494:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                pcb->ooseq->tcphdr->seqno == pcb->rcv_nxt) {
 1971              		.loc 1 1494 0
 1972 0796 256F     		ldr	r5, [r4, #112]
 1973 0798 002D     		cmp	r5, #0
 1974 079a 3DD0     		beq	.L142
1495:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 1975              		.loc 1 1495 0 discriminator 1
 1976 079c EA68     		ldr	r2, [r5, #12]
 1977 079e 5368     		ldr	r3, [r2, #4]	@ unaligned
 1978 07a0 616A     		ldr	r1, [r4, #36]
1494:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                pcb->ooseq->tcphdr->seqno == pcb->rcv_nxt) {
 1979              		.loc 1 1494 0 discriminator 1
 1980 07a2 8B42     		cmp	r3, r1
 1981 07a4 38D1     		bne	.L142
 1982              	.LVL172:
1498:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 1983              		.loc 1 1498 0
 1984 07a6 3549     		ldr	r1, .L218+8
 1985 07a8 0B60     		str	r3, [r1]
1500:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           LWIP_ASSERT("tcp_receive: ooseq tcplen > rcv_wnd\n",
 1986              		.loc 1 1500 0
 1987 07aa 2E89     		ldrh	r6, [r5, #8]
 1988 07ac 9089     		ldrh	r0, [r2, #12]	@ unaligned
ARM GAS  /tmp/ccCn7Yn1.s 			page 73


 1989 07ae FFF7FEFF 		bl	lwip_htons
 1990              	.LVL173:
 1991 07b2 10F0030F 		tst	r0, #3
 1992 07b6 C8D0     		beq	.L170
 1993 07b8 0123     		movs	r3, #1
 1994              	.L134:
1500:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           LWIP_ASSERT("tcp_receive: ooseq tcplen > rcv_wnd\n",
 1995              		.loc 1 1500 0 is_stmt 0 discriminator 4
 1996 07ba 9A19     		adds	r2, r3, r6
 1997 07bc 636A     		ldr	r3, [r4, #36]
 1998 07be 1344     		add	r3, r3, r2
 1999 07c0 6362     		str	r3, [r4, #36]
1501:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                       pcb->rcv_wnd >= TCP_TCPLEN(cseg));
 2000              		.loc 1 1501 0 is_stmt 1 discriminator 4
 2001 07c2 268D     		ldrh	r6, [r4, #40]
 2002 07c4 2F89     		ldrh	r7, [r5, #8]
 2003 07c6 EB68     		ldr	r3, [r5, #12]
 2004 07c8 9889     		ldrh	r0, [r3, #12]	@ unaligned
 2005 07ca FFF7FEFF 		bl	lwip_htons
 2006              	.LVL174:
 2007 07ce 10F0030F 		tst	r0, #3
 2008 07d2 BCD0     		beq	.L171
1501:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                       pcb->rcv_wnd >= TCP_TCPLEN(cseg));
 2009              		.loc 1 1501 0 is_stmt 0
 2010 07d4 0123     		movs	r3, #1
 2011              	.L135:
1501:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                       pcb->rcv_wnd >= TCP_TCPLEN(cseg));
 2012              		.loc 1 1501 0 discriminator 4
 2013 07d6 3B44     		add	r3, r3, r7
 2014 07d8 9E42     		cmp	r6, r3
 2015 07da BAD3     		bcc	.L206
 2016              	.L136:
1503:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 2017              		.loc 1 1503 0 is_stmt 1
 2018 07dc 2E89     		ldrh	r6, [r5, #8]
 2019 07de EB68     		ldr	r3, [r5, #12]
 2020 07e0 9889     		ldrh	r0, [r3, #12]	@ unaligned
 2021 07e2 FFF7FEFF 		bl	lwip_htons
 2022              	.LVL175:
 2023 07e6 10F0030F 		tst	r0, #3
 2024 07ea BAD0     		beq	.L172
 2025 07ec 0123     		movs	r3, #1
 2026              	.L137:
1503:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 2027              		.loc 1 1503 0 is_stmt 0 discriminator 4
 2028 07ee 9A19     		adds	r2, r3, r6
 2029 07f0 238D     		ldrh	r3, [r4, #40]
 2030 07f2 9B1A     		subs	r3, r3, r2
 2031 07f4 2385     		strh	r3, [r4, #40]	@ movhi
1505:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 2032              		.loc 1 1505 0 is_stmt 1 discriminator 4
 2033 07f6 2046     		mov	r0, r4
 2034 07f8 FFF7FEFF 		bl	tcp_update_rcv_ann_wnd
 2035              	.LVL176:
1507:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             /* Chain this pbuf onto the pbuf that we will pass to
 2036              		.loc 1 1507 0 discriminator 4
 2037 07fc 6968     		ldr	r1, [r5, #4]
ARM GAS  /tmp/ccCn7Yn1.s 			page 74


 2038 07fe 0B89     		ldrh	r3, [r1, #8]
 2039 0800 002B     		cmp	r3, #0
 2040 0802 B4D0     		beq	.L138
1513:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               pbuf_cat(recv_data, cseg->p);
 2041              		.loc 1 1513 0
 2042 0804 214B     		ldr	r3, .L218+24
 2043 0806 1868     		ldr	r0, [r3]
 2044 0808 0028     		cmp	r0, #0
 2045 080a ACD0     		beq	.L139
1514:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             } else {
 2046              		.loc 1 1514 0
 2047 080c FFF7FEFF 		bl	pbuf_cat
 2048              	.LVL177:
 2049 0810 ABE7     		b	.L140
 2050              	.L205:
1524:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             }
 2051              		.loc 1 1524 0
 2052 0812 0723     		movs	r3, #7
 2053 0814 2375     		strb	r3, [r4, #20]
 2054 0816 B9E7     		b	.L141
 2055              	.LVL178:
 2056              	.L142:
1535:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 2057              		.loc 1 1535 0
 2058 0818 A37E     		ldrb	r3, [r4, #26]	@ zero_extendqisi2
 2059 081a 13F0010F 		tst	r3, #1
 2060 081e 06D0     		beq	.L144
1535:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 2061              		.loc 1 1535 0 is_stmt 0 discriminator 1
 2062 0820 03F0FE03 		and	r3, r3, #254
 2063 0824 43F00203 		orr	r3, r3, #2
 2064 0828 A376     		strb	r3, [r4, #26]
 2065 082a BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 2066              	.LVL179:
 2067              	.L144:
1535:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 2068              		.loc 1 1535 0 discriminator 2
 2069 082e 43F00103 		orr	r3, r3, #1
 2070 0832 A376     		strb	r3, [r4, #26]
 2071 0834 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 2072              	.LVL180:
 2073              	.L201:
1550:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         } else {
 2074              		.loc 1 1550 0 is_stmt 1
 2075 0838 0E48     		ldr	r0, .L218
 2076 083a FFF7FEFF 		bl	tcp_seg_copy
 2077              	.LVL181:
 2078 083e 2067     		str	r0, [r4, #112]
 2079 0840 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 2080              	.LVL182:
 2081              	.L210:
1571:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                 /* The incoming segment is larger than the old
 2082              		.loc 1 1571 0
 2083 0844 0B4B     		ldr	r3, .L218
 2084 0846 1A89     		ldrh	r2, [r3, #8]
 2085 0848 2B89     		ldrh	r3, [r5, #8]
 2086 084a 9A42     		cmp	r2, r3
ARM GAS  /tmp/ccCn7Yn1.s 			page 75


 2087 084c 40F2EE80 		bls	.L68
1575:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                 if (cseg != NULL) {
 2088              		.loc 1 1575 0
 2089 0850 0848     		ldr	r0, .L218
 2090 0852 FFF7FEFF 		bl	tcp_seg_copy
 2091              	.LVL183:
1576:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                   if (prev != NULL) {
 2092              		.loc 1 1576 0
 2093 0856 0346     		mov	r3, r0
 2094 0858 0028     		cmp	r0, #0
 2095 085a 00F0E780 		beq	.L68
1577:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                     prev->next = cseg;
 2096              		.loc 1 1577 0
 2097 085e 36B1     		cbz	r6, .L148
1578:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                   } else {
 2098              		.loc 1 1578 0
 2099 0860 3060     		str	r0, [r6]
 2100              	.L149:
1582:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                 }
 2101              		.loc 1 1582 0
 2102 0862 2946     		mov	r1, r5
 2103 0864 1846     		mov	r0, r3
 2104              	.LVL184:
 2105 0866 FFF7FEFF 		bl	tcp_oos_insert_segment
 2106              	.LVL185:
 2107 086a BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 2108              	.LVL186:
 2109              	.L148:
1580:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                   }
 2110              		.loc 1 1580 0
 2111 086e 2067     		str	r0, [r4, #112]
 2112 0870 F7E7     		b	.L149
 2113              	.L219:
 2114 0872 00BF     		.align	2
 2115              	.L218:
 2116 0874 00000000 		.word	.LANCHOR11
 2117 0878 00000000 		.word	.LANCHOR8
 2118 087c 00000000 		.word	.LANCHOR7
 2119 0880 00000000 		.word	.LC0
 2120 0884 38010000 		.word	.LC10
 2121 0888 4C000000 		.word	.LC2
 2122 088c 00000000 		.word	.LANCHOR12
 2123 0890 00000000 		.word	.LANCHOR5
 2124 0894 74010000 		.word	.LC11
 2125 0898 94010000 		.word	.LC12
 2126              	.LVL187:
 2127              	.L211:
1593:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                   /* The sequence number of the incoming segment is lower
 2128              		.loc 1 1593 0
 2129 089c 5A1A     		subs	r2, r3, r1
 2130 089e 002A     		cmp	r2, #0
 2131 08a0 35DB     		blt	.L207
 2132              	.L151:
1630:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                   TCP_SEQ_GT(seqno, next->tcphdr->seqno)) {
 2133              		.loc 1 1630 0
 2134 08a2 2A68     		ldr	r2, [r5]
 2135 08a4 2E46     		mov	r6, r5
ARM GAS  /tmp/ccCn7Yn1.s 			page 76


 2136              	.LVL188:
 2137 08a6 002A     		cmp	r2, #0
 2138 08a8 3DD0     		beq	.L208
 2139 08aa 1546     		mov	r5, r2
 2140              	.LVL189:
 2141              	.L146:
1565:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             if (seqno == next->tcphdr->seqno) {
 2142              		.loc 1 1565 0 discriminator 1
 2143 08ac 002D     		cmp	r5, #0
 2144 08ae 00F0AB80 		beq	.L209
1566:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               /* The sequence number of the incoming segment is the
 2145              		.loc 1 1566 0
 2146 08b2 E868     		ldr	r0, [r5, #12]
 2147 08b4 4168     		ldr	r1, [r0, #4]	@ unaligned
 2148 08b6 5E4B     		ldr	r3, .L220
 2149 08b8 1B68     		ldr	r3, [r3]
 2150 08ba 9942     		cmp	r1, r3
 2151 08bc C2D0     		beq	.L210
1592:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                 if (TCP_SEQ_LT(seqno, next->tcphdr->seqno)) {
 2152              		.loc 1 1592 0
 2153 08be 002E     		cmp	r6, #0
 2154 08c0 ECD0     		beq	.L211
1608:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                   /* The sequence number of the incoming segment is in
 2155              		.loc 1 1608 0
 2156 08c2 F268     		ldr	r2, [r6, #12]
 2157 08c4 5268     		ldr	r2, [r2, #4]	@ unaligned
 2158 08c6 9A1A     		subs	r2, r3, r2
 2159 08c8 012A     		cmp	r2, #1
 2160 08ca EAD4     		bmi	.L151
1608:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                   /* The sequence number of the incoming segment is in
 2161              		.loc 1 1608 0 is_stmt 0 discriminator 1
 2162 08cc 5A1A     		subs	r2, r3, r1
 2163 08ce 0132     		adds	r2, r2, #1
 2164 08d0 002A     		cmp	r2, #0
 2165 08d2 E6DC     		bgt	.L151
1614:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                   if (cseg != NULL) {
 2166              		.loc 1 1614 0 is_stmt 1
 2167 08d4 5748     		ldr	r0, .L220+4
 2168 08d6 FFF7FEFF 		bl	tcp_seg_copy
 2169              	.LVL190:
1615:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                     if (TCP_SEQ_GT(prev->tcphdr->seqno + prev->len, seqno)) {
 2170              		.loc 1 1615 0
 2171 08da 0446     		mov	r4, r0
 2172              	.LVL191:
 2173 08dc 0028     		cmp	r0, #0
 2174 08de 00F0A580 		beq	.L68
1616:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                       /* We need to trim the prev segment. */
 2175              		.loc 1 1616 0
 2176 08e2 F368     		ldr	r3, [r6, #12]
 2177 08e4 5968     		ldr	r1, [r3, #4]	@ unaligned
 2178 08e6 3289     		ldrh	r2, [r6, #8]
 2179 08e8 0A44     		add	r2, r2, r1
 2180 08ea 514B     		ldr	r3, .L220
 2181 08ec 1B68     		ldr	r3, [r3]
 2182 08ee D21A     		subs	r2, r2, r3
 2183 08f0 002A     		cmp	r2, #0
 2184 08f2 05DD     		ble	.L152
ARM GAS  /tmp/ccCn7Yn1.s 			page 77


1618:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                       pbuf_realloc(prev->p, prev->len);
 2185              		.loc 1 1618 0
 2186 08f4 5B1A     		subs	r3, r3, r1
 2187 08f6 99B2     		uxth	r1, r3
 2188 08f8 3181     		strh	r1, [r6, #8]	@ movhi
1619:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                     }
 2189              		.loc 1 1619 0
 2190 08fa 7068     		ldr	r0, [r6, #4]
 2191              	.LVL192:
 2192 08fc FFF7FEFF 		bl	pbuf_realloc
 2193              	.LVL193:
 2194              	.L152:
1621:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                     tcp_oos_insert_segment(cseg, next);
 2195              		.loc 1 1621 0
 2196 0900 3460     		str	r4, [r6]
1622:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                   }
 2197              		.loc 1 1622 0
 2198 0902 2946     		mov	r1, r5
 2199 0904 2046     		mov	r0, r4
 2200 0906 FFF7FEFF 		bl	tcp_oos_insert_segment
 2201              	.LVL194:
 2202 090a BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 2203              	.LVL195:
 2204              	.L207:
1598:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                   if (cseg != NULL) {
 2205              		.loc 1 1598 0
 2206 090e 4948     		ldr	r0, .L220+4
 2207 0910 FFF7FEFF 		bl	tcp_seg_copy
 2208              	.LVL196:
1599:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                     pcb->ooseq = cseg;
 2209              		.loc 1 1599 0
 2210 0914 0028     		cmp	r0, #0
 2211 0916 00F08980 		beq	.L68
1600:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                     tcp_oos_insert_segment(cseg, next);
 2212              		.loc 1 1600 0
 2213 091a 2067     		str	r0, [r4, #112]
1601:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                   }
 2214              		.loc 1 1601 0
 2215 091c 2946     		mov	r1, r5
 2216 091e FFF7FEFF 		bl	tcp_oos_insert_segment
 2217              	.LVL197:
 2218 0922 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 2219              	.LVL198:
 2220              	.L208:
1631:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                 if (TCPH_FLAGS(next->tcphdr) & TCP_FIN) {
 2221              		.loc 1 1631 0 discriminator 1
 2222 0926 5B1A     		subs	r3, r3, r1
1630:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                   TCP_SEQ_GT(seqno, next->tcphdr->seqno)) {
 2223              		.loc 1 1630 0 discriminator 1
 2224 0928 002B     		cmp	r3, #0
 2225 092a 01DC     		bgt	.L212
 2226 092c 1546     		mov	r5, r2
 2227              	.LVL199:
 2228 092e BDE7     		b	.L146
 2229              	.LVL200:
 2230              	.L212:
1632:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                   /* segment "next" already contains all data */
ARM GAS  /tmp/ccCn7Yn1.s 			page 78


 2231              		.loc 1 1632 0
 2232 0930 8089     		ldrh	r0, [r0, #12]	@ unaligned
 2233 0932 FFF7FEFF 		bl	lwip_htons
 2234              	.LVL201:
 2235 0936 10F0010F 		tst	r0, #1
 2236 093a 77D1     		bne	.L68
1636:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                 if (next->next != NULL) {
 2237              		.loc 1 1636 0
 2238 093c 3D48     		ldr	r0, .L220+4
 2239 093e FFF7FEFF 		bl	tcp_seg_copy
 2240              	.LVL202:
 2241 0942 2860     		str	r0, [r5]
1637:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                   if (TCP_SEQ_GT(next->tcphdr->seqno + next->len, seqno)) {
 2242              		.loc 1 1637 0
 2243 0944 0028     		cmp	r0, #0
 2244 0946 71D0     		beq	.L68
1638:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                     /* We need to trim the last segment. */
 2245              		.loc 1 1638 0
 2246 0948 EB68     		ldr	r3, [r5, #12]
 2247 094a 5968     		ldr	r1, [r3, #4]	@ unaligned
 2248 094c 2A89     		ldrh	r2, [r5, #8]
 2249 094e 0A44     		add	r2, r2, r1
 2250 0950 374B     		ldr	r3, .L220
 2251 0952 1B68     		ldr	r3, [r3]
 2252 0954 D21A     		subs	r2, r2, r3
 2253 0956 002A     		cmp	r2, #0
 2254 0958 05DD     		ble	.L153
1640:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                     pbuf_realloc(next->p, next->len);
 2255              		.loc 1 1640 0
 2256 095a 5B1A     		subs	r3, r3, r1
 2257 095c 99B2     		uxth	r1, r3
 2258 095e 2981     		strh	r1, [r5, #8]	@ movhi
1641:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                   }
 2259              		.loc 1 1641 0
 2260 0960 6868     		ldr	r0, [r5, #4]
 2261 0962 FFF7FEFF 		bl	pbuf_realloc
 2262              	.LVL203:
 2263              	.L153:
1644:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                     LWIP_DEBUGF(TCP_INPUT_DEBUG,
 2264              		.loc 1 1644 0
 2265 0966 344B     		ldr	r3, .L220+8
 2266 0968 1B88     		ldrh	r3, [r3]
 2267 096a 314A     		ldr	r2, .L220
 2268 096c 1268     		ldr	r2, [r2]
 2269 096e 1344     		add	r3, r3, r2
 2270 0970 626A     		ldr	r2, [r4, #36]
 2271 0972 218D     		ldrh	r1, [r4, #40]
 2272 0974 0A44     		add	r2, r2, r1
 2273 0976 9B1A     		subs	r3, r3, r2
 2274 0978 002B     		cmp	r3, #0
 2275 097a 57DD     		ble	.L68
1649:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                       /* Must remove the FIN from the header as we're trimming
 2276              		.loc 1 1649 0
 2277 097c 2B68     		ldr	r3, [r5]
 2278 097e DB68     		ldr	r3, [r3, #12]
 2279 0980 9889     		ldrh	r0, [r3, #12]	@ unaligned
 2280 0982 FFF7FEFF 		bl	lwip_htons
ARM GAS  /tmp/ccCn7Yn1.s 			page 79


 2281              	.LVL204:
 2282 0986 10F0010F 		tst	r0, #1
 2283 098a 2CD1     		bne	.L213
 2284              	.L154:
1655:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                     pbuf_realloc(next->next->p, next->next->len);
 2285              		.loc 1 1655 0
 2286 098c 2A68     		ldr	r2, [r5]
 2287 098e 616A     		ldr	r1, [r4, #36]
 2288 0990 238D     		ldrh	r3, [r4, #40]
 2289 0992 0B44     		add	r3, r3, r1
 2290 0994 9BB2     		uxth	r3, r3
 2291 0996 2649     		ldr	r1, .L220
 2292 0998 0968     		ldr	r1, [r1]
 2293 099a 5B1A     		subs	r3, r3, r1
 2294 099c 1381     		strh	r3, [r2, #8]	@ movhi
1656:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                     tcplen = TCP_TCPLEN(next->next);
 2295              		.loc 1 1656 0
 2296 099e 2B68     		ldr	r3, [r5]
 2297 09a0 1989     		ldrh	r1, [r3, #8]
 2298 09a2 5868     		ldr	r0, [r3, #4]
 2299 09a4 FFF7FEFF 		bl	pbuf_realloc
 2300              	.LVL205:
1657:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                     LWIP_ASSERT("tcp_receive: segment not trimmed correctly to rcv_wnd\n",
 2301              		.loc 1 1657 0
 2302 09a8 2B68     		ldr	r3, [r5]
 2303 09aa 1D89     		ldrh	r5, [r3, #8]
 2304              	.LVL206:
 2305 09ac DB68     		ldr	r3, [r3, #12]
 2306 09ae 9889     		ldrh	r0, [r3, #12]	@ unaligned
 2307 09b0 FFF7FEFF 		bl	lwip_htons
 2308              	.LVL207:
 2309 09b4 10F0030F 		tst	r0, #3
 2310 09b8 24D0     		beq	.L176
 2311 09ba 0123     		movs	r3, #1
 2312              	.L155:
1657:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                     LWIP_ASSERT("tcp_receive: segment not trimmed correctly to rcv_wnd\n",
 2313              		.loc 1 1657 0 is_stmt 0 discriminator 4
 2314 09bc 2B44     		add	r3, r3, r5
 2315 09be 9BB2     		uxth	r3, r3
 2316 09c0 1D4A     		ldr	r2, .L220+8
 2317 09c2 1380     		strh	r3, [r2]	@ movhi
1658:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                                 (seqno + tcplen) == (pcb->rcv_nxt + pcb->rcv_wnd));
 2318              		.loc 1 1658 0 is_stmt 1 discriminator 4
 2319 09c4 1A4A     		ldr	r2, .L220
 2320 09c6 1268     		ldr	r2, [r2]
 2321 09c8 1344     		add	r3, r3, r2
 2322 09ca 626A     		ldr	r2, [r4, #36]
 2323 09cc 218D     		ldrh	r1, [r4, #40]
 2324 09ce 0A44     		add	r2, r2, r1
 2325 09d0 9342     		cmp	r3, r2
 2326 09d2 2BD0     		beq	.L68
1658:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                                 (seqno + tcplen) == (pcb->rcv_nxt + pcb->rcv_wnd));
 2327              		.loc 1 1658 0 is_stmt 0 discriminator 1
 2328 09d4 194B     		ldr	r3, .L220+12
 2329 09d6 40F27B62 		movw	r2, #1659
 2330 09da 1949     		ldr	r1, .L220+16
 2331 09dc 1948     		ldr	r0, .L220+20
ARM GAS  /tmp/ccCn7Yn1.s 			page 80


 2332 09de FFF7FEFF 		bl	printf
 2333              	.LVL208:
 2334 09e2 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 2335              	.LVL209:
 2336              	.L213:
1652:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                     }
 2337              		.loc 1 1652 0 is_stmt 1
 2338 09e6 2B68     		ldr	r3, [r5]
 2339 09e8 DF68     		ldr	r7, [r3, #12]
 2340 09ea B889     		ldrh	r0, [r7, #12]	@ unaligned
 2341 09ec 20F47C56 		bic	r6, r0, #16128
 2342 09f0 B6B2     		uxth	r6, r6
 2343 09f2 FFF7FEFF 		bl	lwip_htons
 2344              	.LVL210:
 2345 09f6 00F03E00 		and	r0, r0, #62
 2346 09fa FFF7FEFF 		bl	lwip_htons
 2347              	.LVL211:
 2348 09fe 3043     		orrs	r0, r0, r6
 2349 0a00 B881     		strh	r0, [r7, #12]	@ unaligned
 2350 0a02 C3E7     		b	.L154
 2351              	.LVL212:
 2352              	.L176:
1657:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                     LWIP_ASSERT("tcp_receive: segment not trimmed correctly to rcv_wnd\n",
 2353              		.loc 1 1657 0
 2354 0a04 0023     		movs	r3, #0
 2355 0a06 D9E7     		b	.L155
 2356              	.LVL213:
 2357              	.L209:
 2358 0a08 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 2359              	.LVL214:
 2360              	.L101:
1702:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       tcp_ack_now(pcb);
 2361              		.loc 1 1702 0
 2362 0a0c 084B     		ldr	r3, .L220
 2363 0a0e 1B68     		ldr	r3, [r3]
 2364 0a10 626A     		ldr	r2, [r4, #36]
 2365 0a12 991A     		subs	r1, r3, r2
 2366 0a14 0029     		cmp	r1, #0
 2367 0a16 05DB     		blt	.L157
1702:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       tcp_ack_now(pcb);
 2368              		.loc 1 1702 0 is_stmt 0 discriminator 1
 2369 0a18 218D     		ldrh	r1, [r4, #40]
 2370 0a1a 0A44     		add	r2, r2, r1
 2371 0a1c 9B1A     		subs	r3, r3, r2
 2372 0a1e 0133     		adds	r3, r3, #1
 2373 0a20 002B     		cmp	r3, #0
 2374 0a22 03DD     		ble	.L68
 2375              	.L157:
1703:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
 2376              		.loc 1 1703 0 is_stmt 1
 2377 0a24 A37E     		ldrb	r3, [r4, #26]	@ zero_extendqisi2
 2378 0a26 43F00203 		orr	r3, r3, #2
 2379 0a2a A376     		strb	r3, [r4, #26]
 2380              	.LVL215:
 2381              	.L68:
 2382 0a2c BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 2383              	.L221:
ARM GAS  /tmp/ccCn7Yn1.s 			page 81


 2384              		.align	2
 2385              	.L220:
 2386 0a30 00000000 		.word	.LANCHOR7
 2387 0a34 00000000 		.word	.LANCHOR11
 2388 0a38 00000000 		.word	.LANCHOR8
 2389 0a3c 00000000 		.word	.LC0
 2390 0a40 00010000 		.word	.LC9
 2391 0a44 4C000000 		.word	.LC2
 2392              		.cfi_endproc
 2393              	.LFE164:
 2395              		.section	.text.tcp_process,"ax",%progbits
 2396              		.align	1
 2397              		.syntax unified
 2398              		.thumb
 2399              		.thumb_func
 2400              		.fpu fpv5-d16
 2402              	tcp_process:
 2403              	.LFB162:
 710:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   struct tcp_seg *rseg;
 2404              		.loc 1 710 0
 2405              		.cfi_startproc
 2406              		@ args = 0, pretend = 0, frame = 0
 2407              		@ frame_needed = 0, uses_anonymous_args = 0
 2408              	.LVL216:
 2409 0000 70B5     		push	{r4, r5, r6, lr}
 2410              	.LCFI17:
 2411              		.cfi_def_cfa_offset 16
 2412              		.cfi_offset 4, -16
 2413              		.cfi_offset 5, -12
 2414              		.cfi_offset 6, -8
 2415              		.cfi_offset 14, -4
 2416 0002 82B0     		sub	sp, sp, #8
 2417              	.LCFI18:
 2418              		.cfi_def_cfa_offset 24
 2419 0004 0446     		mov	r4, r0
 2420              	.LVL217:
 718:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* First, determine if the reset is acceptable. */
 2421              		.loc 1 718 0
 2422 0006 A34B     		ldr	r3, .L319
 2423 0008 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2424 000a 13F0040F 		tst	r3, #4
 2425 000e 3DD0     		beq	.L223
 720:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* "In the SYN-SENT state (a RST received in response to an initial SYN),
 2426              		.loc 1 720 0
 2427 0010 017D     		ldrb	r1, [r0, #20]	@ zero_extendqisi2
 2428 0012 0229     		cmp	r1, #2
 2429 0014 12D0     		beq	.L291
 729:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         acceptable = 1;
 2430              		.loc 1 729 0
 2431 0016 426A     		ldr	r2, [r0, #36]
 2432 0018 9F4B     		ldr	r3, .L319+4
 2433 001a 1B68     		ldr	r3, [r3]
 2434 001c 9A42     		cmp	r2, r3
 2435 001e 1CD0     		beq	.L264
 731:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                                   pcb->rcv_nxt + pcb->rcv_wnd)) {
 2436              		.loc 1 731 0
 2437 0020 981A     		subs	r0, r3, r2
ARM GAS  /tmp/ccCn7Yn1.s 			page 82


 2438              	.LVL218:
 2439 0022 0028     		cmp	r0, #0
 2440 0024 1BDB     		blt	.L265
 731:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                                   pcb->rcv_nxt + pcb->rcv_wnd)) {
 2441              		.loc 1 731 0 is_stmt 0 discriminator 1
 2442 0026 208D     		ldrh	r0, [r4, #40]
 2443 0028 0244     		add	r2, r2, r0
 2444 002a 9B1A     		subs	r3, r3, r2
 2445 002c 002B     		cmp	r3, #0
 2446 002e 0CDD     		ble	.L292
 712:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   err_t err;
 2447              		.loc 1 712 0 is_stmt 1
 2448 0030 0023     		movs	r3, #0
 2449              	.L225:
 2450              	.LVL219:
 741:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       LWIP_DEBUGF(TCP_INPUT_DEBUG, ("tcp_process: Connection RESET\n"));
 2451              		.loc 1 741 0
 2452 0032 B3B9     		cbnz	r3, .L293
 752:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
 2453              		.loc 1 752 0
 2454 0034 0025     		movs	r5, #0
 2455              	.LVL220:
 2456              	.L226:
 961:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 2457              		.loc 1 961 0
 2458 0036 2846     		mov	r0, r5
 2459 0038 02B0     		add	sp, sp, #8
 2460              	.LCFI19:
 2461              		.cfi_remember_state
 2462              		.cfi_def_cfa_offset 16
 2463              		@ sp needed
 2464 003a 70BD     		pop	{r4, r5, r6, pc}
 2465              	.LVL221:
 2466              	.L291:
 2467              	.LCFI20:
 2468              		.cfi_restore_state
 723:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         acceptable = 1;
 2469              		.loc 1 723 0
 2470 003c C26C     		ldr	r2, [r0, #76]
 2471 003e 974B     		ldr	r3, .L319+8
 2472 0040 1B68     		ldr	r3, [r3]
 2473 0042 9A42     		cmp	r2, r3
 2474 0044 07D0     		beq	.L263
 712:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   err_t err;
 2475              		.loc 1 712 0
 2476 0046 0023     		movs	r3, #0
 2477 0048 F3E7     		b	.L225
 2478              	.LVL222:
 2479              	.L292:
 737:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       }
 2480              		.loc 1 737 0
 2481 004a A37E     		ldrb	r3, [r4, #26]	@ zero_extendqisi2
 2482 004c 43F00203 		orr	r3, r3, #2
 2483 0050 A376     		strb	r3, [r4, #26]
 712:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   err_t err;
 2484              		.loc 1 712 0
 2485 0052 0023     		movs	r3, #0
ARM GAS  /tmp/ccCn7Yn1.s 			page 83


 2486 0054 EDE7     		b	.L225
 2487              	.LVL223:
 2488              	.L263:
 724:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       }
 2489              		.loc 1 724 0
 2490 0056 0123     		movs	r3, #1
 2491 0058 EBE7     		b	.L225
 2492              	.L264:
 730:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       } else  if (TCP_SEQ_BETWEEN(seqno, pcb->rcv_nxt,
 2493              		.loc 1 730 0
 2494 005a 0123     		movs	r3, #1
 2495 005c E9E7     		b	.L225
 2496              	.LVL224:
 2497              	.L265:
 712:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   err_t err;
 2498              		.loc 1 712 0
 2499 005e 0023     		movs	r3, #0
 2500 0060 E7E7     		b	.L225
 2501              	.LVL225:
 2502              	.L293:
 743:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       recv_flags |= TF_RESET;
 2503              		.loc 1 743 0
 2504 0062 59B1     		cbz	r1, .L294
 2505              	.LVL226:
 2506              	.L227:
 744:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       pcb->flags &= ~TF_ACK_DELAY;
 2507              		.loc 1 744 0
 2508 0064 8E4A     		ldr	r2, .L319+12
 2509 0066 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 2510 0068 43F00803 		orr	r3, r3, #8
 2511 006c 1370     		strb	r3, [r2]
 745:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       return ERR_RST;
 2512              		.loc 1 745 0
 2513 006e A37E     		ldrb	r3, [r4, #26]	@ zero_extendqisi2
 2514 0070 23F00103 		bic	r3, r3, #1
 2515 0074 A376     		strb	r3, [r4, #26]
 746:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     } else {
 2516              		.loc 1 746 0
 2517 0076 6FF00D05 		mvn	r5, #13
 2518 007a DCE7     		b	.L226
 2519              	.LVL227:
 2520              	.L294:
 743:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       recv_flags |= TF_RESET;
 2521              		.loc 1 743 0 discriminator 1
 2522 007c 894B     		ldr	r3, .L319+16
 2523              	.LVL228:
 2524 007e 40F2E722 		movw	r2, #743
 2525 0082 8949     		ldr	r1, .L319+20
 2526 0084 8948     		ldr	r0, .L319+24
 2527 0086 FFF7FEFF 		bl	printf
 2528              	.LVL229:
 2529 008a EBE7     		b	.L227
 2530              	.LVL230:
 2531              	.L223:
 756:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* Cope with new connection attempt after remote end crashed */
 2532              		.loc 1 756 0
 2533 008c 13F0020F 		tst	r3, #2
ARM GAS  /tmp/ccCn7Yn1.s 			page 84


 2534 0090 0AD0     		beq	.L228
 756:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* Cope with new connection attempt after remote end crashed */
 2535              		.loc 1 756 0 is_stmt 0 discriminator 1
 2536 0092 037D     		ldrb	r3, [r0, #20]	@ zero_extendqisi2
 2537 0094 023B     		subs	r3, r3, #2
 2538 0096 DBB2     		uxtb	r3, r3
 2539 0098 012B     		cmp	r3, #1
 2540 009a 05D9     		bls	.L228
 758:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     return ERR_OK;
 2541              		.loc 1 758 0 is_stmt 1
 2542 009c 837E     		ldrb	r3, [r0, #26]	@ zero_extendqisi2
 2543 009e 43F00203 		orr	r3, r3, #2
 2544 00a2 8376     		strb	r3, [r0, #26]
 759:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   }
 2545              		.loc 1 759 0
 2546 00a4 0025     		movs	r5, #0
 2547 00a6 C6E7     		b	.L226
 2548              	.L228:
 762:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* Update the PCB (in)activity timer unless rx is closed (see tcp_shutdown) */
 2549              		.loc 1 762 0
 2550 00a8 A37E     		ldrb	r3, [r4, #26]	@ zero_extendqisi2
 2551 00aa 13F0100F 		tst	r3, #16
 2552 00ae 02D1     		bne	.L229
 764:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   }
 2553              		.loc 1 764 0
 2554 00b0 7F4B     		ldr	r3, .L319+28
 2555 00b2 1B68     		ldr	r3, [r3]
 2556 00b4 2362     		str	r3, [r4, #32]
 2557              	.L229:
 766:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 2558              		.loc 1 766 0
 2559 00b6 0023     		movs	r3, #0
 2560 00b8 84F89630 		strb	r3, [r4, #150]
 768:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 2561              		.loc 1 768 0
 2562 00bc 2046     		mov	r0, r4
 2563              	.LVL231:
 2564 00be FFF7FEFF 		bl	tcp_parseopt
 2565              	.LVL232:
 771:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   case SYN_SENT:
 2566              		.loc 1 771 0
 2567 00c2 237D     		ldrb	r3, [r4, #20]	@ zero_extendqisi2
 2568 00c4 023B     		subs	r3, r3, #2
 2569 00c6 072B     		cmp	r3, #7
 2570 00c8 00F21982 		bhi	.L268
 2571 00cc DFE813F0 		tbh	[pc, r3, lsl #1]
 2572              	.L231:
 2573 00d0 0800     		.2byte	(.L230-.L231)/2
 2574 00d2 9B00     		.2byte	(.L232-.L231)/2
 2575 00d4 3501     		.2byte	(.L233-.L231)/2
 2576 00d6 4601     		.2byte	(.L234-.L231)/2
 2577 00d8 9C01     		.2byte	(.L235-.L231)/2
 2578 00da 3501     		.2byte	(.L233-.L231)/2
 2579 00dc CA01     		.2byte	(.L236-.L231)/2
 2580 00de FD01     		.2byte	(.L237-.L231)/2
 2581              		.p2align 1
 2582              	.L230:
ARM GAS  /tmp/ccCn7Yn1.s 			page 85


 776:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         && (ackno == pcb->lastack + 1)) {
 2583              		.loc 1 776 0
 2584 00e0 6C4B     		ldr	r3, .L319
 2585 00e2 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2586 00e4 03F01202 		and	r2, r3, #18
 2587 00e8 122A     		cmp	r2, #18
 2588 00ea 04D0     		beq	.L295
 2589              	.L238:
 827:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* send a RST to bring the other side in a non-synchronized state. */
 2590              		.loc 1 827 0
 2591 00ec 13F0100F 		tst	r3, #16
 2592 00f0 6BD1     		bne	.L296
 960:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** }
 2593              		.loc 1 960 0
 2594 00f2 0025     		movs	r5, #0
 2595 00f4 9FE7     		b	.L226
 2596              	.L295:
 777:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       pcb->rcv_nxt = seqno + 1;
 2597              		.loc 1 777 0
 2598 00f6 626C     		ldr	r2, [r4, #68]
 2599 00f8 0132     		adds	r2, r2, #1
 2600 00fa 6849     		ldr	r1, .L319+8
 2601 00fc 0968     		ldr	r1, [r1]
 2602 00fe 8A42     		cmp	r2, r1
 2603 0100 F4D1     		bne	.L238
 778:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       pcb->rcv_ann_right_edge = pcb->rcv_nxt;
 2604              		.loc 1 778 0
 2605 0102 654B     		ldr	r3, .L319+4
 2606 0104 1B68     		ldr	r3, [r3]
 2607 0106 5A1C     		adds	r2, r3, #1
 2608 0108 6262     		str	r2, [r4, #36]
 779:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       pcb->lastack = ackno;
 2609              		.loc 1 779 0
 2610 010a E262     		str	r2, [r4, #44]
 780:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       pcb->snd_wnd = tcphdr->wnd;
 2611              		.loc 1 780 0
 2612 010c 6164     		str	r1, [r4, #68]
 781:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       pcb->snd_wnd_max = pcb->snd_wnd;
 2613              		.loc 1 781 0
 2614 010e 694A     		ldr	r2, .L319+32
 2615 0110 1268     		ldr	r2, [r2]
 2616 0112 D289     		ldrh	r2, [r2, #14]	@ unaligned
 2617 0114 A4F85C20 		strh	r2, [r4, #92]	@ movhi
 782:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       pcb->snd_wl1 = seqno - 1; /* initialise to seqno - 1 to force window update */
 2618              		.loc 1 782 0
 2619 0118 A4F85E20 		strh	r2, [r4, #94]	@ movhi
 783:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       pcb->state = ESTABLISHED;
 2620              		.loc 1 783 0
 2621 011c 013B     		subs	r3, r3, #1
 2622 011e 2365     		str	r3, [r4, #80]
 784:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 2623              		.loc 1 784 0
 2624 0120 0423     		movs	r3, #4
 2625 0122 2375     		strb	r3, [r4, #20]
 787:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #endif /* TCP_CALCULATE_EFF_SEND_MSS */
 2626              		.loc 1 787 0
 2627 0124 E118     		adds	r1, r4, r3
ARM GAS  /tmp/ccCn7Yn1.s 			page 86


 2628 0126 608E     		ldrh	r0, [r4, #50]
 2629 0128 FFF7FEFF 		bl	tcp_eff_send_mss_impl
 2630              	.LVL233:
 2631 012c 6086     		strh	r0, [r4, #50]	@ movhi
 790:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       LWIP_DEBUGF(TCP_CWND_DEBUG, ("tcp_process (SENT): cwnd %"TCPWNDSIZE_F
 2632              		.loc 1 790 0
 2633 012e 4300     		lsls	r3, r0, #1
 2634 0130 41F21C12 		movw	r2, #4380
 2635 0134 9342     		cmp	r3, r2
 2636 0136 38BF     		it	cc
 2637 0138 1346     		movcc	r3, r2
 2638 013a 8000     		lsls	r0, r0, #2
 2639 013c 8342     		cmp	r3, r0
 2640 013e 28BF     		it	cs
 2641 0140 0346     		movcs	r3, r0
 2642 0142 A4F84830 		strh	r3, [r4, #72]	@ movhi
 794:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       --pcb->snd_queuelen;
 2643              		.loc 1 794 0
 2644 0146 B4F86230 		ldrh	r3, [r4, #98]
 2645 014a 1BB3     		cbz	r3, .L297
 2646              	.L239:
 795:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       LWIP_DEBUGF(TCP_QLEN_DEBUG, ("tcp_process: SYN-SENT --queuelen %"TCPWNDSIZE_F"\n", (tcpwnd_si
 2647              		.loc 1 795 0
 2648 014c B4F86230 		ldrh	r3, [r4, #98]
 2649 0150 013B     		subs	r3, r3, #1
 2650 0152 A4F86230 		strh	r3, [r4, #98]	@ movhi
 797:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       if (rseg == NULL) {
 2651              		.loc 1 797 0
 2652 0156 E56E     		ldr	r5, [r4, #108]
 2653              	.LVL234:
 798:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         /* might happen if tcp_output fails in tcp_rexmit_rto()
 2654              		.loc 1 798 0
 2655 0158 25B3     		cbz	r5, .L298
 805:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       }
 2656              		.loc 1 805 0
 2657 015a 2B68     		ldr	r3, [r5]
 2658 015c E366     		str	r3, [r4, #108]
 2659              	.L242:
 807:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 2660              		.loc 1 807 0
 2661 015e 2846     		mov	r0, r5
 2662 0160 FFF7FEFF 		bl	tcp_seg_free
 2663              	.LVL235:
 811:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pcb->rtime = -1;
 2664              		.loc 1 811 0
 2665 0164 E36E     		ldr	r3, [r4, #108]
 2666 0166 53B3     		cbz	r3, .L299
 814:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pcb->nrtx = 0;
 2667              		.loc 1 814 0
 2668 0168 0023     		movs	r3, #0
 2669 016a 2386     		strh	r3, [r4, #48]	@ movhi
 815:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       }
 2670              		.loc 1 815 0
 2671 016c 84F84230 		strb	r3, [r4, #66]
 2672              	.L244:
 820:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       if (err == ERR_ABRT) {
 2673              		.loc 1 820 0
ARM GAS  /tmp/ccCn7Yn1.s 			page 87


 2674 0170 D4F88430 		ldr	r3, [r4, #132]
 2675 0174 3BB3     		cbz	r3, .L269
 820:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       if (err == ERR_ABRT) {
 2676              		.loc 1 820 0 is_stmt 0 discriminator 1
 2677 0176 0022     		movs	r2, #0
 2678 0178 2146     		mov	r1, r4
 2679 017a 2069     		ldr	r0, [r4, #16]
 2680 017c 9847     		blx	r3
 2681              	.LVL236:
 2682 017e 0546     		mov	r5, r0
 2683              	.LVL237:
 2684              	.L245:
 821:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         return ERR_ABRT;
 2685              		.loc 1 821 0 is_stmt 1
 2686 0180 15F10D0F 		cmn	r5, #13
 2687 0184 3FF457AF 		beq	.L226
 824:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
 2688              		.loc 1 824 0
 2689 0188 A37E     		ldrb	r3, [r4, #26]	@ zero_extendqisi2
 2690 018a 43F00203 		orr	r3, r3, #2
 2691 018e A376     		strb	r3, [r4, #26]
 960:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** }
 2692              		.loc 1 960 0
 2693 0190 0025     		movs	r5, #0
 2694              	.LVL238:
 824:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
 2695              		.loc 1 824 0
 2696 0192 50E7     		b	.L226
 2697              	.LVL239:
 2698              	.L297:
 794:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       --pcb->snd_queuelen;
 2699              		.loc 1 794 0 discriminator 1
 2700 0194 434B     		ldr	r3, .L319+16
 2701 0196 40F21A32 		movw	r2, #794
 2702 019a 4749     		ldr	r1, .L319+36
 2703 019c 4348     		ldr	r0, .L319+24
 2704 019e FFF7FEFF 		bl	printf
 2705              	.LVL240:
 2706 01a2 D3E7     		b	.L239
 2707              	.LVL241:
 2708              	.L298:
 801:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         LWIP_ASSERT("no segment to free", rseg != NULL);
 2709              		.loc 1 801 0
 2710 01a4 A56E     		ldr	r5, [r4, #104]
 2711              	.LVL242:
 802:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pcb->unsent = rseg->next;
 2712              		.loc 1 802 0
 2713 01a6 15B1     		cbz	r5, .L300
 2714              	.L241:
 803:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       } else {
 2715              		.loc 1 803 0
 2716 01a8 2B68     		ldr	r3, [r5]
 2717 01aa A366     		str	r3, [r4, #104]
 2718 01ac D7E7     		b	.L242
 2719              	.L300:
 802:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pcb->unsent = rseg->next;
 2720              		.loc 1 802 0 discriminator 1
ARM GAS  /tmp/ccCn7Yn1.s 			page 88


 2721 01ae 3D4B     		ldr	r3, .L319+16
 2722 01b0 40F22232 		movw	r2, #802
 2723 01b4 4149     		ldr	r1, .L319+40
 2724 01b6 3D48     		ldr	r0, .L319+24
 2725 01b8 FFF7FEFF 		bl	printf
 2726              	.LVL243:
 2727 01bc F4E7     		b	.L241
 2728              	.L299:
 812:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       } else {
 2729              		.loc 1 812 0
 2730 01be 4FF6FF73 		movw	r3, #65535
 2731 01c2 2386     		strh	r3, [r4, #48]	@ movhi
 2732 01c4 D4E7     		b	.L244
 2733              	.L269:
 820:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       if (err == ERR_ABRT) {
 2734              		.loc 1 820 0
 2735 01c6 0025     		movs	r5, #0
 2736              	.LVL244:
 2737 01c8 DAE7     		b	.L245
 2738              	.L296:
 830:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* Resend SYN immediately (don't wait for rto timeout) to establish
 2739              		.loc 1 830 0
 2740 01ca 3A4B     		ldr	r3, .L319+32
 2741 01cc 1B68     		ldr	r3, [r3]
 829:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         ip_current_src_addr(), tcphdr->dest, tcphdr->src);
 2742              		.loc 1 829 0
 2743 01ce 3C4A     		ldr	r2, .L319+44
 2744 01d0 3C49     		ldr	r1, .L319+48
 2745 01d2 0D88     		ldrh	r5, [r1]
 2746 01d4 3049     		ldr	r1, .L319+4
 2747 01d6 0968     		ldr	r1, [r1]
 2748 01d8 3048     		ldr	r0, .L319+8
 2749 01da 0068     		ldr	r0, [r0]
 2750 01dc 1E88     		ldrh	r6, [r3]	@ unaligned
 2751 01de 0196     		str	r6, [sp, #4]
 2752 01e0 5B88     		ldrh	r3, [r3, #2]	@ unaligned
 2753 01e2 0093     		str	r3, [sp]
 2754 01e4 1346     		mov	r3, r2
 2755 01e6 0432     		adds	r2, r2, #4
 2756 01e8 2944     		add	r1, r1, r5
 2757 01ea FFF7FEFF 		bl	tcp_rst
 2758              	.LVL245:
 834:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pcb->rtime = 0;
 2759              		.loc 1 834 0
 2760 01ee 94F84230 		ldrb	r3, [r4, #66]	@ zero_extendqisi2
 2761 01f2 052B     		cmp	r3, #5
 2762 01f4 01D9     		bls	.L301
 960:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** }
 2763              		.loc 1 960 0
 2764 01f6 0025     		movs	r5, #0
 2765 01f8 1DE7     		b	.L226
 2766              	.L301:
 835:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         tcp_rexmit_rto(pcb);
 2767              		.loc 1 835 0
 2768 01fa 0025     		movs	r5, #0
 2769 01fc 2586     		strh	r5, [r4, #48]	@ movhi
 836:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       }
ARM GAS  /tmp/ccCn7Yn1.s 			page 89


 2770              		.loc 1 836 0
 2771 01fe 2046     		mov	r0, r4
 2772 0200 FFF7FEFF 		bl	tcp_rexmit_rto
 2773              	.LVL246:
 2774 0204 17E7     		b	.L226
 2775              	.L232:
 841:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* expected ACK number? */
 2776              		.loc 1 841 0
 2777 0206 234B     		ldr	r3, .L319
 2778 0208 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2779 020a 13F0100F 		tst	r3, #16
 2780 020e 00F08380 		beq	.L246
 843:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pcb->state = ESTABLISHED;
 2781              		.loc 1 843 0
 2782 0212 224B     		ldr	r3, .L319+8
 2783 0214 1868     		ldr	r0, [r3]
 2784 0216 636C     		ldr	r3, [r4, #68]
 2785 0218 C31A     		subs	r3, r0, r3
 2786 021a 012B     		cmp	r3, #1
 2787 021c 03D4     		bmi	.L247
 843:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pcb->state = ESTABLISHED;
 2788              		.loc 1 843 0 is_stmt 0 discriminator 1
 2789 021e E36C     		ldr	r3, [r4, #76]
 2790 0220 C31A     		subs	r3, r0, r3
 2791 0222 002B     		cmp	r3, #0
 2792 0224 11DD     		ble	.L302
 2793              	.L247:
 891:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       }
 2794              		.loc 1 891 0 is_stmt 1
 2795 0226 234B     		ldr	r3, .L319+32
 2796 0228 1B68     		ldr	r3, [r3]
 890:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           ip_current_src_addr(), tcphdr->dest, tcphdr->src);
 2797              		.loc 1 890 0
 2798 022a 254A     		ldr	r2, .L319+44
 2799 022c 2549     		ldr	r1, .L319+48
 2800 022e 0C88     		ldrh	r4, [r1]
 2801              	.LVL247:
 2802 0230 1949     		ldr	r1, .L319+4
 2803 0232 0968     		ldr	r1, [r1]
 2804 0234 1D88     		ldrh	r5, [r3]	@ unaligned
 2805 0236 0195     		str	r5, [sp, #4]
 2806 0238 5B88     		ldrh	r3, [r3, #2]	@ unaligned
 2807 023a 0093     		str	r3, [sp]
 2808 023c 1346     		mov	r3, r2
 2809 023e 0432     		adds	r2, r2, #4
 2810 0240 2144     		add	r1, r1, r4
 2811 0242 FFF7FEFF 		bl	tcp_rst
 2812              	.LVL248:
 960:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** }
 2813              		.loc 1 960 0
 2814 0246 0025     		movs	r5, #0
 2815 0248 F5E6     		b	.L226
 2816              	.LVL249:
 2817              	.L302:
 844:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         LWIP_DEBUGF(TCP_DEBUG, ("TCP connection established %"U16_F" -> %"U16_F".\n", inseg.tcphdr-
 2818              		.loc 1 844 0
 2819 024a 0423     		movs	r3, #4
ARM GAS  /tmp/ccCn7Yn1.s 			page 90


 2820 024c 2375     		strb	r3, [r4, #20]
 848:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           (pcb->listener == NULL) || (pcb->listener->accept != NULL));
 2821              		.loc 1 848 0
 2822 024e A36F     		ldr	r3, [r4, #120]
 2823 0250 0BB1     		cbz	r3, .L248
 848:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           (pcb->listener == NULL) || (pcb->listener->accept != NULL));
 2824              		.loc 1 848 0 is_stmt 0 discriminator 1
 2825 0252 9B69     		ldr	r3, [r3, #24]
 2826 0254 9BB1     		cbz	r3, .L303
 2827              	.L248:
 851:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           /* listen pcb might be closed by now */
 2828              		.loc 1 851 0 is_stmt 1
 2829 0256 A36F     		ldr	r3, [r4, #120]
 2830 0258 CBB1     		cbz	r3, .L272
 859:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         }
 2831              		.loc 1 859 0
 2832 025a 9B69     		ldr	r3, [r3, #24]
 2833 025c B3B3     		cbz	r3, .L273
 859:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         }
 2834              		.loc 1 859 0 is_stmt 0 discriminator 1
 2835 025e 0022     		movs	r2, #0
 2836 0260 2146     		mov	r1, r4
 2837 0262 2069     		ldr	r0, [r4, #16]
 2838 0264 9847     		blx	r3
 2839              	.LVL250:
 2840 0266 0546     		mov	r5, r0
 2841              	.LVL251:
 2842              	.L249:
 861:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           /* If the accept function returns with an error, we abort
 2843              		.loc 1 861 0 is_stmt 1
 2844 0268 9DB3     		cbz	r5, .L250
 865:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             tcp_abort(pcb);
 2845              		.loc 1 865 0
 2846 026a 15F10D0F 		cmn	r5, #13
 2847 026e 3FF4E2AE 		beq	.L226
 866:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           }
 2848              		.loc 1 866 0
 2849 0272 2046     		mov	r0, r4
 2850 0274 FFF7FEFF 		bl	tcp_abort
 2851              	.LVL252:
 868:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         }
 2852              		.loc 1 868 0
 2853 0278 6FF00C05 		mvn	r5, #12
 2854              	.LVL253:
 2855 027c DBE6     		b	.L226
 2856              	.LVL254:
 2857              	.L303:
 848:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           (pcb->listener == NULL) || (pcb->listener->accept != NULL));
 2858              		.loc 1 848 0 discriminator 2
 2859 027e 094B     		ldr	r3, .L319+16
 2860 0280 40F25132 		movw	r2, #849
 2861 0284 1049     		ldr	r1, .L319+52
 2862 0286 0948     		ldr	r0, .L319+24
 2863 0288 FFF7FEFF 		bl	printf
 2864              	.LVL255:
 2865 028c E3E7     		b	.L248
 2866              	.L272:
ARM GAS  /tmp/ccCn7Yn1.s 			page 91


 853:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         } else
 2867              		.loc 1 853 0
 2868 028e 6FF00505 		mvn	r5, #5
 2869 0292 E9E7     		b	.L249
 2870              	.L320:
 2871              		.align	2
 2872              	.L319:
 2873 0294 00000000 		.word	.LANCHOR6
 2874 0298 00000000 		.word	.LANCHOR7
 2875 029c 00000000 		.word	.LANCHOR9
 2876 02a0 00000000 		.word	.LANCHOR5
 2877 02a4 00000000 		.word	.LC0
 2878 02a8 00000000 		.word	.LC13
 2879 02ac 4C000000 		.word	.LC2
 2880 02b0 00000000 		.word	tcp_ticks
 2881 02b4 00000000 		.word	.LANCHOR3
 2882 02b8 20000000 		.word	.LC14
 2883 02bc 38000000 		.word	.LC15
 2884 02c0 10000000 		.word	ip_data+16
 2885 02c4 00000000 		.word	.LANCHOR8
 2886 02c8 4C000000 		.word	.LC16
 2887              	.L273:
 859:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         }
 2888              		.loc 1 859 0
 2889 02cc 6FF00F05 		mvn	r5, #15
 2890 02d0 CAE7     		b	.L249
 2891              	.LVL256:
 2892              	.L250:
 872:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 2893              		.loc 1 872 0
 2894 02d2 2046     		mov	r0, r4
 2895 02d4 FFF7FEFF 		bl	tcp_receive
 2896              	.LVL257:
 875:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           recv_acked--;
 2897              		.loc 1 875 0
 2898 02d8 8F4B     		ldr	r3, .L321
 2899 02da 1B88     		ldrh	r3, [r3]
 2900 02dc 13B1     		cbz	r3, .L251
 876:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         }
 2901              		.loc 1 876 0
 2902 02de 013B     		subs	r3, r3, #1
 2903 02e0 8D4A     		ldr	r2, .L321
 2904 02e2 1380     		strh	r3, [r2]	@ movhi
 2905              	.L251:
 879:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         LWIP_DEBUGF(TCP_CWND_DEBUG, ("tcp_process (SYN_RCVD): cwnd %"TCPWNDSIZE_F
 2906              		.loc 1 879 0
 2907 02e4 628E     		ldrh	r2, [r4, #50]
 2908 02e6 5300     		lsls	r3, r2, #1
 2909 02e8 41F21C11 		movw	r1, #4380
 2910 02ec 8B42     		cmp	r3, r1
 2911 02ee 38BF     		it	cc
 2912 02f0 0B46     		movcc	r3, r1
 2913 02f2 9200     		lsls	r2, r2, #2
 2914 02f4 9342     		cmp	r3, r2
 2915 02f6 28BF     		it	cs
 2916 02f8 1346     		movcs	r3, r2
 2917 02fa A4F84830 		strh	r3, [r4, #72]	@ movhi
ARM GAS  /tmp/ccCn7Yn1.s 			page 92


 884:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           tcp_ack_now(pcb);
 2918              		.loc 1 884 0
 2919 02fe 874B     		ldr	r3, .L321+4
 2920 0300 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2921 0302 13F0200F 		tst	r3, #32
 2922 0306 3FF496AE 		beq	.L226
 885:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           pcb->state = CLOSE_WAIT;
 2923              		.loc 1 885 0
 2924 030a A37E     		ldrb	r3, [r4, #26]	@ zero_extendqisi2
 2925 030c 43F00203 		orr	r3, r3, #2
 2926 0310 A376     		strb	r3, [r4, #26]
 886:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         }
 2927              		.loc 1 886 0
 2928 0312 0723     		movs	r3, #7
 2929 0314 2375     		strb	r3, [r4, #20]
 2930 0316 8EE6     		b	.L226
 2931              	.LVL258:
 2932              	.L246:
 893:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* Looks like another copy of the SYN - retransmit our SYN-ACK */
 2933              		.loc 1 893 0
 2934 0318 13F0020F 		tst	r3, #2
 2935 031c 00F0F180 		beq	.L274
 893:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* Looks like another copy of the SYN - retransmit our SYN-ACK */
 2936              		.loc 1 893 0 is_stmt 0 discriminator 1
 2937 0320 636A     		ldr	r3, [r4, #36]
 2938 0322 013B     		subs	r3, r3, #1
 2939 0324 7E4A     		ldr	r2, .L321+8
 2940 0326 1268     		ldr	r2, [r2]
 2941 0328 9342     		cmp	r3, r2
 2942 032a 01D0     		beq	.L304
 960:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** }
 2943              		.loc 1 960 0 is_stmt 1
 2944 032c 0025     		movs	r5, #0
 2945 032e 82E6     		b	.L226
 2946              	.L304:
 895:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
 2947              		.loc 1 895 0
 2948 0330 2046     		mov	r0, r4
 2949 0332 FFF7FEFF 		bl	tcp_rexmit
 2950              	.LVL259:
 960:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** }
 2951              		.loc 1 960 0
 2952 0336 0025     		movs	r5, #0
 2953 0338 7DE6     		b	.L226
 2954              	.L233:
 901:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     if (recv_flags & TF_GOT_FIN) { /* passive close */
 2955              		.loc 1 901 0
 2956 033a 2046     		mov	r0, r4
 2957 033c FFF7FEFF 		bl	tcp_receive
 2958              	.LVL260:
 902:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       tcp_ack_now(pcb);
 2959              		.loc 1 902 0
 2960 0340 764B     		ldr	r3, .L321+4
 2961 0342 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2962 0344 13F0200F 		tst	r3, #32
 2963 0348 00F0DD80 		beq	.L276
 903:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       pcb->state = CLOSE_WAIT;
ARM GAS  /tmp/ccCn7Yn1.s 			page 93


 2964              		.loc 1 903 0
 2965 034c A37E     		ldrb	r3, [r4, #26]	@ zero_extendqisi2
 2966 034e 43F00203 		orr	r3, r3, #2
 2967 0352 A376     		strb	r3, [r4, #26]
 904:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
 2968              		.loc 1 904 0
 2969 0354 0723     		movs	r3, #7
 2970 0356 2375     		strb	r3, [r4, #20]
 960:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** }
 2971              		.loc 1 960 0
 2972 0358 0025     		movs	r5, #0
 2973 035a 6CE6     		b	.L226
 2974              	.L234:
 908:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     if (recv_flags & TF_GOT_FIN) {
 2975              		.loc 1 908 0
 2976 035c 2046     		mov	r0, r4
 2977 035e FFF7FEFF 		bl	tcp_receive
 2978              	.LVL261:
 909:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       if ((flags & TCP_ACK) && (ackno == pcb->snd_nxt) &&
 2979              		.loc 1 909 0
 2980 0362 6E4B     		ldr	r3, .L321+4
 2981 0364 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2982 0366 13F0200F 		tst	r3, #32
 2983 036a 38D0     		beq	.L252
 910:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           pcb->unsent == NULL) {
 2984              		.loc 1 910 0
 2985 036c 6D4B     		ldr	r3, .L321+12
 2986 036e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2987 0370 13F0100F 		tst	r3, #16
 2988 0374 04D0     		beq	.L253
 910:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           pcb->unsent == NULL) {
 2989              		.loc 1 910 0 is_stmt 0 discriminator 1
 2990 0376 E26C     		ldr	r2, [r4, #76]
 2991 0378 6B4B     		ldr	r3, .L321+16
 2992 037a 1B68     		ldr	r3, [r3]
 2993 037c 9A42     		cmp	r2, r3
 2994 037e 07D0     		beq	.L305
 2995              	.L253:
 920:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pcb->state = CLOSING;
 2996              		.loc 1 920 0 is_stmt 1
 2997 0380 A37E     		ldrb	r3, [r4, #26]	@ zero_extendqisi2
 2998 0382 43F00203 		orr	r3, r3, #2
 2999 0386 A376     		strb	r3, [r4, #26]
 921:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       }
 3000              		.loc 1 921 0
 3001 0388 0823     		movs	r3, #8
 3002 038a 2375     		strb	r3, [r4, #20]
 960:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** }
 3003              		.loc 1 960 0
 3004 038c 0025     		movs	r5, #0
 3005 038e 52E6     		b	.L226
 3006              	.L305:
 911:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         LWIP_DEBUGF(TCP_DEBUG,
 3007              		.loc 1 911 0 discriminator 2
 3008 0390 A36E     		ldr	r3, [r4, #104]
 910:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           pcb->unsent == NULL) {
 3009              		.loc 1 910 0 discriminator 2
ARM GAS  /tmp/ccCn7Yn1.s 			page 94


 3010 0392 002B     		cmp	r3, #0
 3011 0394 F4D1     		bne	.L253
 914:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         tcp_pcb_purge(pcb);
 3012              		.loc 1 914 0
 3013 0396 A37E     		ldrb	r3, [r4, #26]	@ zero_extendqisi2
 3014 0398 43F00203 		orr	r3, r3, #2
 3015 039c A376     		strb	r3, [r4, #26]
 915:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         TCP_RMV_ACTIVE(pcb);
 3016              		.loc 1 915 0
 3017 039e 2046     		mov	r0, r4
 3018 03a0 FFF7FEFF 		bl	tcp_pcb_purge
 3019              	.LVL262:
 916:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pcb->state = TIME_WAIT;
 3020              		.loc 1 916 0
 3021 03a4 614B     		ldr	r3, .L321+20
 3022 03a6 1B68     		ldr	r3, [r3]
 3023 03a8 9C42     		cmp	r4, r3
 3024 03aa 05D0     		beq	.L306
 3025              	.L254:
 3026              	.LVL263:
 3027              	.LBB10:
 916:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pcb->state = TIME_WAIT;
 3028              		.loc 1 916 0 is_stmt 0 discriminator 8
 3029 03ac 53B1     		cbz	r3, .L255
 916:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pcb->state = TIME_WAIT;
 3030              		.loc 1 916 0 discriminator 9
 3031 03ae DA68     		ldr	r2, [r3, #12]
 3032 03b0 9442     		cmp	r4, r2
 3033 03b2 05D0     		beq	.L307
 916:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pcb->state = TIME_WAIT;
 3034              		.loc 1 916 0
 3035 03b4 1346     		mov	r3, r2
 3036              	.LVL264:
 3037 03b6 F9E7     		b	.L254
 3038              	.L306:
 3039              	.LBE10:
 916:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pcb->state = TIME_WAIT;
 3040              		.loc 1 916 0 discriminator 1
 3041 03b8 DA68     		ldr	r2, [r3, #12]
 3042 03ba 5C4B     		ldr	r3, .L321+20
 3043 03bc 1A60     		str	r2, [r3]
 3044 03be 01E0     		b	.L255
 3045              	.LVL265:
 3046              	.L307:
 3047              	.LBB11:
 916:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pcb->state = TIME_WAIT;
 3048              		.loc 1 916 0 discriminator 5
 3049 03c0 E268     		ldr	r2, [r4, #12]
 3050 03c2 DA60     		str	r2, [r3, #12]
 3051              	.LVL266:
 3052              	.L255:
 3053              	.LBE11:
 916:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pcb->state = TIME_WAIT;
 3054              		.loc 1 916 0 discriminator 10
 3055 03c4 0122     		movs	r2, #1
 3056 03c6 5A4B     		ldr	r3, .L321+24
 3057 03c8 1A70     		strb	r2, [r3]
ARM GAS  /tmp/ccCn7Yn1.s 			page 95


 917:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         TCP_REG(&tcp_tw_pcbs, pcb);
 3058              		.loc 1 917 0 is_stmt 1 discriminator 10
 3059 03ca 0A23     		movs	r3, #10
 3060 03cc 2375     		strb	r3, [r4, #20]
 918:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       } else {
 3061              		.loc 1 918 0 discriminator 10
 3062 03ce 594B     		ldr	r3, .L321+28
 3063 03d0 1A68     		ldr	r2, [r3]
 3064 03d2 E260     		str	r2, [r4, #12]
 3065 03d4 1C60     		str	r4, [r3]
 3066 03d6 FFF7FEFF 		bl	tcp_timer_needed
 3067              	.LVL267:
 960:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** }
 3068              		.loc 1 960 0 discriminator 10
 3069 03da 0025     		movs	r5, #0
 918:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       } else {
 3070              		.loc 1 918 0 discriminator 10
 3071 03dc 2BE6     		b	.L226
 3072              	.L252:
 923:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                pcb->unsent == NULL) {
 3073              		.loc 1 923 0
 3074 03de 514B     		ldr	r3, .L321+12
 3075 03e0 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3076 03e2 13F0100F 		tst	r3, #16
 3077 03e6 00F09080 		beq	.L278
 923:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                pcb->unsent == NULL) {
 3078              		.loc 1 923 0 is_stmt 0 discriminator 1
 3079 03ea E26C     		ldr	r2, [r4, #76]
 3080 03ec 4E4B     		ldr	r3, .L321+16
 3081 03ee 1B68     		ldr	r3, [r3]
 3082 03f0 9A42     		cmp	r2, r3
 3083 03f2 01D0     		beq	.L308
 960:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** }
 3084              		.loc 1 960 0 is_stmt 1
 3085 03f4 0025     		movs	r5, #0
 3086 03f6 1EE6     		b	.L226
 3087              	.L308:
 924:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       pcb->state = FIN_WAIT_2;
 3088              		.loc 1 924 0 discriminator 2
 3089 03f8 A36E     		ldr	r3, [r4, #104]
 923:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****                pcb->unsent == NULL) {
 3090              		.loc 1 923 0 discriminator 2
 3091 03fa 0BB1     		cbz	r3, .L309
 960:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** }
 3092              		.loc 1 960 0
 3093 03fc 0025     		movs	r5, #0
 3094 03fe 1AE6     		b	.L226
 3095              	.L309:
 925:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
 3096              		.loc 1 925 0
 3097 0400 0623     		movs	r3, #6
 3098 0402 2375     		strb	r3, [r4, #20]
 960:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** }
 3099              		.loc 1 960 0
 3100 0404 0025     		movs	r5, #0
 3101 0406 16E6     		b	.L226
 3102              	.L235:
ARM GAS  /tmp/ccCn7Yn1.s 			page 96


 929:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     if (recv_flags & TF_GOT_FIN) {
 3103              		.loc 1 929 0
 3104 0408 2046     		mov	r0, r4
 3105 040a FFF7FEFF 		bl	tcp_receive
 3106              	.LVL268:
 930:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       LWIP_DEBUGF(TCP_DEBUG, ("TCP connection closed: FIN_WAIT_2 %"U16_F" -> %"U16_F".\n", inseg.tc
 3107              		.loc 1 930 0
 3108 040e 434B     		ldr	r3, .L321+4
 3109 0410 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3110 0412 13F0200F 		tst	r3, #32
 3111 0416 01D1     		bne	.L310
 960:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** }
 3112              		.loc 1 960 0
 3113 0418 0025     		movs	r5, #0
 3114 041a 0CE6     		b	.L226
 3115              	.L310:
 932:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       tcp_pcb_purge(pcb);
 3116              		.loc 1 932 0
 3117 041c A37E     		ldrb	r3, [r4, #26]	@ zero_extendqisi2
 3118 041e 43F00203 		orr	r3, r3, #2
 3119 0422 A376     		strb	r3, [r4, #26]
 933:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       TCP_RMV_ACTIVE(pcb);
 3120              		.loc 1 933 0
 3121 0424 2046     		mov	r0, r4
 3122 0426 FFF7FEFF 		bl	tcp_pcb_purge
 3123              	.LVL269:
 934:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       pcb->state = TIME_WAIT;
 3124              		.loc 1 934 0
 3125 042a 404B     		ldr	r3, .L321+20
 3126 042c 1B68     		ldr	r3, [r3]
 3127 042e 9C42     		cmp	r4, r3
 3128 0430 05D0     		beq	.L311
 3129              	.L257:
 3130              	.LVL270:
 3131              	.LBB12:
 934:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       pcb->state = TIME_WAIT;
 3132              		.loc 1 934 0 is_stmt 0 discriminator 8
 3133 0432 53B1     		cbz	r3, .L258
 934:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       pcb->state = TIME_WAIT;
 3134              		.loc 1 934 0 discriminator 9
 3135 0434 DA68     		ldr	r2, [r3, #12]
 3136 0436 9442     		cmp	r4, r2
 3137 0438 05D0     		beq	.L312
 934:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       pcb->state = TIME_WAIT;
 3138              		.loc 1 934 0
 3139 043a 1346     		mov	r3, r2
 3140              	.LVL271:
 3141 043c F9E7     		b	.L257
 3142              	.L311:
 3143              	.LBE12:
 934:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       pcb->state = TIME_WAIT;
 3144              		.loc 1 934 0 discriminator 1
 3145 043e DA68     		ldr	r2, [r3, #12]
 3146 0440 3A4B     		ldr	r3, .L321+20
 3147 0442 1A60     		str	r2, [r3]
 3148 0444 01E0     		b	.L258
 3149              	.LVL272:
ARM GAS  /tmp/ccCn7Yn1.s 			page 97


 3150              	.L312:
 3151              	.LBB13:
 934:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       pcb->state = TIME_WAIT;
 3152              		.loc 1 934 0 discriminator 5
 3153 0446 E268     		ldr	r2, [r4, #12]
 3154 0448 DA60     		str	r2, [r3, #12]
 3155              	.LVL273:
 3156              	.L258:
 3157              	.LBE13:
 934:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       pcb->state = TIME_WAIT;
 3158              		.loc 1 934 0 discriminator 10
 3159 044a 0122     		movs	r2, #1
 3160 044c 384B     		ldr	r3, .L321+24
 3161 044e 1A70     		strb	r2, [r3]
 935:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       TCP_REG(&tcp_tw_pcbs, pcb);
 3162              		.loc 1 935 0 is_stmt 1 discriminator 10
 3163 0450 0A23     		movs	r3, #10
 3164 0452 2375     		strb	r3, [r4, #20]
 936:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
 3165              		.loc 1 936 0 discriminator 10
 3166 0454 374B     		ldr	r3, .L321+28
 3167 0456 1A68     		ldr	r2, [r3]
 3168 0458 E260     		str	r2, [r4, #12]
 3169 045a 1C60     		str	r4, [r3]
 3170 045c FFF7FEFF 		bl	tcp_timer_needed
 3171              	.LVL274:
 960:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** }
 3172              		.loc 1 960 0 discriminator 10
 3173 0460 0025     		movs	r5, #0
 3174 0462 E8E5     		b	.L226
 3175              	.L236:
 940:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     if ((flags & TCP_ACK) && ackno == pcb->snd_nxt && pcb->unsent == NULL) {
 3176              		.loc 1 940 0
 3177 0464 2046     		mov	r0, r4
 3178 0466 FFF7FEFF 		bl	tcp_receive
 3179              	.LVL275:
 941:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       LWIP_DEBUGF(TCP_DEBUG, ("TCP connection closed: CLOSING %"U16_F" -> %"U16_F".\n", inseg.tcphd
 3180              		.loc 1 941 0
 3181 046a 2E4B     		ldr	r3, .L321+12
 3182 046c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3183 046e 13F0100F 		tst	r3, #16
 3184 0472 4CD0     		beq	.L283
 941:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       LWIP_DEBUGF(TCP_DEBUG, ("TCP connection closed: CLOSING %"U16_F" -> %"U16_F".\n", inseg.tcphd
 3185              		.loc 1 941 0 is_stmt 0 discriminator 1
 3186 0474 E26C     		ldr	r2, [r4, #76]
 3187 0476 2C4B     		ldr	r3, .L321+16
 3188 0478 1B68     		ldr	r3, [r3]
 3189 047a 9A42     		cmp	r2, r3
 3190 047c 01D0     		beq	.L313
 960:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** }
 3191              		.loc 1 960 0 is_stmt 1
 3192 047e 0025     		movs	r5, #0
 3193 0480 D9E5     		b	.L226
 3194              	.L313:
 941:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       LWIP_DEBUGF(TCP_DEBUG, ("TCP connection closed: CLOSING %"U16_F" -> %"U16_F".\n", inseg.tcphd
 3195              		.loc 1 941 0 discriminator 2
 3196 0482 A36E     		ldr	r3, [r4, #104]
ARM GAS  /tmp/ccCn7Yn1.s 			page 98


 3197 0484 0BB1     		cbz	r3, .L314
 960:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** }
 3198              		.loc 1 960 0
 3199 0486 0025     		movs	r5, #0
 3200 0488 D5E5     		b	.L226
 3201              	.L314:
 943:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       TCP_RMV_ACTIVE(pcb);
 3202              		.loc 1 943 0
 3203 048a 2046     		mov	r0, r4
 3204 048c FFF7FEFF 		bl	tcp_pcb_purge
 3205              	.LVL276:
 944:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       pcb->state = TIME_WAIT;
 3206              		.loc 1 944 0
 3207 0490 264B     		ldr	r3, .L321+20
 3208 0492 1B68     		ldr	r3, [r3]
 3209 0494 9C42     		cmp	r4, r3
 3210 0496 05D0     		beq	.L315
 3211              	.L260:
 3212              	.LVL277:
 3213              	.LBB14:
 944:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       pcb->state = TIME_WAIT;
 3214              		.loc 1 944 0 is_stmt 0 discriminator 8
 3215 0498 53B1     		cbz	r3, .L261
 944:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       pcb->state = TIME_WAIT;
 3216              		.loc 1 944 0 discriminator 9
 3217 049a DA68     		ldr	r2, [r3, #12]
 3218 049c 9442     		cmp	r4, r2
 3219 049e 05D0     		beq	.L316
 944:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       pcb->state = TIME_WAIT;
 3220              		.loc 1 944 0
 3221 04a0 1346     		mov	r3, r2
 3222              	.LVL278:
 3223 04a2 F9E7     		b	.L260
 3224              	.L315:
 3225              	.LBE14:
 944:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       pcb->state = TIME_WAIT;
 3226              		.loc 1 944 0 discriminator 1
 3227 04a4 DA68     		ldr	r2, [r3, #12]
 3228 04a6 214B     		ldr	r3, .L321+20
 3229 04a8 1A60     		str	r2, [r3]
 3230 04aa 01E0     		b	.L261
 3231              	.LVL279:
 3232              	.L316:
 3233              	.LBB15:
 944:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       pcb->state = TIME_WAIT;
 3234              		.loc 1 944 0 discriminator 5
 3235 04ac E268     		ldr	r2, [r4, #12]
 3236 04ae DA60     		str	r2, [r3, #12]
 3237              	.LVL280:
 3238              	.L261:
 3239              	.LBE15:
 944:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       pcb->state = TIME_WAIT;
 3240              		.loc 1 944 0 discriminator 10
 3241 04b0 0122     		movs	r2, #1
 3242 04b2 1F4B     		ldr	r3, .L321+24
 3243 04b4 1A70     		strb	r2, [r3]
 945:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       TCP_REG(&tcp_tw_pcbs, pcb);
ARM GAS  /tmp/ccCn7Yn1.s 			page 99


 3244              		.loc 1 945 0 is_stmt 1 discriminator 10
 3245 04b6 0A23     		movs	r3, #10
 3246 04b8 2375     		strb	r3, [r4, #20]
 946:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
 3247              		.loc 1 946 0 discriminator 10
 3248 04ba 1E4B     		ldr	r3, .L321+28
 3249 04bc 1A68     		ldr	r2, [r3]
 3250 04be E260     		str	r2, [r4, #12]
 3251 04c0 1C60     		str	r4, [r3]
 3252 04c2 FFF7FEFF 		bl	tcp_timer_needed
 3253              	.LVL281:
 960:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** }
 3254              		.loc 1 960 0 discriminator 10
 3255 04c6 0025     		movs	r5, #0
 3256 04c8 B5E5     		b	.L226
 3257              	.L237:
 950:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     if ((flags & TCP_ACK) && ackno == pcb->snd_nxt && pcb->unsent == NULL) {
 3258              		.loc 1 950 0
 3259 04ca 2046     		mov	r0, r4
 3260 04cc FFF7FEFF 		bl	tcp_receive
 3261              	.LVL282:
 951:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       LWIP_DEBUGF(TCP_DEBUG, ("TCP connection closed: LAST_ACK %"U16_F" -> %"U16_F".\n", inseg.tcph
 3262              		.loc 1 951 0
 3263 04d0 144B     		ldr	r3, .L321+12
 3264 04d2 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3265 04d4 13F0100F 		tst	r3, #16
 3266 04d8 1BD0     		beq	.L287
 951:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       LWIP_DEBUGF(TCP_DEBUG, ("TCP connection closed: LAST_ACK %"U16_F" -> %"U16_F".\n", inseg.tcph
 3267              		.loc 1 951 0 is_stmt 0 discriminator 1
 3268 04da E26C     		ldr	r2, [r4, #76]
 3269 04dc 124B     		ldr	r3, .L321+16
 3270 04de 1B68     		ldr	r3, [r3]
 3271 04e0 9A42     		cmp	r2, r3
 3272 04e2 01D0     		beq	.L317
 960:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** }
 3273              		.loc 1 960 0 is_stmt 1
 3274 04e4 0025     		movs	r5, #0
 3275 04e6 A6E5     		b	.L226
 3276              	.L317:
 951:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       LWIP_DEBUGF(TCP_DEBUG, ("TCP connection closed: LAST_ACK %"U16_F" -> %"U16_F".\n", inseg.tcph
 3277              		.loc 1 951 0 discriminator 2
 3278 04e8 A36E     		ldr	r3, [r4, #104]
 3279 04ea 0BB1     		cbz	r3, .L318
 960:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** }
 3280              		.loc 1 960 0
 3281 04ec 0025     		movs	r5, #0
 3282 04ee A2E5     		b	.L226
 3283              	.L318:
 954:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
 3284              		.loc 1 954 0
 3285 04f0 0A4A     		ldr	r2, .L321+4
 3286 04f2 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 3287 04f4 43F01003 		orr	r3, r3, #16
 3288 04f8 1370     		strb	r3, [r2]
 960:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** }
 3289              		.loc 1 960 0
 3290 04fa 0025     		movs	r5, #0
ARM GAS  /tmp/ccCn7Yn1.s 			page 100


 3291 04fc 9BE5     		b	.L226
 3292              	.L268:
 3293 04fe 0025     		movs	r5, #0
 3294 0500 99E5     		b	.L226
 3295              	.L274:
 3296 0502 0025     		movs	r5, #0
 3297 0504 97E5     		b	.L226
 3298              	.L276:
 3299 0506 0025     		movs	r5, #0
 3300 0508 95E5     		b	.L226
 3301              	.L278:
 3302 050a 0025     		movs	r5, #0
 3303 050c 93E5     		b	.L226
 3304              	.L283:
 3305 050e 0025     		movs	r5, #0
 3306 0510 91E5     		b	.L226
 3307              	.L287:
 3308 0512 0025     		movs	r5, #0
 3309 0514 8FE5     		b	.L226
 3310              	.L322:
 3311 0516 00BF     		.align	2
 3312              	.L321:
 3313 0518 00000000 		.word	.LANCHOR10
 3314 051c 00000000 		.word	.LANCHOR5
 3315 0520 00000000 		.word	.LANCHOR7
 3316 0524 00000000 		.word	.LANCHOR6
 3317 0528 00000000 		.word	.LANCHOR9
 3318 052c 00000000 		.word	tcp_active_pcbs
 3319 0530 00000000 		.word	tcp_active_pcbs_changed
 3320 0534 00000000 		.word	tcp_tw_pcbs
 3321              		.cfi_endproc
 3322              	.LFE162:
 3324              		.section	.text.tcp_input,"ax",%progbits
 3325              		.align	1
 3326              		.global	tcp_input
 3327              		.syntax unified
 3328              		.thumb
 3329              		.thumb_func
 3330              		.fpu fpv5-d16
 3332              	tcp_input:
 3333              	.LFB158:
 105:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   struct tcp_pcb *pcb, *prev;
 3334              		.loc 1 105 0
 3335              		.cfi_startproc
 3336              		@ args = 0, pretend = 0, frame = 0
 3337              		@ frame_needed = 0, uses_anonymous_args = 0
 3338              	.LVL283:
 3339 0000 70B5     		push	{r4, r5, r6, lr}
 3340              	.LCFI21:
 3341              		.cfi_def_cfa_offset 16
 3342              		.cfi_offset 4, -16
 3343              		.cfi_offset 5, -12
 3344              		.cfi_offset 6, -8
 3345              		.cfi_offset 14, -4
 3346 0002 82B0     		sub	sp, sp, #8
 3347              	.LCFI22:
 3348              		.cfi_def_cfa_offset 24
ARM GAS  /tmp/ccCn7Yn1.s 			page 101


 3349 0004 0446     		mov	r4, r0
 122:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 3350              		.loc 1 122 0
 3351 0006 4268     		ldr	r2, [r0, #4]
 3352 0008 9F4B     		ldr	r3, .L386
 3353 000a 1A60     		str	r2, [r3]
 129:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* drop short packets */
 3354              		.loc 1 129 0
 3355 000c 4389     		ldrh	r3, [r0, #10]
 3356 000e 132B     		cmp	r3, #19
 3357 0010 3ED9     		bls	.L324
 137:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       ip_addr_ismulticast(ip_current_dest_addr())) {
 3358              		.loc 1 137 0
 3359 0012 9E4B     		ldr	r3, .L386+4
 3360 0014 1968     		ldr	r1, [r3]
 3361              	.LVL284:
 3362 0016 5869     		ldr	r0, [r3, #20]
 3363              	.LVL285:
 3364 0018 FFF7FEFF 		bl	ip4_addr_isbroadcast_u32
 3365              	.LVL286:
 3366 001c 0028     		cmp	r0, #0
 3367 001e 37D1     		bne	.L324
 138:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     TCP_STATS_INC(tcp.proterr);
 3368              		.loc 1 138 0 discriminator 1
 3369 0020 9A4B     		ldr	r3, .L386+4
 3370 0022 5B69     		ldr	r3, [r3, #20]
 3371 0024 03F0F003 		and	r3, r3, #240
 137:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       ip_addr_ismulticast(ip_current_dest_addr())) {
 3372              		.loc 1 137 0 discriminator 1
 3373 0028 E02B     		cmp	r3, #224
 3374 002a 31D0     		beq	.L324
 159:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   if ((hdrlen_bytes < TCP_HLEN) || (hdrlen_bytes > p->tot_len)) {
 3375              		.loc 1 159 0
 3376 002c 964B     		ldr	r3, .L386
 3377 002e 1B68     		ldr	r3, [r3]
 3378 0030 9889     		ldrh	r0, [r3, #12]	@ unaligned
 3379 0032 FFF7FEFF 		bl	lwip_htons
 3380              	.LVL287:
 3381 0036 C0F30F31 		ubfx	r1, r0, #12, #16
 3382 003a 8900     		lsls	r1, r1, #2
 3383 003c C9B2     		uxtb	r1, r1
 3384              	.LVL288:
 160:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     LWIP_DEBUGF(TCP_INPUT_DEBUG, ("tcp_input: invalid header length (%"U16_F")\n", (u16_t)hdrlen_by
 3385              		.loc 1 160 0
 3386 003e 1329     		cmp	r1, #19
 3387 0040 26D9     		bls	.L324
 160:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     LWIP_DEBUGF(TCP_INPUT_DEBUG, ("tcp_input: invalid header length (%"U16_F")\n", (u16_t)hdrlen_by
 3388              		.loc 1 160 0 is_stmt 0 discriminator 1
 3389 0042 89B2     		uxth	r1, r1
 3390              	.LVL289:
 3391 0044 2389     		ldrh	r3, [r4, #8]
 3392 0046 9942     		cmp	r1, r3
 3393 0048 22D8     		bhi	.L324
 168:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   tcphdr_opt2 = NULL;
 3394              		.loc 1 168 0 is_stmt 1
 3395 004a A1F11403 		sub	r3, r1, #20
 3396 004e 9BB2     		uxth	r3, r3
ARM GAS  /tmp/ccCn7Yn1.s 			page 102


 3397 0050 8F4A     		ldr	r2, .L386+8
 3398 0052 1380     		strh	r3, [r2]	@ movhi
 169:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   if (p->len >= hdrlen_bytes) {
 3399              		.loc 1 169 0
 3400 0054 0020     		movs	r0, #0
 3401              	.LVL290:
 3402 0056 8F4A     		ldr	r2, .L386+12
 3403 0058 1060     		str	r0, [r2]
 170:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* all options are in the first pbuf */
 3404              		.loc 1 170 0
 3405 005a 6289     		ldrh	r2, [r4, #10]
 3406 005c 9142     		cmp	r1, r2
 3407 005e 1CD9     		bls	.L371
 3408              	.LBB16:
 178:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 3409              		.loc 1 178 0
 3410 0060 2368     		ldr	r3, [r4]
 3411 0062 002B     		cmp	r3, #0
 3412 0064 51D0     		beq	.L372
 3413              	.L327:
 181:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 3414              		.loc 1 181 0
 3415 0066 6FF01301 		mvn	r1, #19
 3416 006a 2046     		mov	r0, r4
 3417 006c FFF7FEFF 		bl	pbuf_header
 3418              	.LVL291:
 184:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     opt2len = tcphdr_optlen - tcphdr_opt1len;
 3419              		.loc 1 184 0
 3420 0070 6189     		ldrh	r1, [r4, #10]
 3421 0072 894B     		ldr	r3, .L386+16
 3422 0074 1980     		strh	r1, [r3]	@ movhi
 185:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 3423              		.loc 1 185 0
 3424 0076 864B     		ldr	r3, .L386+8
 3425 0078 1D88     		ldrh	r5, [r3]
 3426 007a 6D1A     		subs	r5, r5, r1
 3427 007c ADB2     		uxth	r5, r5
 3428              	.LVL292:
 189:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 3429              		.loc 1 189 0
 3430 007e 4942     		negs	r1, r1
 3431 0080 09B2     		sxth	r1, r1
 3432 0082 2046     		mov	r0, r4
 3433 0084 FFF7FEFF 		bl	pbuf_header
 3434              	.LVL293:
 192:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* drop short packets */
 3435              		.loc 1 192 0
 3436 0088 2068     		ldr	r0, [r4]
 3437 008a 4389     		ldrh	r3, [r0, #10]
 3438 008c 9D42     		cmp	r5, r3
 3439 008e 43D9     		bls	.L373
 3440              	.LVL294:
 3441              	.L324:
 3442              	.LBE16:
 527:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** }
 3443              		.loc 1 527 0
 3444 0090 2046     		mov	r0, r4
ARM GAS  /tmp/ccCn7Yn1.s 			page 103


 3445 0092 FFF7FEFF 		bl	pbuf_free
 3446              	.LVL295:
 3447              	.L323:
 528:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 3448              		.loc 1 528 0
 3449 0096 02B0     		add	sp, sp, #8
 3450              	.LCFI23:
 3451              		.cfi_remember_state
 3452              		.cfi_def_cfa_offset 16
 3453              		@ sp needed
 3454 0098 70BD     		pop	{r4, r5, r6, pc}
 3455              	.LVL296:
 3456              	.L371:
 3457              	.LCFI24:
 3458              		.cfi_restore_state
 172:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     pbuf_header(p, -(s16_t)hdrlen_bytes); /* cannot fail */
 3459              		.loc 1 172 0
 3460 009a 7F4A     		ldr	r2, .L386+16
 3461 009c 1380     		strh	r3, [r2]	@ movhi
 173:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   } else {
 3462              		.loc 1 173 0
 3463 009e 4942     		negs	r1, r1
 3464 00a0 2046     		mov	r0, r4
 3465 00a2 FFF7FEFF 		bl	pbuf_header
 3466              	.LVL297:
 3467              	.L326:
 212:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   tcphdr->dest = lwip_ntohs(tcphdr->dest);
 3468              		.loc 1 212 0
 3469 00a6 784D     		ldr	r5, .L386
 3470 00a8 2E68     		ldr	r6, [r5]
 3471 00aa 3088     		ldrh	r0, [r6]	@ unaligned
 3472 00ac FFF7FEFF 		bl	lwip_htons
 3473              	.LVL298:
 3474 00b0 3080     		strh	r0, [r6]	@ unaligned
 213:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   seqno = tcphdr->seqno = lwip_ntohl(tcphdr->seqno);
 3475              		.loc 1 213 0
 3476 00b2 2E68     		ldr	r6, [r5]
 3477 00b4 7088     		ldrh	r0, [r6, #2]	@ unaligned
 3478 00b6 FFF7FEFF 		bl	lwip_htons
 3479              	.LVL299:
 3480 00ba 7080     		strh	r0, [r6, #2]	@ unaligned
 214:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   ackno = tcphdr->ackno = lwip_ntohl(tcphdr->ackno);
 3481              		.loc 1 214 0
 3482 00bc 2E68     		ldr	r6, [r5]
 3483 00be 7068     		ldr	r0, [r6, #4]	@ unaligned
 3484 00c0 FFF7FEFF 		bl	lwip_htonl
 3485              	.LVL300:
 3486 00c4 7060     		str	r0, [r6, #4]	@ unaligned
 3487 00c6 754B     		ldr	r3, .L386+20
 3488 00c8 1860     		str	r0, [r3]
 215:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   tcphdr->wnd = lwip_ntohs(tcphdr->wnd);
 3489              		.loc 1 215 0
 3490 00ca 2E68     		ldr	r6, [r5]
 3491 00cc B068     		ldr	r0, [r6, #8]	@ unaligned
 3492 00ce FFF7FEFF 		bl	lwip_htonl
 3493              	.LVL301:
 3494 00d2 B060     		str	r0, [r6, #8]	@ unaligned
ARM GAS  /tmp/ccCn7Yn1.s 			page 104


 3495 00d4 724B     		ldr	r3, .L386+24
 3496 00d6 1860     		str	r0, [r3]
 216:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 3497              		.loc 1 216 0
 3498 00d8 2E68     		ldr	r6, [r5]
 3499 00da F089     		ldrh	r0, [r6, #14]	@ unaligned
 3500 00dc FFF7FEFF 		bl	lwip_htons
 3501              	.LVL302:
 3502 00e0 F081     		strh	r0, [r6, #14]	@ unaligned
 218:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   tcplen = p->tot_len + ((flags & (TCP_FIN | TCP_SYN)) ? 1 : 0);
 3503              		.loc 1 218 0
 3504 00e2 2B68     		ldr	r3, [r5]
 3505 00e4 9889     		ldrh	r0, [r3, #12]	@ unaligned
 3506 00e6 FFF7FEFF 		bl	lwip_htons
 3507              	.LVL303:
 3508 00ea 00F03F03 		and	r3, r0, #63
 3509 00ee 6D4A     		ldr	r2, .L386+28
 3510 00f0 1370     		strb	r3, [r2]
 219:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 3511              		.loc 1 219 0
 3512 00f2 2289     		ldrh	r2, [r4, #8]
 3513 00f4 13F00303 		ands	r3, r3, #3
 3514 00f8 18BF     		it	ne
 3515 00fa 0123     		movne	r3, #1
 3516 00fc 1344     		add	r3, r3, r2
 3517 00fe 6A4A     		ldr	r2, .L386+32
 3518 0100 1380     		strh	r3, [r2]	@ movhi
 3519              	.LVL304:
 225:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     LWIP_ASSERT("tcp_input: active pcb->state != CLOSED", pcb->state != CLOSED);
 3520              		.loc 1 225 0
 3521 0102 6A4B     		ldr	r3, .L386+36
 3522 0104 1D68     		ldr	r5, [r3]
 3523              	.LVL305:
 223:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 3524              		.loc 1 223 0
 3525 0106 0026     		movs	r6, #0
 225:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     LWIP_ASSERT("tcp_input: active pcb->state != CLOSED", pcb->state != CLOSED);
 3526              		.loc 1 225 0
 3527 0108 33E0     		b	.L329
 3528              	.LVL306:
 3529              	.L372:
 3530              	.LBB17:
 178:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 3531              		.loc 1 178 0 discriminator 1
 3532 010a 694B     		ldr	r3, .L386+40
 3533 010c B222     		movs	r2, #178
 3534 010e 6949     		ldr	r1, .L386+44
 3535 0110 6948     		ldr	r0, .L386+48
 3536 0112 FFF7FEFF 		bl	printf
 3537              	.LVL307:
 3538 0116 A6E7     		b	.L327
 3539              	.LVL308:
 3540              	.L373:
 200:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 3541              		.loc 1 200 0
 3542 0118 4268     		ldr	r2, [r0, #4]
 3543 011a 5E4B     		ldr	r3, .L386+12
ARM GAS  /tmp/ccCn7Yn1.s 			page 105


 3544 011c 1A60     		str	r2, [r3]
 204:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     p->tot_len -= opt2len;
 3545              		.loc 1 204 0
 3546 011e 6942     		negs	r1, r5
 3547 0120 09B2     		sxth	r1, r1
 3548 0122 FFF7FEFF 		bl	pbuf_header
 3549              	.LVL309:
 205:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 3550              		.loc 1 205 0
 3551 0126 2389     		ldrh	r3, [r4, #8]
 3552 0128 5D1B     		subs	r5, r3, r5
 3553              	.LVL310:
 3554 012a 2581     		strh	r5, [r4, #8]	@ movhi
 207:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     LWIP_ASSERT("p->tot_len == p->next->tot_len", p->tot_len == p->next->tot_len);
 3555              		.loc 1 207 0
 3556 012c 6389     		ldrh	r3, [r4, #10]
 3557 012e 5BB9     		cbnz	r3, .L374
 3558              	.L328:
 208:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   }
 3559              		.loc 1 208 0
 3560 0130 2289     		ldrh	r2, [r4, #8]
 3561 0132 2368     		ldr	r3, [r4]
 3562 0134 1B89     		ldrh	r3, [r3, #8]
 3563 0136 9A42     		cmp	r2, r3
 3564 0138 B5D0     		beq	.L326
 208:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   }
 3565              		.loc 1 208 0 is_stmt 0 discriminator 1
 3566 013a 5D4B     		ldr	r3, .L386+40
 3567 013c D022     		movs	r2, #208
 3568 013e 5F49     		ldr	r1, .L386+52
 3569 0140 5D48     		ldr	r0, .L386+48
 3570 0142 FFF7FEFF 		bl	printf
 3571              	.LVL311:
 3572 0146 AEE7     		b	.L326
 3573              	.L374:
 207:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     LWIP_ASSERT("p->tot_len == p->next->tot_len", p->tot_len == p->next->tot_len);
 3574              		.loc 1 207 0 is_stmt 1 discriminator 1
 3575 0148 594B     		ldr	r3, .L386+40
 3576 014a CF22     		movs	r2, #207
 3577 014c 5C49     		ldr	r1, .L386+56
 3578 014e 5A48     		ldr	r0, .L386+48
 3579 0150 FFF7FEFF 		bl	printf
 3580              	.LVL312:
 3581 0154 ECE7     		b	.L328
 3582              	.LVL313:
 3583              	.L330:
 3584              	.LBE17:
 227:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     LWIP_ASSERT("tcp_input: active pcb->state != LISTEN", pcb->state != LISTEN);
 3585              		.loc 1 227 0
 3586 0156 2B7D     		ldrb	r3, [r5, #20]	@ zero_extendqisi2
 3587 0158 0A2B     		cmp	r3, #10
 3588 015a 16D0     		beq	.L375
 3589              	.L331:
 228:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     if (pcb->remote_port == tcphdr->src &&
 3590              		.loc 1 228 0
 3591 015c 2B7D     		ldrb	r3, [r5, #20]	@ zero_extendqisi2
 3592 015e 012B     		cmp	r3, #1
ARM GAS  /tmp/ccCn7Yn1.s 			page 106


 3593 0160 1AD0     		beq	.L376
 3594              	.L332:
 229:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pcb->local_port == tcphdr->dest &&
 3595              		.loc 1 229 0
 3596 0162 298B     		ldrh	r1, [r5, #24]
 3597 0164 484B     		ldr	r3, .L386
 3598 0166 1B68     		ldr	r3, [r3]
 3599 0168 1A88     		ldrh	r2, [r3]	@ unaligned
 3600 016a 9142     		cmp	r1, r2
 3601 016c 1BD0     		beq	.L377
 3602              	.L333:
 3603              	.LVL314:
 247:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   }
 3604              		.loc 1 247 0 discriminator 2
 3605 016e 2E46     		mov	r6, r5
 225:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     LWIP_ASSERT("tcp_input: active pcb->state != CLOSED", pcb->state != CLOSED);
 3606              		.loc 1 225 0 discriminator 2
 3607 0170 ED68     		ldr	r5, [r5, #12]
 3608              	.LVL315:
 3609              	.L329:
 225:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     LWIP_ASSERT("tcp_input: active pcb->state != CLOSED", pcb->state != CLOSED);
 3610              		.loc 1 225 0 is_stmt 0 discriminator 1
 3611 0172 002D     		cmp	r5, #0
 3612 0174 32D0     		beq	.L336
 226:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     LWIP_ASSERT("tcp_input: active pcb->state != TIME-WAIT", pcb->state != TIME_WAIT);
 3613              		.loc 1 226 0 is_stmt 1
 3614 0176 2B7D     		ldrb	r3, [r5, #20]	@ zero_extendqisi2
 3615 0178 002B     		cmp	r3, #0
 3616 017a ECD1     		bne	.L330
 226:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     LWIP_ASSERT("tcp_input: active pcb->state != TIME-WAIT", pcb->state != TIME_WAIT);
 3617              		.loc 1 226 0 is_stmt 0 discriminator 1
 3618 017c 4C4B     		ldr	r3, .L386+40
 3619 017e E222     		movs	r2, #226
 3620 0180 5049     		ldr	r1, .L386+60
 3621 0182 4D48     		ldr	r0, .L386+48
 3622 0184 FFF7FEFF 		bl	printf
 3623              	.LVL316:
 3624 0188 E5E7     		b	.L330
 3625              	.L375:
 227:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     LWIP_ASSERT("tcp_input: active pcb->state != LISTEN", pcb->state != LISTEN);
 3626              		.loc 1 227 0 is_stmt 1 discriminator 1
 3627 018a 494B     		ldr	r3, .L386+40
 3628 018c E322     		movs	r2, #227
 3629 018e 4E49     		ldr	r1, .L386+64
 3630 0190 4948     		ldr	r0, .L386+48
 3631 0192 FFF7FEFF 		bl	printf
 3632              	.LVL317:
 3633 0196 E1E7     		b	.L331
 3634              	.L376:
 228:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     if (pcb->remote_port == tcphdr->src &&
 3635              		.loc 1 228 0 discriminator 1
 3636 0198 454B     		ldr	r3, .L386+40
 3637 019a E422     		movs	r2, #228
 3638 019c 4B49     		ldr	r1, .L386+68
 3639 019e 4648     		ldr	r0, .L386+48
 3640 01a0 FFF7FEFF 		bl	printf
 3641              	.LVL318:
ARM GAS  /tmp/ccCn7Yn1.s 			page 107


 3642 01a4 DDE7     		b	.L332
 3643              	.L377:
 230:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         ip_addr_cmp(&pcb->remote_ip, ip_current_src_addr()) &&
 3644              		.loc 1 230 0 discriminator 1
 3645 01a6 EA8A     		ldrh	r2, [r5, #22]
 3646 01a8 5B88     		ldrh	r3, [r3, #2]	@ unaligned
 229:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pcb->local_port == tcphdr->dest &&
 3647              		.loc 1 229 0 discriminator 1
 3648 01aa 9A42     		cmp	r2, r3
 3649 01ac DFD1     		bne	.L333
 231:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         ip_addr_cmp(&pcb->local_ip, ip_current_dest_addr())) {
 3650              		.loc 1 231 0
 3651 01ae 6A68     		ldr	r2, [r5, #4]
 3652 01b0 364B     		ldr	r3, .L386+4
 3653 01b2 1B69     		ldr	r3, [r3, #16]
 230:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         ip_addr_cmp(&pcb->remote_ip, ip_current_src_addr()) &&
 3654              		.loc 1 230 0
 3655 01b4 9A42     		cmp	r2, r3
 3656 01b6 DAD1     		bne	.L333
 232:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* Move this PCB to the front of the list so that subsequent
 3657              		.loc 1 232 0
 3658 01b8 2A68     		ldr	r2, [r5]
 3659 01ba 344B     		ldr	r3, .L386+4
 3660 01bc 5B69     		ldr	r3, [r3, #20]
 231:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         ip_addr_cmp(&pcb->local_ip, ip_current_dest_addr())) {
 3661              		.loc 1 231 0
 3662 01be 9A42     		cmp	r2, r3
 3663 01c0 D5D1     		bne	.L333
 236:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       if (prev != NULL) {
 3664              		.loc 1 236 0
 3665 01c2 EB68     		ldr	r3, [r5, #12]
 3666 01c4 9D42     		cmp	r5, r3
 3667 01c6 4DD0     		beq	.L378
 3668              	.L334:
 237:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         prev->next = pcb->next;
 3669              		.loc 1 237 0
 3670 01c8 2EB1     		cbz	r6, .L335
 238:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pcb->next = tcp_active_pcbs;
 3671              		.loc 1 238 0
 3672 01ca EB68     		ldr	r3, [r5, #12]
 3673 01cc F360     		str	r3, [r6, #12]
 239:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         tcp_active_pcbs = pcb;
 3674              		.loc 1 239 0
 3675 01ce 374B     		ldr	r3, .L386+36
 3676 01d0 1A68     		ldr	r2, [r3]
 3677 01d2 EA60     		str	r2, [r5, #12]
 240:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       } else {
 3678              		.loc 1 240 0
 3679 01d4 1D60     		str	r5, [r3]
 3680              	.L335:
 244:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       break;
 3681              		.loc 1 244 0
 3682 01d6 EB68     		ldr	r3, [r5, #12]
 3683 01d8 9D42     		cmp	r5, r3
 3684 01da 4AD0     		beq	.L379
 3685              	.L336:
 250:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* If it did not go to an active connection, we check the connections
ARM GAS  /tmp/ccCn7Yn1.s 			page 108


 3686              		.loc 1 250 0
 3687 01dc 002D     		cmp	r5, #0
 3688 01de 4FD0     		beq	.L380
 3689              	.LVL319:
 3690              	.L338:
 335:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* The incoming segment belongs to a connection. */
 3691              		.loc 1 335 0
 3692 01e0 002D     		cmp	r5, #0
 3693 01e2 00F06881 		beq	.L349
 342:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     inseg.len = p->tot_len;
 3694              		.loc 1 342 0
 3695 01e6 3A4A     		ldr	r2, .L386+72
 3696 01e8 0023     		movs	r3, #0
 3697 01ea 1360     		str	r3, [r2]
 343:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     inseg.p = p;
 3698              		.loc 1 343 0
 3699 01ec 2189     		ldrh	r1, [r4, #8]
 3700 01ee 1181     		strh	r1, [r2, #8]	@ movhi
 344:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     inseg.tcphdr = tcphdr;
 3701              		.loc 1 344 0
 3702 01f0 5460     		str	r4, [r2, #4]
 345:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 3703              		.loc 1 345 0
 3704 01f2 2549     		ldr	r1, .L386
 3705 01f4 0968     		ldr	r1, [r1]
 3706 01f6 D160     		str	r1, [r2, #12]
 347:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     recv_flags = 0;
 3707              		.loc 1 347 0
 3708 01f8 364A     		ldr	r2, .L386+76
 3709 01fa 1360     		str	r3, [r2]
 348:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     recv_acked = 0;
 3710              		.loc 1 348 0
 3711 01fc 364A     		ldr	r2, .L386+80
 3712 01fe 1370     		strb	r3, [r2]
 349:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 3713              		.loc 1 349 0
 3714 0200 364A     		ldr	r2, .L386+84
 3715 0202 1380     		strh	r3, [r2]	@ movhi
 351:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       p->flags |= PBUF_FLAG_PUSH;
 3716              		.loc 1 351 0
 3717 0204 274B     		ldr	r3, .L386+28
 3718 0206 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3719 0208 13F0080F 		tst	r3, #8
 3720 020c 03D0     		beq	.L350
 352:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
 3721              		.loc 1 352 0
 3722 020e 637B     		ldrb	r3, [r4, #13]	@ zero_extendqisi2
 3723 0210 43F00103 		orr	r3, r3, #1
 3724 0214 6373     		strb	r3, [r4, #13]
 3725              	.L350:
 356:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       if ((tcp_process_refused_data(pcb) == ERR_ABRT) ||
 3726              		.loc 1 356 0
 3727 0216 6B6F     		ldr	r3, [r5, #116]
 3728 0218 002B     		cmp	r3, #0
 3729 021a 00F0B980 		beq	.L351
 357:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         ((pcb->refused_data != NULL) && (tcplen > 0))) {
 3730              		.loc 1 357 0
ARM GAS  /tmp/ccCn7Yn1.s 			page 109


 3731 021e 2846     		mov	r0, r5
 3732 0220 FFF7FEFF 		bl	tcp_process_refused_data
 3733              	.LVL320:
 3734 0224 10F10D0F 		cmn	r0, #13
 3735 0228 08D0     		beq	.L352
 358:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         /* pcb has been aborted or refused data is still refused and the new
 3736              		.loc 1 358 0 discriminator 1
 3737 022a 6B6F     		ldr	r3, [r5, #116]
 357:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         ((pcb->refused_data != NULL) && (tcplen > 0))) {
 3738              		.loc 1 357 0 discriminator 1
 3739 022c 002B     		cmp	r3, #0
 3740 022e 00F0AF80 		beq	.L351
 358:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         /* pcb has been aborted or refused data is still refused and the new
 3741              		.loc 1 358 0
 3742 0232 1D4B     		ldr	r3, .L386+32
 3743 0234 1B88     		ldrh	r3, [r3]
 3744 0236 002B     		cmp	r3, #0
 3745 0238 00F0AA80 		beq	.L351
 3746              	.L352:
 361:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           /* this is a zero-window probe, we respond to it with current RCV.NXT
 3747              		.loc 1 361 0
 3748 023c 6B8D     		ldrh	r3, [r5, #42]
 3749 023e 002B     		cmp	r3, #0
 3750 0240 00F0A280 		beq	.L381
 3751              	.LVL321:
 3752              	.L353:
 498:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     recv_data = NULL;
 3753              		.loc 1 498 0
 3754 0244 0023     		movs	r3, #0
 3755 0246 264A     		ldr	r2, .L386+88
 3756 0248 1360     		str	r3, [r2]
 499:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
 3757              		.loc 1 499 0
 3758 024a 224A     		ldr	r2, .L386+76
 3759 024c 1360     		str	r3, [r2]
 502:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     {
 3760              		.loc 1 502 0
 3761 024e 204B     		ldr	r3, .L386+72
 3762 0250 5868     		ldr	r0, [r3, #4]
 3763 0252 0028     		cmp	r0, #0
 3764 0254 3FF41FAF 		beq	.L323
 504:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       inseg.p = NULL;
 3765              		.loc 1 504 0
 3766 0258 FFF7FEFF 		bl	pbuf_free
 3767              	.LVL322:
 505:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
 3768              		.loc 1 505 0
 3769 025c 0022     		movs	r2, #0
 3770 025e 1C4B     		ldr	r3, .L386+72
 3771 0260 5A60     		str	r2, [r3, #4]
 3772 0262 18E7     		b	.L323
 3773              	.LVL323:
 3774              	.L378:
 236:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       if (prev != NULL) {
 3775              		.loc 1 236 0 discriminator 1
 3776 0264 124B     		ldr	r3, .L386+40
 3777 0266 EC22     		movs	r2, #236
ARM GAS  /tmp/ccCn7Yn1.s 			page 110


 3778 0268 1E49     		ldr	r1, .L386+92
 3779 026a 1348     		ldr	r0, .L386+48
 3780 026c FFF7FEFF 		bl	printf
 3781              	.LVL324:
 3782 0270 AAE7     		b	.L334
 3783              	.L379:
 244:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       break;
 3784              		.loc 1 244 0 discriminator 1
 3785 0272 0F4B     		ldr	r3, .L386+40
 3786 0274 F422     		movs	r2, #244
 3787 0276 1C49     		ldr	r1, .L386+96
 3788 0278 0F48     		ldr	r0, .L386+48
 3789 027a FFF7FEFF 		bl	printf
 3790              	.LVL325:
 3791 027e ADE7     		b	.L336
 3792              	.L380:
 253:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       LWIP_ASSERT("tcp_input: TIME-WAIT pcb->state == TIME-WAIT", pcb->state == TIME_WAIT);
 3793              		.loc 1 253 0
 3794 0280 1A4B     		ldr	r3, .L386+100
 3795 0282 1D68     		ldr	r5, [r3]
 3796              	.LVL326:
 3797 0284 3BE0     		b	.L339
 3798              	.L387:
 3799 0286 00BF     		.align	2
 3800              	.L386:
 3801 0288 00000000 		.word	.LANCHOR3
 3802 028c 00000000 		.word	ip_data
 3803 0290 00000000 		.word	.LANCHOR4
 3804 0294 00000000 		.word	.LANCHOR0
 3805 0298 00000000 		.word	.LANCHOR2
 3806 029c 00000000 		.word	.LANCHOR7
 3807 02a0 00000000 		.word	.LANCHOR9
 3808 02a4 00000000 		.word	.LANCHOR6
 3809 02a8 00000000 		.word	.LANCHOR8
 3810 02ac 00000000 		.word	tcp_active_pcbs
 3811 02b0 00000000 		.word	.LC0
 3812 02b4 00000000 		.word	.LC17
 3813 02b8 4C000000 		.word	.LC2
 3814 02bc 1C000000 		.word	.LC19
 3815 02c0 10000000 		.word	.LC18
 3816 02c4 3C000000 		.word	.LC20
 3817 02c8 64000000 		.word	.LC21
 3818 02cc 90000000 		.word	.LC22
 3819 02d0 00000000 		.word	.LANCHOR11
 3820 02d4 00000000 		.word	.LANCHOR12
 3821 02d8 00000000 		.word	.LANCHOR5
 3822 02dc 00000000 		.word	.LANCHOR10
 3823 02e0 00000000 		.word	tcp_input_pcb
 3824 02e4 B8000000 		.word	.LC23
 3825 02e8 E4000000 		.word	.LC24
 3826 02ec 00000000 		.word	tcp_tw_pcbs
 3827              	.L340:
 255:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           pcb->local_port == tcphdr->dest &&
 3828              		.loc 1 255 0
 3829 02f0 298B     		ldrh	r1, [r5, #24]
 3830 02f2 804B     		ldr	r3, .L388
 3831 02f4 1B68     		ldr	r3, [r3]
ARM GAS  /tmp/ccCn7Yn1.s 			page 111


 3832 02f6 1A88     		ldrh	r2, [r3]	@ unaligned
 3833 02f8 9142     		cmp	r1, r2
 3834 02fa 0BD0     		beq	.L382
 3835              	.L341:
 253:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       LWIP_ASSERT("tcp_input: TIME-WAIT pcb->state == TIME-WAIT", pcb->state == TIME_WAIT);
 3836              		.loc 1 253 0 discriminator 2
 3837 02fc ED68     		ldr	r5, [r5, #12]
 3838              	.LVL327:
 3839              	.L339:
 253:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       LWIP_ASSERT("tcp_input: TIME-WAIT pcb->state == TIME-WAIT", pcb->state == TIME_WAIT);
 3840              		.loc 1 253 0 is_stmt 0 discriminator 1
 3841 02fe F5B1     		cbz	r5, .L383
 254:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       if (pcb->remote_port == tcphdr->src &&
 3842              		.loc 1 254 0 is_stmt 1
 3843 0300 2B7D     		ldrb	r3, [r5, #20]	@ zero_extendqisi2
 3844 0302 0A2B     		cmp	r3, #10
 3845 0304 F4D0     		beq	.L340
 254:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       if (pcb->remote_port == tcphdr->src &&
 3846              		.loc 1 254 0 is_stmt 0 discriminator 1
 3847 0306 7C4B     		ldr	r3, .L388+4
 3848 0308 FE22     		movs	r2, #254
 3849 030a 7C49     		ldr	r1, .L388+8
 3850 030c 7C48     		ldr	r0, .L388+12
 3851 030e FFF7FEFF 		bl	printf
 3852              	.LVL328:
 3853 0312 EDE7     		b	.L340
 3854              	.L382:
 256:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           ip_addr_cmp(&pcb->remote_ip, ip_current_src_addr()) &&
 3855              		.loc 1 256 0 is_stmt 1 discriminator 1
 3856 0314 EA8A     		ldrh	r2, [r5, #22]
 3857 0316 5B88     		ldrh	r3, [r3, #2]	@ unaligned
 255:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           pcb->local_port == tcphdr->dest &&
 3858              		.loc 1 255 0 discriminator 1
 3859 0318 9A42     		cmp	r2, r3
 3860 031a EFD1     		bne	.L341
 257:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           ip_addr_cmp(&pcb->local_ip, ip_current_dest_addr())) {
 3861              		.loc 1 257 0
 3862 031c 6A68     		ldr	r2, [r5, #4]
 3863 031e 794B     		ldr	r3, .L388+16
 3864 0320 1B69     		ldr	r3, [r3, #16]
 256:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           ip_addr_cmp(&pcb->remote_ip, ip_current_src_addr()) &&
 3865              		.loc 1 256 0
 3866 0322 9A42     		cmp	r2, r3
 3867 0324 EAD1     		bne	.L341
 258:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         /* We don't really care enough to move this PCB to the front
 3868              		.loc 1 258 0
 3869 0326 2A68     		ldr	r2, [r5]
 3870 0328 764B     		ldr	r3, .L388+16
 3871 032a 5B69     		ldr	r3, [r3, #20]
 257:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           ip_addr_cmp(&pcb->local_ip, ip_current_dest_addr())) {
 3872              		.loc 1 257 0
 3873 032c 9A42     		cmp	r2, r3
 3874 032e E5D1     		bne	.L341
 263:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         pbuf_free(p);
 3875              		.loc 1 263 0
 3876 0330 2846     		mov	r0, r5
 3877 0332 FFF7FEFF 		bl	tcp_timewait_input
ARM GAS  /tmp/ccCn7Yn1.s 			page 112


 3878              	.LVL329:
 264:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         return;
 3879              		.loc 1 264 0
 3880 0336 2046     		mov	r0, r4
 3881 0338 FFF7FEFF 		bl	pbuf_free
 3882              	.LVL330:
 265:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       }
 3883              		.loc 1 265 0
 3884 033c ABE6     		b	.L323
 3885              	.L383:
 3886              	.LVL331:
 272:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       if (lpcb->local_port == tcphdr->dest) {
 3887              		.loc 1 272 0
 3888 033e 724B     		ldr	r3, .L388+20
 3889 0340 1E68     		ldr	r6, [r3]
 3890              	.LVL332:
 3891 0342 3046     		mov	r0, r6
 271:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     for (lpcb = tcp_listen_pcbs.listen_pcbs; lpcb != NULL; lpcb = lpcb->next) {
 3892              		.loc 1 271 0
 3893 0344 2946     		mov	r1, r5
 272:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       if (lpcb->local_port == tcphdr->dest) {
 3894              		.loc 1 272 0
 3895 0346 01E0     		b	.L344
 3896              	.LVL333:
 3897              	.L345:
 297:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
 3898              		.loc 1 297 0 discriminator 2
 3899 0348 0146     		mov	r1, r0
 272:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       if (lpcb->local_port == tcphdr->dest) {
 3900              		.loc 1 272 0 discriminator 2
 3901 034a C068     		ldr	r0, [r0, #12]
 3902              	.LVL334:
 3903              	.L344:
 272:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       if (lpcb->local_port == tcphdr->dest) {
 3904              		.loc 1 272 0 is_stmt 0 discriminator 1
 3905 034c 68B1     		cbz	r0, .L346
 273:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         if (IP_IS_ANY_TYPE_VAL(lpcb->local_ip)) {
 3906              		.loc 1 273 0 is_stmt 1
 3907 034e C28A     		ldrh	r2, [r0, #22]
 3908 0350 684B     		ldr	r3, .L388
 3909 0352 1B68     		ldr	r3, [r3]
 3910 0354 5B88     		ldrh	r3, [r3, #2]	@ unaligned
 3911 0356 9A42     		cmp	r2, r3
 3912 0358 F6D1     		bne	.L345
 283:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             /* found an exact match */
 3913              		.loc 1 283 0
 3914 035a 0368     		ldr	r3, [r0]
 3915 035c 694A     		ldr	r2, .L388+16
 3916 035e 5269     		ldr	r2, [r2, #20]
 3917 0360 9342     		cmp	r3, r2
 3918 0362 02D0     		beq	.L346
 286:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             /* found an ANY-match */
 3919              		.loc 1 286 0
 3920 0364 08B1     		cbz	r0, .L346
 286:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             /* found an ANY-match */
 3921              		.loc 1 286 0 is_stmt 0 discriminator 1
 3922 0366 002B     		cmp	r3, #0
ARM GAS  /tmp/ccCn7Yn1.s 			page 113


 3923 0368 EED1     		bne	.L345
 3924              	.L346:
 307:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       /* Move this PCB to the front of the list so that subsequent
 3925              		.loc 1 307 0 is_stmt 1
 3926 036a 0028     		cmp	r0, #0
 3927 036c 3FF438AF 		beq	.L338
 311:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         ((struct tcp_pcb_listen *)prev)->next = lpcb->next;
 3928              		.loc 1 311 0
 3929 0370 21B1     		cbz	r1, .L348
 312:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               /* our successor is the remainder of the listening list */
 3930              		.loc 1 312 0
 3931 0372 C368     		ldr	r3, [r0, #12]
 3932 0374 CB60     		str	r3, [r1, #12]
 314:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               /* put this listening pcb at the head of the listening list */
 3933              		.loc 1 314 0
 3934 0376 C660     		str	r6, [r0, #12]
 316:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       } else {
 3935              		.loc 1 316 0
 3936 0378 634B     		ldr	r3, .L388+20
 3937 037a 1860     		str	r0, [r3]
 3938              	.L348:
 322:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       pbuf_free(p);
 3939              		.loc 1 322 0
 3940 037c FFF7FEFF 		bl	tcp_listen_input
 3941              	.LVL335:
 323:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       return;
 3942              		.loc 1 323 0
 3943 0380 2046     		mov	r0, r4
 3944 0382 FFF7FEFF 		bl	pbuf_free
 3945              	.LVL336:
 324:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
 3946              		.loc 1 324 0
 3947 0386 86E6     		b	.L323
 3948              	.L381:
 364:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         }
 3949              		.loc 1 364 0
 3950 0388 2846     		mov	r0, r5
 3951 038a FFF7FEFF 		bl	tcp_send_empty_ack
 3952              	.LVL337:
 3953 038e 59E7     		b	.L353
 3954              	.L351:
 371:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     err = tcp_process(pcb);
 3955              		.loc 1 371 0
 3956 0390 5E4B     		ldr	r3, .L388+24
 3957 0392 1D60     		str	r5, [r3]
 372:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     /* A return value of ERR_ABRT means that tcp_abort() was called
 3958              		.loc 1 372 0
 3959 0394 2846     		mov	r0, r5
 3960 0396 FFF7FEFF 		bl	tcp_process
 3961              	.LVL338:
 375:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       if (recv_flags & TF_RESET) {
 3962              		.loc 1 375 0
 3963 039a 10F10D0F 		cmn	r0, #13
 3964 039e 3FF451AF 		beq	.L353
 376:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         /* TF_RESET means that the connection was reset by the other
 3965              		.loc 1 376 0
 3966 03a2 5B4B     		ldr	r3, .L388+28
ARM GAS  /tmp/ccCn7Yn1.s 			page 114


 3967 03a4 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3968 03a6 13F0080F 		tst	r3, #8
 3969 03aa 0FD0     		beq	.L354
 381:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         tcp_pcb_remove(&tcp_active_pcbs, pcb);
 3970              		.loc 1 381 0
 3971 03ac D5F88C30 		ldr	r3, [r5, #140]
 3972 03b0 1BB1     		cbz	r3, .L355
 381:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         tcp_pcb_remove(&tcp_active_pcbs, pcb);
 3973              		.loc 1 381 0 is_stmt 0 discriminator 1
 3974 03b2 6FF00D01 		mvn	r1, #13
 3975 03b6 2869     		ldr	r0, [r5, #16]
 3976              	.LVL339:
 3977 03b8 9847     		blx	r3
 3978              	.LVL340:
 3979              	.L355:
 382:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         memp_free(MEMP_TCP_PCB, pcb);
 3980              		.loc 1 382 0 is_stmt 1
 3981 03ba 2946     		mov	r1, r5
 3982 03bc 5548     		ldr	r0, .L388+32
 3983 03be FFF7FEFF 		bl	tcp_pcb_remove
 3984              	.LVL341:
 383:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       } else {
 3985              		.loc 1 383 0
 3986 03c2 2946     		mov	r1, r5
 3987 03c4 0120     		movs	r0, #1
 3988 03c6 FFF7FEFF 		bl	memp_free
 3989              	.LVL342:
 3990 03ca 3BE7     		b	.L353
 3991              	.LVL343:
 3992              	.L354:
 389:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           u16_t acked16;
 3993              		.loc 1 389 0
 3994 03cc 524B     		ldr	r3, .L388+36
 3995 03ce 1A88     		ldrh	r2, [r3]
 3996 03d0 62B1     		cbz	r2, .L356
 3997              	.LVL344:
 3998              	.LBB18:
 402:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             if (err == ERR_ABRT) {
 3999              		.loc 1 402 0
 4000 03d2 EB6F     		ldr	r3, [r5, #124]
 4001 03d4 002B     		cmp	r3, #0
 4002 03d6 48D0     		beq	.L368
 402:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             if (err == ERR_ABRT) {
 4003              		.loc 1 402 0 is_stmt 0 discriminator 1
 4004 03d8 2946     		mov	r1, r5
 4005 03da 2869     		ldr	r0, [r5, #16]
 4006 03dc 9847     		blx	r3
 4007              	.LVL345:
 4008              	.L357:
 403:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               goto aborted;
 4009              		.loc 1 403 0 is_stmt 1
 4010 03de 10F10D0F 		cmn	r0, #13
 4011 03e2 3FF42FAF 		beq	.L353
 407:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         }
 4012              		.loc 1 407 0
 4013 03e6 0022     		movs	r2, #0
 4014 03e8 4B4B     		ldr	r3, .L388+36
ARM GAS  /tmp/ccCn7Yn1.s 			page 115


 4015 03ea 1A80     		strh	r2, [r3]	@ movhi
 4016              	.LVL346:
 4017              	.L356:
 4018              	.LBE18:
 409:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           goto aborted;
 4019              		.loc 1 409 0
 4020 03ec 2846     		mov	r0, r5
 4021 03ee FFF7FEFF 		bl	tcp_input_delayed_close
 4022              	.LVL347:
 4023 03f2 0028     		cmp	r0, #0
 4024 03f4 7FF426AF 		bne	.L353
 417:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #endif /* TCP_QUEUE_OOSEQ && LWIP_WND_SCALE */
 4025              		.loc 1 417 0
 4026 03f8 484B     		ldr	r3, .L388+40
 4027 03fa 1B68     		ldr	r3, [r3]
 4028 03fc EBB1     		cbz	r3, .L358
 420:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           if (pcb->flags & TF_RXCLOSED) {
 4029              		.loc 1 420 0
 4030 03fe 6B6F     		ldr	r3, [r5, #116]
 4031 0400 33B1     		cbz	r3, .L359
 420:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           if (pcb->flags & TF_RXCLOSED) {
 4032              		.loc 1 420 0 is_stmt 0 discriminator 1
 4033 0402 3D4B     		ldr	r3, .L388+4
 4034 0404 4FF4D272 		mov	r2, #420
 4035 0408 4549     		ldr	r1, .L388+44
 4036 040a 3D48     		ldr	r0, .L388+12
 4037 040c FFF7FEFF 		bl	printf
 4038              	.LVL348:
 4039              	.L359:
 421:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             /* received data although already closed -> abort (send RST) to
 4040              		.loc 1 421 0 is_stmt 1
 4041 0410 AB7E     		ldrb	r3, [r5, #26]	@ zero_extendqisi2
 4042 0412 13F0100F 		tst	r3, #16
 4043 0416 2AD1     		bne	.L384
 435:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           if (err == ERR_ABRT) {
 4044              		.loc 1 435 0
 4045 0418 D5F88040 		ldr	r4, [r5, #128]
 4046              	.LVL349:
 4047 041c 7CB3     		cbz	r4, .L361
 435:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           if (err == ERR_ABRT) {
 4048              		.loc 1 435 0 is_stmt 0 discriminator 1
 4049 041e 0023     		movs	r3, #0
 4050 0420 3E4A     		ldr	r2, .L388+40
 4051 0422 1268     		ldr	r2, [r2]
 4052 0424 2946     		mov	r1, r5
 4053 0426 2869     		ldr	r0, [r5, #16]
 4054 0428 A047     		blx	r4
 4055              	.LVL350:
 4056              	.L362:
 436:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #if TCP_QUEUE_OOSEQ && LWIP_WND_SCALE
 4057              		.loc 1 436 0 is_stmt 1
 4058 042a 10F10D0F 		cmn	r0, #13
 4059 042e 3FF409AF 		beq	.L353
 446:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #if TCP_QUEUE_OOSEQ && LWIP_WND_SCALE
 4060              		.loc 1 446 0
 4061 0432 10B1     		cbz	r0, .L358
 452:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             LWIP_DEBUGF(TCP_INPUT_DEBUG, ("tcp_input: keep incoming packet, because pcb is \"full\"
ARM GAS  /tmp/ccCn7Yn1.s 			page 116


 4062              		.loc 1 452 0
 4063 0434 394B     		ldr	r3, .L388+40
 4064 0436 1B68     		ldr	r3, [r3]
 4065 0438 6B67     		str	r3, [r5, #116]
 4066              	.LVL351:
 4067              	.L358:
 465:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           if (pcb->refused_data != NULL) {
 4068              		.loc 1 465 0
 4069 043a 354B     		ldr	r3, .L388+28
 4070 043c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 4071 043e 13F0200F 		tst	r3, #32
 4072 0442 05D0     		beq	.L363
 466:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             /* Delay this if we have refused data. */
 4073              		.loc 1 466 0
 4074 0444 6B6F     		ldr	r3, [r5, #116]
 4075 0446 13B3     		cbz	r3, .L364
 468:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           } else {
 4076              		.loc 1 468 0
 4077 0448 5A7B     		ldrb	r2, [r3, #13]	@ zero_extendqisi2
 4078 044a 42F02002 		orr	r2, r2, #32
 4079 044e 5A73     		strb	r2, [r3, #13]
 4080              	.L363:
 482:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         if (tcp_input_delayed_close(pcb)) {
 4081              		.loc 1 482 0
 4082 0450 0022     		movs	r2, #0
 4083 0452 2E4B     		ldr	r3, .L388+24
 4084 0454 1A60     		str	r2, [r3]
 483:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           goto aborted;
 4085              		.loc 1 483 0
 4086 0456 2846     		mov	r0, r5
 4087 0458 FFF7FEFF 		bl	tcp_input_delayed_close
 4088              	.LVL352:
 4089 045c 0028     		cmp	r0, #0
 4090 045e 7FF4F1AE 		bne	.L353
 487:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #if TCP_INPUT_DEBUG
 4091              		.loc 1 487 0
 4092 0462 2846     		mov	r0, r5
 4093 0464 FFF7FEFF 		bl	tcp_output
 4094              	.LVL353:
 4095 0468 ECE6     		b	.L353
 4096              	.LVL354:
 4097              	.L368:
 4098              	.LBB19:
 402:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             if (err == ERR_ABRT) {
 4099              		.loc 1 402 0
 4100 046a 0020     		movs	r0, #0
 4101 046c B7E7     		b	.L357
 4102              	.LVL355:
 4103              	.L384:
 4104              	.LBE19:
 424:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** #if TCP_QUEUE_OOSEQ && LWIP_WND_SCALE
 4105              		.loc 1 424 0
 4106 046e 2B4B     		ldr	r3, .L388+40
 4107 0470 1868     		ldr	r0, [r3]
 4108 0472 FFF7FEFF 		bl	pbuf_free
 4109              	.LVL356:
 430:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             goto aborted;
ARM GAS  /tmp/ccCn7Yn1.s 			page 117


 4110              		.loc 1 430 0
 4111 0476 2846     		mov	r0, r5
 4112 0478 FFF7FEFF 		bl	tcp_abort
 4113              	.LVL357:
 431:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           }
 4114              		.loc 1 431 0
 4115 047c E2E6     		b	.L353
 4116              	.LVL358:
 4117              	.L361:
 435:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****           if (err == ERR_ABRT) {
 4118              		.loc 1 435 0 discriminator 2
 4119 047e 0023     		movs	r3, #0
 4120 0480 264A     		ldr	r2, .L388+40
 4121 0482 1268     		ldr	r2, [r2]
 4122 0484 2946     		mov	r1, r5
 4123 0486 1846     		mov	r0, r3
 4124 0488 FFF7FEFF 		bl	tcp_recv_null
 4125              	.LVL359:
 4126 048c CDE7     		b	.L362
 4127              	.LVL360:
 4128              	.L364:
 472:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               pcb->rcv_wnd++;
 4129              		.loc 1 472 0
 4130 048e 2B8D     		ldrh	r3, [r5, #40]
 4131 0490 B3F5066F 		cmp	r3, #2144
 4132 0494 01D0     		beq	.L365
 473:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             }
 4133              		.loc 1 473 0
 4134 0496 0133     		adds	r3, r3, #1
 4135 0498 2B85     		strh	r3, [r5, #40]	@ movhi
 4136              	.L365:
 475:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             if (err == ERR_ABRT) {
 4137              		.loc 1 475 0
 4138 049a D5F88040 		ldr	r4, [r5, #128]
 4139 049e 44B1     		cbz	r4, .L369
 475:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             if (err == ERR_ABRT) {
 4140              		.loc 1 475 0 is_stmt 0 discriminator 1
 4141 04a0 0023     		movs	r3, #0
 4142 04a2 1A46     		mov	r2, r3
 4143 04a4 2946     		mov	r1, r5
 4144 04a6 2869     		ldr	r0, [r5, #16]
 4145 04a8 A047     		blx	r4
 4146              	.LVL361:
 4147              	.L366:
 476:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****               goto aborted;
 4148              		.loc 1 476 0 is_stmt 1
 4149 04aa 10F10D0F 		cmn	r0, #13
 4150 04ae CFD1     		bne	.L363
 4151 04b0 C8E6     		b	.L353
 4152              	.LVL362:
 4153              	.L369:
 475:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****             if (err == ERR_ABRT) {
 4154              		.loc 1 475 0
 4155 04b2 0020     		movs	r0, #0
 4156 04b4 F9E7     		b	.L366
 4157              	.LVL363:
 4158              	.L349:
ARM GAS  /tmp/ccCn7Yn1.s 			page 118


 512:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       TCP_STATS_INC(tcp.proterr);
 4159              		.loc 1 512 0
 4160 04b6 0F4B     		ldr	r3, .L388
 4161 04b8 1B68     		ldr	r3, [r3]
 4162 04ba 9889     		ldrh	r0, [r3, #12]	@ unaligned
 4163 04bc FFF7FEFF 		bl	lwip_htons
 4164              	.LVL364:
 4165 04c0 10F0040F 		tst	r0, #4
 4166 04c4 03D0     		beq	.L385
 4167              	.LVL365:
 4168              	.L367:
 518:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   }
 4169              		.loc 1 518 0
 4170 04c6 2046     		mov	r0, r4
 4171 04c8 FFF7FEFF 		bl	pbuf_free
 4172              	.LVL366:
 4173 04cc E3E5     		b	.L323
 4174              	.LVL367:
 4175              	.L385:
 516:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
 4176              		.loc 1 516 0
 4177 04ce 094B     		ldr	r3, .L388
 4178 04d0 1B68     		ldr	r3, [r3]
 515:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****         ip_current_src_addr(), tcphdr->dest, tcphdr->src);
 4179              		.loc 1 515 0
 4180 04d2 144A     		ldr	r2, .L388+48
 4181 04d4 1449     		ldr	r1, .L388+52
 4182 04d6 0888     		ldrh	r0, [r1]
 4183 04d8 1449     		ldr	r1, .L388+56
 4184 04da 0968     		ldr	r1, [r1]
 4185 04dc 1D88     		ldrh	r5, [r3]	@ unaligned
 4186              	.LVL368:
 4187 04de 0195     		str	r5, [sp, #4]
 4188 04e0 5B88     		ldrh	r3, [r3, #2]	@ unaligned
 4189 04e2 0093     		str	r3, [sp]
 4190 04e4 1346     		mov	r3, r2
 4191 04e6 0432     		adds	r2, r2, #4
 4192 04e8 0144     		add	r1, r1, r0
 4193 04ea 1148     		ldr	r0, .L388+60
 4194 04ec 0068     		ldr	r0, [r0]
 4195 04ee FFF7FEFF 		bl	tcp_rst
 4196              	.LVL369:
 4197 04f2 E8E7     		b	.L367
 4198              	.L389:
 4199              		.align	2
 4200              	.L388:
 4201 04f4 00000000 		.word	.LANCHOR3
 4202 04f8 00000000 		.word	.LC0
 4203 04fc 10010000 		.word	.LC25
 4204 0500 4C000000 		.word	.LC2
 4205 0504 00000000 		.word	ip_data
 4206 0508 00000000 		.word	tcp_listen_pcbs
 4207 050c 00000000 		.word	tcp_input_pcb
 4208 0510 00000000 		.word	.LANCHOR5
 4209 0514 00000000 		.word	tcp_active_pcbs
 4210 0518 00000000 		.word	.LANCHOR10
 4211 051c 00000000 		.word	.LANCHOR12
ARM GAS  /tmp/ccCn7Yn1.s 			page 119


 4212 0520 40010000 		.word	.LC26
 4213 0524 10000000 		.word	ip_data+16
 4214 0528 00000000 		.word	.LANCHOR8
 4215 052c 00000000 		.word	.LANCHOR7
 4216 0530 00000000 		.word	.LANCHOR9
 4217              		.cfi_endproc
 4218              	.LFE158:
 4220              		.section	.text.tcp_trigger_input_pcb_close,"ax",%progbits
 4221              		.align	1
 4222              		.global	tcp_trigger_input_pcb_close
 4223              		.syntax unified
 4224              		.thumb
 4225              		.thumb_func
 4226              		.fpu fpv5-d16
 4228              	tcp_trigger_input_pcb_close:
 4229              	.LFB167:
1826:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****       }
1827:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****     }
1828:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   }
1829:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** }
1830:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** 
1831:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** void
1832:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** tcp_trigger_input_pcb_close(void)
1833:Middlewares/Third_Party/LwIP/src/core/tcp_in.c **** {
 4230              		.loc 1 1833 0
 4231              		.cfi_startproc
 4232              		@ args = 0, pretend = 0, frame = 0
 4233              		@ frame_needed = 0, uses_anonymous_args = 0
 4234              		@ link register save eliminated.
1834:Middlewares/Third_Party/LwIP/src/core/tcp_in.c ****   recv_flags |= TF_CLOSED;
 4235              		.loc 1 1834 0
 4236 0000 024A     		ldr	r2, .L391
 4237 0002 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 4238 0004 43F01003 		orr	r3, r3, #16
 4239 0008 1370     		strb	r3, [r2]
 4240 000a 7047     		bx	lr
 4241              	.L392:
 4242              		.align	2
 4243              	.L391:
 4244 000c 00000000 		.word	.LANCHOR5
 4245              		.cfi_endproc
 4246              	.LFE167:
 4248              		.comm	tcp_input_pcb,4,4
 4249              		.section	.bss.ackno,"aw",%nobits
 4250              		.align	2
 4251              		.set	.LANCHOR9,. + 0
 4254              	ackno:
 4255 0000 00000000 		.space	4
 4256              		.section	.bss.flags,"aw",%nobits
 4257              		.set	.LANCHOR6,. + 0
 4260              	flags:
 4261 0000 00       		.space	1
 4262              		.section	.bss.inseg,"aw",%nobits
 4263              		.align	2
 4264              		.set	.LANCHOR11,. + 0
 4267              	inseg:
 4268 0000 00000000 		.space	16
ARM GAS  /tmp/ccCn7Yn1.s 			page 120


 4268      00000000 
 4268      00000000 
 4268      00000000 
 4269              		.section	.bss.recv_acked,"aw",%nobits
 4270              		.align	1
 4271              		.set	.LANCHOR10,. + 0
 4274              	recv_acked:
 4275 0000 0000     		.space	2
 4276              		.section	.bss.recv_data,"aw",%nobits
 4277              		.align	2
 4278              		.set	.LANCHOR12,. + 0
 4281              	recv_data:
 4282 0000 00000000 		.space	4
 4283              		.section	.bss.recv_flags,"aw",%nobits
 4284              		.set	.LANCHOR5,. + 0
 4287              	recv_flags:
 4288 0000 00       		.space	1
 4289              		.section	.bss.seqno,"aw",%nobits
 4290              		.align	2
 4291              		.set	.LANCHOR7,. + 0
 4294              	seqno:
 4295 0000 00000000 		.space	4
 4296              		.section	.bss.tcp_optidx,"aw",%nobits
 4297              		.align	1
 4298              		.set	.LANCHOR1,. + 0
 4301              	tcp_optidx:
 4302 0000 0000     		.space	2
 4303              		.section	.bss.tcphdr,"aw",%nobits
 4304              		.align	2
 4305              		.set	.LANCHOR3,. + 0
 4308              	tcphdr:
 4309 0000 00000000 		.space	4
 4310              		.section	.bss.tcphdr_opt1len,"aw",%nobits
 4311              		.align	1
 4312              		.set	.LANCHOR2,. + 0
 4315              	tcphdr_opt1len:
 4316 0000 0000     		.space	2
 4317              		.section	.bss.tcphdr_opt2,"aw",%nobits
 4318              		.align	2
 4319              		.set	.LANCHOR0,. + 0
 4322              	tcphdr_opt2:
 4323 0000 00000000 		.space	4
 4324              		.section	.bss.tcphdr_optlen,"aw",%nobits
 4325              		.align	1
 4326              		.set	.LANCHOR4,. + 0
 4329              	tcphdr_optlen:
 4330 0000 0000     		.space	2
 4331              		.section	.bss.tcplen,"aw",%nobits
 4332              		.align	1
 4333              		.set	.LANCHOR8,. + 0
 4336              	tcplen:
 4337 0000 0000     		.space	2
 4338              		.section	.rodata.tcp_input.str1.4,"aMS",%progbits,1
 4339              		.align	2
 4340              	.LC17:
 4341 0000 702D3E6E 		.ascii	"p->next != NULL\000"
 4341      65787420 
ARM GAS  /tmp/ccCn7Yn1.s 			page 121


 4341      213D204E 
 4341      554C4C00 
 4342              	.LC18:
 4343 0010 702D3E6C 		.ascii	"p->len == 0\000"
 4343      656E203D 
 4343      3D203000 
 4344              	.LC19:
 4345 001c 702D3E74 		.ascii	"p->tot_len == p->next->tot_len\000"
 4345      6F745F6C 
 4345      656E203D 
 4345      3D20702D 
 4345      3E6E6578 
 4346 003b 00       		.space	1
 4347              	.LC20:
 4348 003c 7463705F 		.ascii	"tcp_input: active pcb->state != CLOSED\000"
 4348      696E7075 
 4348      743A2061 
 4348      63746976 
 4348      65207063 
 4349 0063 00       		.space	1
 4350              	.LC21:
 4351 0064 7463705F 		.ascii	"tcp_input: active pcb->state != TIME-WAIT\000"
 4351      696E7075 
 4351      743A2061 
 4351      63746976 
 4351      65207063 
 4352 008e 0000     		.space	2
 4353              	.LC22:
 4354 0090 7463705F 		.ascii	"tcp_input: active pcb->state != LISTEN\000"
 4354      696E7075 
 4354      743A2061 
 4354      63746976 
 4354      65207063 
 4355 00b7 00       		.space	1
 4356              	.LC23:
 4357 00b8 7463705F 		.ascii	"tcp_input: pcb->next != pcb (before cache)\000"
 4357      696E7075 
 4357      743A2070 
 4357      63622D3E 
 4357      6E657874 
 4358 00e3 00       		.space	1
 4359              	.LC24:
 4360 00e4 7463705F 		.ascii	"tcp_input: pcb->next != pcb (after cache)\000"
 4360      696E7075 
 4360      743A2070 
 4360      63622D3E 
 4360      6E657874 
 4361 010e 0000     		.space	2
 4362              	.LC25:
 4363 0110 7463705F 		.ascii	"tcp_input: TIME-WAIT pcb->state == TIME-WAIT\000"
 4363      696E7075 
 4363      743A2054 
 4363      494D452D 
 4363      57414954 
 4364 013d 000000   		.space	3
 4365              	.LC26:
 4366 0140 7063622D 		.ascii	"pcb->refused_data == NULL\000"
ARM GAS  /tmp/ccCn7Yn1.s 			page 122


 4366      3E726566 
 4366      75736564 
 4366      5F646174 
 4366      61203D3D 
 4367              		.section	.rodata.tcp_process.str1.4,"aMS",%progbits,1
 4368              		.align	2
 4369              	.LC13:
 4370 0000 7463705F 		.ascii	"tcp_input: pcb->state != CLOSED\000"
 4370      696E7075 
 4370      743A2070 
 4370      63622D3E 
 4370      73746174 
 4371              	.LC14:
 4372 0020 7063622D 		.ascii	"pcb->snd_queuelen > 0\000"
 4372      3E736E64 
 4372      5F717565 
 4372      75656C65 
 4372      6E203E20 
 4373 0036 0000     		.space	2
 4374              	.LC15:
 4375 0038 6E6F2073 		.ascii	"no segment to free\000"
 4375      65676D65 
 4375      6E742074 
 4375      6F206672 
 4375      656500
 4376 004b 00       		.space	1
 4377              	.LC16:
 4378 004c 7063622D 		.ascii	"pcb->listener->accept != NULL\000"
 4378      3E6C6973 
 4378      74656E65 
 4378      722D3E61 
 4378      63636570 
 4379              		.section	.rodata.tcp_receive.str1.4,"aMS",%progbits,1
 4380              		.align	2
 4381              	.LC0:
 4382 0000 4D696464 		.ascii	"Middlewares/Third_Party/LwIP/src/core/tcp_in.c\000"
 4382      6C657761 
 4382      7265732F 
 4382      54686972 
 4382      645F5061 
 4383 002f 00       		.space	1
 4384              	.LC1:
 4385 0030 7463705F 		.ascii	"tcp_receive: wrong state\000"
 4385      72656365 
 4385      6976653A 
 4385      2077726F 
 4385      6E672073 
 4386 0049 000000   		.space	3
 4387              	.LC2:
 4388 004c 41737365 		.ascii	"Assertion \"%s\" failed at line %d in %s\012\000"
 4388      7274696F 
 4388      6E202225 
 4388      73222066 
 4388      61696C65 
 4389              	.LC3:
 4390 0074 7063622D 		.ascii	"pcb->snd_queuelen >= pbuf_clen(next->p)\000"
 4390      3E736E64 
ARM GAS  /tmp/ccCn7Yn1.s 			page 123


 4390      5F717565 
 4390      75656C65 
 4390      6E203E3D 
 4391              	.LC4:
 4392 009c 7463705F 		.ascii	"tcp_receive: valid queue length\000"
 4392      72656365 
 4392      6976653A 
 4392      2076616C 
 4392      69642071 
 4393              	.LC5:
 4394 00bc 696E7365 		.ascii	"inseg.p != NULL\000"
 4394      672E7020 
 4394      213D204E 
 4394      554C4C00 
 4395              	.LC6:
 4396 00cc 696E7361 		.ascii	"insane offset!\000"
 4396      6E65206F 
 4396      66667365 
 4396      742100
 4397 00db 00       		.space	1
 4398              	.LC7:
 4399 00dc 70627566 		.ascii	"pbuf too short!\000"
 4399      20746F6F 
 4399      2073686F 
 4399      72742100 
 4400              	.LC8:
 4401 00ec 70627566 		.ascii	"pbuf_header failed\000"
 4401      5F686561 
 4401      64657220 
 4401      6661696C 
 4401      656400
 4402 00ff 00       		.space	1
 4403              	.LC9:
 4404 0100 7463705F 		.ascii	"tcp_receive: segment not trimmed correctly to rcv_w"
 4404      72656365 
 4404      6976653A 
 4404      20736567 
 4404      6D656E74 
 4405 0133 6E640A00 		.ascii	"nd\012\000"
 4406 0137 00       		.space	1
 4407              	.LC10:
 4408 0138 7463705F 		.ascii	"tcp_receive: segment not trimmed correctly to ooseq"
 4408      72656365 
 4408      6976653A 
 4408      20736567 
 4408      6D656E74 
 4409 016b 20717565 		.ascii	" queue\012\000"
 4409      75650A00 
 4410 0173 00       		.space	1
 4411              	.LC11:
 4412 0174 7463705F 		.ascii	"tcp_receive: tcplen > rcv_wnd\012\000"
 4412      72656365 
 4412      6976653A 
 4412      20746370 
 4412      6C656E20 
 4413 0193 00       		.space	1
 4414              	.LC12:
ARM GAS  /tmp/ccCn7Yn1.s 			page 124


 4415 0194 7463705F 		.ascii	"tcp_receive: ooseq tcplen > rcv_wnd\012\000"
 4415      72656365 
 4415      6976653A 
 4415      206F6F73 
 4415      65712074 
 4416              		.text
 4417              	.Letext0:
 4418              		.file 2 "/usr/include/newlib/machine/_default_types.h"
 4419              		.file 3 "/usr/include/newlib/sys/_stdint.h"
 4420              		.file 4 "Drivers/CMSIS/Include/core_cm7.h"
 4421              		.file 5 "Drivers/CMSIS/Device/ST/STM32H7xx/Include/system_stm32h7xx.h"
 4422              		.file 6 "/usr/include/newlib/sys/lock.h"
 4423              		.file 7 "/usr/include/newlib/sys/_types.h"
 4424              		.file 8 "/usr/lib/gcc/arm-none-eabi/6.3.1/include/stddef.h"
 4425              		.file 9 "/usr/include/newlib/sys/reent.h"
 4426              		.file 10 "/usr/include/newlib/math.h"
 4427              		.file 11 "Drivers/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal_def.h"
 4428              		.file 12 "Drivers/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal_flash.h"
 4429              		.file 13 "Drivers/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal.h"
 4430              		.file 14 "/usr/include/newlib/stdlib.h"
 4431              		.file 15 "/usr/include/newlib/time.h"
 4432              		.file 16 "Middlewares/Third_Party/LwIP/src/include/lwip/arch.h"
 4433              		.file 17 "Middlewares/Third_Party/LwIP/src/include/lwip/err.h"
 4434              		.file 18 "Middlewares/Third_Party/LwIP/src/include/lwip/pbuf.h"
 4435              		.file 19 "Middlewares/Third_Party/LwIP/src/include/lwip/ip4_addr.h"
 4436              		.file 20 "Middlewares/Third_Party/LwIP/src/include/lwip/ip_addr.h"
 4437              		.file 21 "Middlewares/Third_Party/LwIP/src/include/lwip/memp.h"
 4438              		.file 22 "Middlewares/Third_Party/LwIP/src/include/lwip/priv/memp_priv.h"
 4439              		.file 23 "Middlewares/Third_Party/LwIP/src/include/lwip/netif.h"
 4440              		.file 24 "Middlewares/Third_Party/LwIP/src/include/lwip/prot/ip4.h"
 4441              		.file 25 "Middlewares/Third_Party/LwIP/src/include/lwip/ip.h"
 4442              		.file 26 "Middlewares/Third_Party/LwIP/src/include/lwip/tcp.h"
 4443              		.file 27 "Middlewares/Third_Party/LwIP/src/include/lwip/priv/tcp_priv.h"
 4444              		.file 28 "Middlewares/Third_Party/LwIP/src/include/lwip/prot/tcp.h"
 4445              		.file 29 "/usr/include/newlib/stdio.h"
 4446              		.file 30 "Middlewares/Third_Party/LwIP/src/include/lwip/def.h"
ARM GAS  /tmp/ccCn7Yn1.s 			page 125


DEFINED SYMBOLS
                            *ABS*:0000000000000000 tcp_in.c
     /tmp/ccCn7Yn1.s:17     .text.tcp_getoptbyte:0000000000000000 $t
     /tmp/ccCn7Yn1.s:23     .text.tcp_getoptbyte:0000000000000000 tcp_getoptbyte
     /tmp/ccCn7Yn1.s:85     .text.tcp_getoptbyte:000000000000003c $d
     /tmp/ccCn7Yn1.s:94     .text.tcp_parseopt:0000000000000000 $t
     /tmp/ccCn7Yn1.s:100    .text.tcp_parseopt:0000000000000000 tcp_parseopt
     /tmp/ccCn7Yn1.s:203    .text.tcp_parseopt:0000000000000080 $d
     /tmp/ccCn7Yn1.s:210    .text.tcp_input_delayed_close:0000000000000000 $t
     /tmp/ccCn7Yn1.s:216    .text.tcp_input_delayed_close:0000000000000000 tcp_input_delayed_close
     /tmp/ccCn7Yn1.s:275    .text.tcp_input_delayed_close:000000000000003c $d
     /tmp/ccCn7Yn1.s:281    .text.tcp_timewait_input:0000000000000000 $t
     /tmp/ccCn7Yn1.s:287    .text.tcp_timewait_input:0000000000000000 tcp_timewait_input
     /tmp/ccCn7Yn1.s:386    .text.tcp_timewait_input:0000000000000074 $d
     /tmp/ccCn7Yn1.s:397    .text.tcp_listen_input:0000000000000000 $t
     /tmp/ccCn7Yn1.s:403    .text.tcp_listen_input:0000000000000000 tcp_listen_input
     /tmp/ccCn7Yn1.s:608    .text.tcp_listen_input:00000000000000f4 $d
     /tmp/ccCn7Yn1.s:621    .text.tcp_oos_insert_segment:0000000000000000 $t
     /tmp/ccCn7Yn1.s:627    .text.tcp_oos_insert_segment:0000000000000000 tcp_oos_insert_segment
     /tmp/ccCn7Yn1.s:733    .text.tcp_oos_insert_segment:0000000000000080 $d
     /tmp/ccCn7Yn1.s:738    .text.tcp_receive:0000000000000000 $t
     /tmp/ccCn7Yn1.s:744    .text.tcp_receive:0000000000000000 tcp_receive
     /tmp/ccCn7Yn1.s:1192   .text.tcp_receive:00000000000002c8 $d
     /tmp/ccCn7Yn1.s:1206   .text.tcp_receive:00000000000002f0 $t
     /tmp/ccCn7Yn1.s:1657   .text.tcp_receive:0000000000000594 $d
     /tmp/ccCn7Yn1.s:1673   .text.tcp_receive:00000000000005cc $t
     /tmp/ccCn7Yn1.s:2116   .text.tcp_receive:0000000000000874 $d
     /tmp/ccCn7Yn1.s:2129   .text.tcp_receive:000000000000089c $t
     /tmp/ccCn7Yn1.s:2386   .text.tcp_receive:0000000000000a30 $d
     /tmp/ccCn7Yn1.s:2396   .text.tcp_process:0000000000000000 $t
     /tmp/ccCn7Yn1.s:2402   .text.tcp_process:0000000000000000 tcp_process
     /tmp/ccCn7Yn1.s:2573   .text.tcp_process:00000000000000d0 $d
     /tmp/ccCn7Yn1.s:2581   .text.tcp_process:00000000000000e0 $t
     /tmp/ccCn7Yn1.s:2873   .text.tcp_process:0000000000000294 $d
     /tmp/ccCn7Yn1.s:2889   .text.tcp_process:00000000000002cc $t
     /tmp/ccCn7Yn1.s:3313   .text.tcp_process:0000000000000518 $d
     /tmp/ccCn7Yn1.s:3325   .text.tcp_input:0000000000000000 $t
     /tmp/ccCn7Yn1.s:3332   .text.tcp_input:0000000000000000 tcp_input
     /tmp/ccCn7Yn1.s:3801   .text.tcp_input:0000000000000288 $d
                            *COM*:0000000000000004 tcp_input_pcb
     /tmp/ccCn7Yn1.s:3829   .text.tcp_input:00000000000002f0 $t
     /tmp/ccCn7Yn1.s:4201   .text.tcp_input:00000000000004f4 $d
     /tmp/ccCn7Yn1.s:4221   .text.tcp_trigger_input_pcb_close:0000000000000000 $t
     /tmp/ccCn7Yn1.s:4228   .text.tcp_trigger_input_pcb_close:0000000000000000 tcp_trigger_input_pcb_close
     /tmp/ccCn7Yn1.s:4244   .text.tcp_trigger_input_pcb_close:000000000000000c $d
     /tmp/ccCn7Yn1.s:4250   .bss.ackno:0000000000000000 $d
     /tmp/ccCn7Yn1.s:4254   .bss.ackno:0000000000000000 ackno
     /tmp/ccCn7Yn1.s:4260   .bss.flags:0000000000000000 flags
     /tmp/ccCn7Yn1.s:4261   .bss.flags:0000000000000000 $d
     /tmp/ccCn7Yn1.s:4263   .bss.inseg:0000000000000000 $d
     /tmp/ccCn7Yn1.s:4267   .bss.inseg:0000000000000000 inseg
     /tmp/ccCn7Yn1.s:4270   .bss.recv_acked:0000000000000000 $d
     /tmp/ccCn7Yn1.s:4274   .bss.recv_acked:0000000000000000 recv_acked
     /tmp/ccCn7Yn1.s:4277   .bss.recv_data:0000000000000000 $d
     /tmp/ccCn7Yn1.s:4281   .bss.recv_data:0000000000000000 recv_data
     /tmp/ccCn7Yn1.s:4287   .bss.recv_flags:0000000000000000 recv_flags
     /tmp/ccCn7Yn1.s:4288   .bss.recv_flags:0000000000000000 $d
ARM GAS  /tmp/ccCn7Yn1.s 			page 126


     /tmp/ccCn7Yn1.s:4290   .bss.seqno:0000000000000000 $d
     /tmp/ccCn7Yn1.s:4294   .bss.seqno:0000000000000000 seqno
     /tmp/ccCn7Yn1.s:4297   .bss.tcp_optidx:0000000000000000 $d
     /tmp/ccCn7Yn1.s:4301   .bss.tcp_optidx:0000000000000000 tcp_optidx
     /tmp/ccCn7Yn1.s:4304   .bss.tcphdr:0000000000000000 $d
     /tmp/ccCn7Yn1.s:4308   .bss.tcphdr:0000000000000000 tcphdr
     /tmp/ccCn7Yn1.s:4311   .bss.tcphdr_opt1len:0000000000000000 $d
     /tmp/ccCn7Yn1.s:4315   .bss.tcphdr_opt1len:0000000000000000 tcphdr_opt1len
     /tmp/ccCn7Yn1.s:4318   .bss.tcphdr_opt2:0000000000000000 $d
     /tmp/ccCn7Yn1.s:4322   .bss.tcphdr_opt2:0000000000000000 tcphdr_opt2
     /tmp/ccCn7Yn1.s:4325   .bss.tcphdr_optlen:0000000000000000 $d
     /tmp/ccCn7Yn1.s:4329   .bss.tcphdr_optlen:0000000000000000 tcphdr_optlen
     /tmp/ccCn7Yn1.s:4332   .bss.tcplen:0000000000000000 $d
     /tmp/ccCn7Yn1.s:4336   .bss.tcplen:0000000000000000 tcplen
     /tmp/ccCn7Yn1.s:4339   .rodata.tcp_input.str1.4:0000000000000000 $d
     /tmp/ccCn7Yn1.s:4368   .rodata.tcp_process.str1.4:0000000000000000 $d
     /tmp/ccCn7Yn1.s:4380   .rodata.tcp_receive.str1.4:0000000000000000 $d
                     .debug_frame:0000000000000010 $d

UNDEFINED SYMBOLS
tcp_pcb_remove
memp_free
tcp_active_pcbs
tcp_rst
tcp_output
ip_data
tcp_ticks
tcp_alloc
tcp_next_iss
tcp_timer_needed
tcp_eff_send_mss_impl
tcp_enqueue_flags
tcp_abandon
tcp_active_pcbs_changed
lwip_htons
tcp_segs_free
tcp_seg_free
pbuf_realloc
tcp_send_empty_ack
lwip_htonl
pbuf_clen
printf
tcp_rexmit_fast
pbuf_header
tcp_update_rcv_ann_wnd
pbuf_cat
tcp_seg_copy
tcp_rexmit_rto
tcp_abort
tcp_rexmit
tcp_pcb_purge
tcp_tw_pcbs
ip4_addr_isbroadcast_u32
pbuf_free
tcp_process_refused_data
tcp_recv_null
tcp_listen_pcbs
ARM GAS  /tmp/ccCn7Yn1.s 			page 127


