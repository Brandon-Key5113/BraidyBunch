ARM GAS  /tmp/ccQWtNTq.s 			page 1


   1              		.cpu cortex-m7
   2              		.eabi_attribute 28, 1
   3              		.eabi_attribute 20, 1
   4              		.eabi_attribute 21, 1
   5              		.eabi_attribute 23, 3
   6              		.eabi_attribute 24, 1
   7              		.eabi_attribute 25, 1
   8              		.eabi_attribute 26, 1
   9              		.eabi_attribute 30, 1
  10              		.eabi_attribute 34, 1
  11              		.eabi_attribute 18, 4
  12              		.file	"ip4_frag.c"
  13              		.text
  14              	.Ltext0:
  15              		.cfi_sections	.debug_frame
  16              		.section	.text.ip_reass_dequeue_datagram,"ax",%progbits
  17              		.align	1
  18              		.syntax unified
  19              		.thumb
  20              		.thumb_func
  21              		.fpu fpv5-d16
  23              	ip_reass_dequeue_datagram:
  24              	.LFB162:
  25              		.file 1 "Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c"
   1:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** /**
   2:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * @file
   3:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * This is the IPv4 packet segmentation and reassembly implementation.
   4:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  *
   5:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  */
   6:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
   7:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** /*
   8:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * Copyright (c) 2001-2004 Swedish Institute of Computer Science.
   9:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * All rights reserved.
  10:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  *
  11:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * Redistribution and use in source and binary forms, with or without modification,
  12:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * are permitted provided that the following conditions are met:
  13:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  *
  14:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * 1. Redistributions of source code must retain the above copyright notice,
  15:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  *    this list of conditions and the following disclaimer.
  16:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * 2. Redistributions in binary form must reproduce the above copyright notice,
  17:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  *    this list of conditions and the following disclaimer in the documentation
  18:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  *    and/or other materials provided with the distribution.
  19:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * 3. The name of the author may not be used to endorse or promote products
  20:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  *    derived from this software without specific prior written permission.
  21:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  *
  22:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * THIS SOFTWARE IS PROVIDED BY THE AUTHOR ``AS IS'' AND ANY EXPRESS OR IMPLIED
  23:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
  24:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT
  25:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * SHALL THE AUTHOR BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  26:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT
  27:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
  28:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
  29:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING
  30:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY
  31:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * OF SUCH DAMAGE.
  32:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  *
  33:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * This file is part of the lwIP TCP/IP stack.
ARM GAS  /tmp/ccQWtNTq.s 			page 2


  34:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  *
  35:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * Author: Jani Monoses <jani@iv.ro>
  36:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  *         Simon Goldschmidt
  37:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * original reassembly code by Adam Dunkels <adam@sics.se>
  38:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  *
  39:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  */
  40:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
  41:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #include "lwip/opt.h"
  42:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
  43:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #if LWIP_IPV4
  44:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
  45:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #include "lwip/ip4_frag.h"
  46:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #include "lwip/def.h"
  47:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #include "lwip/inet_chksum.h"
  48:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #include "lwip/netif.h"
  49:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #include "lwip/stats.h"
  50:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #include "lwip/icmp.h"
  51:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
  52:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #include <string.h>
  53:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
  54:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #if IP_REASSEMBLY
  55:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** /**
  56:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * The IP reassembly code currently has the following limitations:
  57:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * - IP header options are not supported
  58:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * - fragments must not overlap (e.g. due to different routes),
  59:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  *   currently, overlapping or duplicate fragments are thrown away
  60:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  *   if IP_REASS_CHECK_OVERLAP=1 (the default)!
  61:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  *
  62:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * @todo: work with IP header options
  63:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  */
  64:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
  65:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** /** Setting this to 0, you can turn off checking the fragments for overlapping
  66:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * regions. The code gets a little smaller. Only use this if you know that
  67:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * overlapping won't occur on your network! */
  68:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #ifndef IP_REASS_CHECK_OVERLAP
  69:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #define IP_REASS_CHECK_OVERLAP 1
  70:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #endif /* IP_REASS_CHECK_OVERLAP */
  71:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
  72:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** /** Set to 0 to prevent freeing the oldest datagram when the reassembly buffer is
  73:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * full (IP_REASS_MAX_PBUFS pbufs are enqueued). The code gets a little smaller.
  74:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * Datagrams will be freed by timeout only. Especially useful when MEMP_NUM_REASSDATA
  75:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * is set to 1, so one datagram can be reassembled at a time, only. */
  76:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #ifndef IP_REASS_FREE_OLDEST
  77:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #define IP_REASS_FREE_OLDEST 1
  78:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #endif /* IP_REASS_FREE_OLDEST */
  79:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
  80:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #define IP_REASS_FLAG_LASTFRAG 0x01
  81:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
  82:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #define IP_REASS_VALIDATE_TELEGRAM_FINISHED  1
  83:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #define IP_REASS_VALIDATE_PBUF_QUEUED        0
  84:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #define IP_REASS_VALIDATE_PBUF_DROPPED       -1
  85:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
  86:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** /** This is a helper struct which holds the starting
  87:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * offset and the ending offset of this fragment to
  88:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * easily chain the fragments.
  89:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * It has the same packing requirements as the IP header, since it replaces
  90:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * the IP header in memory in incoming fragments (after copying it) to keep
ARM GAS  /tmp/ccQWtNTq.s 			page 3


  91:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * track of the various fragments. (-> If the IP header doesn't need packing,
  92:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * this struct doesn't need packing, too.)
  93:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  */
  94:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #ifdef PACK_STRUCT_USE_INCLUDES
  95:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #  include "arch/bpstruct.h"
  96:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #endif
  97:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** PACK_STRUCT_BEGIN
  98:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** struct ip_reass_helper {
  99:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   PACK_STRUCT_FIELD(struct pbuf *next_pbuf);
 100:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   PACK_STRUCT_FIELD(u16_t start);
 101:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   PACK_STRUCT_FIELD(u16_t end);
 102:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** } PACK_STRUCT_STRUCT;
 103:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** PACK_STRUCT_END
 104:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #ifdef PACK_STRUCT_USE_INCLUDES
 105:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #  include "arch/epstruct.h"
 106:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #endif
 107:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 108:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #define IP_ADDRESSES_AND_ID_MATCH(iphdrA, iphdrB)  \
 109:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   (ip4_addr_cmp(&(iphdrA)->src, &(iphdrB)->src) && \
 110:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****    ip4_addr_cmp(&(iphdrA)->dest, &(iphdrB)->dest) && \
 111:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****    IPH_ID(iphdrA) == IPH_ID(iphdrB)) ? 1 : 0
 112:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 113:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** /* global variables */
 114:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** static struct ip_reassdata *reassdatagrams;
 115:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** static u16_t ip_reass_pbufcount;
 116:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 117:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** /* function prototypes */
 118:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** static void ip_reass_dequeue_datagram(struct ip_reassdata *ipr, struct ip_reassdata *prev);
 119:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** static int ip_reass_free_complete_datagram(struct ip_reassdata *ipr, struct ip_reassdata *prev);
 120:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 121:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** /**
 122:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * Reassembly timer base function
 123:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * for both NO_SYS == 0 and 1 (!).
 124:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  *
 125:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * Should be called every 1000 msec (defined by IP_TMR_INTERVAL).
 126:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  */
 127:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** void
 128:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** ip_reass_tmr(void)
 129:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** {
 130:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   struct ip_reassdata *r, *prev = NULL;
 131:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 132:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   r = reassdatagrams;
 133:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   while (r != NULL) {
 134:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* Decrement the timer. Once it reaches 0,
 135:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****      * clean up the incomplete fragment assembly */
 136:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     if (r->timer > 0) {
 137:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       r->timer--;
 138:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       LWIP_DEBUGF(IP_REASS_DEBUG, ("ip_reass_tmr: timer dec %"U16_F"\n",(u16_t)r->timer));
 139:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       prev = r;
 140:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       r = r->next;
 141:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     } else {
 142:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       /* reassembly timed out */
 143:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       struct ip_reassdata *tmp;
 144:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       LWIP_DEBUGF(IP_REASS_DEBUG, ("ip_reass_tmr: timer timed out\n"));
 145:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       tmp = r;
 146:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       /* get the next pointer before freeing */
 147:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       r = r->next;
ARM GAS  /tmp/ccQWtNTq.s 			page 4


 148:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       /* free the helper struct and all enqueued pbufs */
 149:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       ip_reass_free_complete_datagram(tmp, prev);
 150:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****      }
 151:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****    }
 152:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** }
 153:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 154:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** /**
 155:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * Free a datagram (struct ip_reassdata) and all its pbufs.
 156:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * Updates the total count of enqueued pbufs (ip_reass_pbufcount),
 157:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * SNMP counters and sends an ICMP time exceeded packet.
 158:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  *
 159:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * @param ipr datagram to free
 160:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * @param prev the previous datagram in the linked list
 161:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * @return the number of pbufs freed
 162:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  */
 163:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** static int
 164:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** ip_reass_free_complete_datagram(struct ip_reassdata *ipr, struct ip_reassdata *prev)
 165:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** {
 166:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   u16_t pbufs_freed = 0;
 167:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   u16_t clen;
 168:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   struct pbuf *p;
 169:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   struct ip_reass_helper *iprh;
 170:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 171:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   LWIP_ASSERT("prev != ipr", prev != ipr);
 172:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   if (prev != NULL) {
 173:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     LWIP_ASSERT("prev->next == ipr", prev->next == ipr);
 174:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   }
 175:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 176:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   MIB2_STATS_INC(mib2.ipreasmfails);
 177:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #if LWIP_ICMP
 178:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   iprh = (struct ip_reass_helper *)ipr->p->payload;
 179:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   if (iprh->start == 0) {
 180:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* The first fragment was received, send ICMP time exceeded. */
 181:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* First, de-queue the first pbuf from r->p. */
 182:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     p = ipr->p;
 183:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     ipr->p = iprh->next_pbuf;
 184:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* Then, copy the original header into it. */
 185:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     SMEMCPY(p->payload, &ipr->iphdr, IP_HLEN);
 186:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     icmp_time_exceeded(p, ICMP_TE_FRAG);
 187:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     clen = pbuf_clen(p);
 188:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     LWIP_ASSERT("pbufs_freed + clen <= 0xffff", pbufs_freed + clen <= 0xffff);
 189:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     pbufs_freed += clen;
 190:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     pbuf_free(p);
 191:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   }
 192:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #endif /* LWIP_ICMP */
 193:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 194:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   /* First, free all received pbufs.  The individual pbufs need to be released
 195:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****      separately as they have not yet been chained */
 196:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   p = ipr->p;
 197:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   while (p != NULL) {
 198:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     struct pbuf *pcur;
 199:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     iprh = (struct ip_reass_helper *)p->payload;
 200:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     pcur = p;
 201:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* get the next pointer before freeing */
 202:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     p = iprh->next_pbuf;
 203:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     clen = pbuf_clen(pcur);
 204:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     LWIP_ASSERT("pbufs_freed + clen <= 0xffff", pbufs_freed + clen <= 0xffff);
ARM GAS  /tmp/ccQWtNTq.s 			page 5


 205:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     pbufs_freed += clen;
 206:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     pbuf_free(pcur);
 207:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   }
 208:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   /* Then, unchain the struct ip_reassdata from the list and free it. */
 209:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   ip_reass_dequeue_datagram(ipr, prev);
 210:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   LWIP_ASSERT("ip_reass_pbufcount >= clen", ip_reass_pbufcount >= pbufs_freed);
 211:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   ip_reass_pbufcount -= pbufs_freed;
 212:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 213:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   return pbufs_freed;
 214:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** }
 215:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 216:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #if IP_REASS_FREE_OLDEST
 217:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** /**
 218:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * Free the oldest datagram to make room for enqueueing new fragments.
 219:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * The datagram 'fraghdr' belongs to is not freed!
 220:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  *
 221:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * @param fraghdr IP header of the current fragment
 222:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * @param pbufs_needed number of pbufs needed to enqueue
 223:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  *        (used for freeing other datagrams if not enough space)
 224:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * @return the number of pbufs freed
 225:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  */
 226:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** static int
 227:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** ip_reass_remove_oldest_datagram(struct ip_hdr *fraghdr, int pbufs_needed)
 228:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** {
 229:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   /* @todo Can't we simply remove the last datagram in the
 230:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****    *       linked list behind reassdatagrams?
 231:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****    */
 232:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   struct ip_reassdata *r, *oldest, *prev, *oldest_prev;
 233:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   int pbufs_freed = 0, pbufs_freed_current;
 234:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   int other_datagrams;
 235:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 236:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   /* Free datagrams until being allowed to enqueue 'pbufs_needed' pbufs,
 237:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****    * but don't free the datagram that 'fraghdr' belongs to! */
 238:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   do {
 239:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     oldest = NULL;
 240:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     prev = NULL;
 241:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     oldest_prev = NULL;
 242:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     other_datagrams = 0;
 243:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     r = reassdatagrams;
 244:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     while (r != NULL) {
 245:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       if (!IP_ADDRESSES_AND_ID_MATCH(&r->iphdr, fraghdr)) {
 246:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         /* Not the same datagram as fraghdr */
 247:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         other_datagrams++;
 248:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         if (oldest == NULL) {
 249:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****           oldest = r;
 250:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****           oldest_prev = prev;
 251:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         } else if (r->timer <= oldest->timer) {
 252:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****           /* older than the previous oldest */
 253:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****           oldest = r;
 254:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****           oldest_prev = prev;
 255:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         }
 256:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       }
 257:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       if (r->next != NULL) {
 258:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         prev = r;
 259:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       }
 260:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       r = r->next;
 261:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     }
ARM GAS  /tmp/ccQWtNTq.s 			page 6


 262:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     if (oldest != NULL) {
 263:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       pbufs_freed_current = ip_reass_free_complete_datagram(oldest, oldest_prev);
 264:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       pbufs_freed += pbufs_freed_current;
 265:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     }
 266:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   } while ((pbufs_freed < pbufs_needed) && (other_datagrams > 1));
 267:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   return pbufs_freed;
 268:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** }
 269:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #endif /* IP_REASS_FREE_OLDEST */
 270:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 271:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** /**
 272:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * Enqueues a new fragment into the fragment queue
 273:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * @param fraghdr points to the new fragments IP hdr
 274:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * @param clen number of pbufs needed to enqueue (used for freeing other datagrams if not enough sp
 275:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * @return A pointer to the queue location into which the fragment was enqueued
 276:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  */
 277:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** static struct ip_reassdata*
 278:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** ip_reass_enqueue_new_datagram(struct ip_hdr *fraghdr, int clen)
 279:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** {
 280:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   struct ip_reassdata* ipr;
 281:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #if ! IP_REASS_FREE_OLDEST
 282:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   LWIP_UNUSED_ARG(clen);
 283:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #endif
 284:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 285:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   /* No matching previous fragment found, allocate a new reassdata struct */
 286:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   ipr = (struct ip_reassdata *)memp_malloc(MEMP_REASSDATA);
 287:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   if (ipr == NULL) {
 288:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #if IP_REASS_FREE_OLDEST
 289:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     if (ip_reass_remove_oldest_datagram(fraghdr, clen) >= clen) {
 290:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       ipr = (struct ip_reassdata *)memp_malloc(MEMP_REASSDATA);
 291:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     }
 292:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     if (ipr == NULL)
 293:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #endif /* IP_REASS_FREE_OLDEST */
 294:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     {
 295:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       IPFRAG_STATS_INC(ip_frag.memerr);
 296:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       LWIP_DEBUGF(IP_REASS_DEBUG,("Failed to alloc reassdata struct\n"));
 297:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       return NULL;
 298:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     }
 299:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   }
 300:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   memset(ipr, 0, sizeof(struct ip_reassdata));
 301:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   ipr->timer = IP_REASS_MAXAGE;
 302:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 303:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   /* enqueue the new structure to the front of the list */
 304:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   ipr->next = reassdatagrams;
 305:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   reassdatagrams = ipr;
 306:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   /* copy the ip header for later tests and input */
 307:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   /* @todo: no ip options supported? */
 308:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   SMEMCPY(&(ipr->iphdr), fraghdr, IP_HLEN);
 309:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   return ipr;
 310:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** }
 311:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 312:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** /**
 313:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * Dequeues a datagram from the datagram queue. Doesn't deallocate the pbufs.
 314:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * @param ipr points to the queue entry to dequeue
 315:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  */
 316:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** static void
 317:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** ip_reass_dequeue_datagram(struct ip_reassdata *ipr, struct ip_reassdata *prev)
 318:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** {
ARM GAS  /tmp/ccQWtNTq.s 			page 7


  26              		.loc 1 318 0
  27              		.cfi_startproc
  28              		@ args = 0, pretend = 0, frame = 0
  29              		@ frame_needed = 0, uses_anonymous_args = 0
  30              	.LVL0:
  31 0000 38B5     		push	{r3, r4, r5, lr}
  32              	.LCFI0:
  33              		.cfi_def_cfa_offset 16
  34              		.cfi_offset 3, -16
  35              		.cfi_offset 4, -12
  36              		.cfi_offset 5, -8
  37              		.cfi_offset 14, -4
  38 0002 0446     		mov	r4, r0
 319:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   /* dequeue the reass struct  */
 320:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   if (reassdatagrams == ipr) {
  39              		.loc 1 320 0
  40 0004 0C4B     		ldr	r3, .L8
  41 0006 1B68     		ldr	r3, [r3]
  42 0008 8342     		cmp	r3, r0
  43 000a 08D0     		beq	.L6
  44 000c 0D46     		mov	r5, r1
 321:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* it was the first in the list */
 322:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     reassdatagrams = ipr->next;
 323:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   } else {
 324:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* it wasn't the first, so it must have a valid 'prev' */
 325:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     LWIP_ASSERT("sanity check linked list", prev != NULL);
  45              		.loc 1 325 0
  46 000e 51B1     		cbz	r1, .L7
  47              	.LVL1:
  48              	.L4:
 326:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     prev->next = ipr->next;
  49              		.loc 1 326 0
  50 0010 2368     		ldr	r3, [r4]
  51 0012 2B60     		str	r3, [r5]
  52              	.LVL2:
  53              	.L3:
 327:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   }
 328:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 329:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   /* now we can free the ip_reassdata struct */
 330:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   memp_free(MEMP_REASSDATA, ipr);
  54              		.loc 1 330 0
  55 0014 2146     		mov	r1, r4
  56 0016 0420     		movs	r0, #4
  57 0018 FFF7FEFF 		bl	memp_free
  58              	.LVL3:
  59 001c 38BD     		pop	{r3, r4, r5, pc}
  60              	.LVL4:
  61              	.L6:
 322:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   } else {
  62              		.loc 1 322 0
  63 001e 0268     		ldr	r2, [r0]
  64 0020 054B     		ldr	r3, .L8
  65 0022 1A60     		str	r2, [r3]
  66 0024 F6E7     		b	.L3
  67              	.L7:
 325:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     prev->next = ipr->next;
  68              		.loc 1 325 0 discriminator 1
ARM GAS  /tmp/ccQWtNTq.s 			page 8


  69 0026 054B     		ldr	r3, .L8+4
  70 0028 40F24512 		movw	r2, #325
  71 002c 0449     		ldr	r1, .L8+8
  72              	.LVL5:
  73 002e 0548     		ldr	r0, .L8+12
  74              	.LVL6:
  75 0030 FFF7FEFF 		bl	printf
  76              	.LVL7:
  77 0034 ECE7     		b	.L4
  78              	.L9:
  79 0036 00BF     		.align	2
  80              	.L8:
  81 0038 00000000 		.word	.LANCHOR0
  82 003c 00000000 		.word	.LC0
  83 0040 38000000 		.word	.LC1
  84 0044 54000000 		.word	.LC2
  85              		.cfi_endproc
  86              	.LFE162:
  88              		.section	.text.ip_reass_free_complete_datagram,"ax",%progbits
  89              		.align	1
  90              		.syntax unified
  91              		.thumb
  92              		.thumb_func
  93              		.fpu fpv5-d16
  95              	ip_reass_free_complete_datagram:
  96              	.LFB159:
 165:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   u16_t pbufs_freed = 0;
  97              		.loc 1 165 0
  98              		.cfi_startproc
  99              		@ args = 0, pretend = 0, frame = 0
 100              		@ frame_needed = 0, uses_anonymous_args = 0
 101              	.LVL8:
 102 0000 2DE9F843 		push	{r3, r4, r5, r6, r7, r8, r9, lr}
 103              	.LCFI1:
 104              		.cfi_def_cfa_offset 32
 105              		.cfi_offset 3, -32
 106              		.cfi_offset 4, -28
 107              		.cfi_offset 5, -24
 108              		.cfi_offset 6, -20
 109              		.cfi_offset 7, -16
 110              		.cfi_offset 8, -12
 111              		.cfi_offset 9, -8
 112              		.cfi_offset 14, -4
 113 0004 8046     		mov	r8, r0
 114 0006 8946     		mov	r9, r1
 115              	.LVL9:
 171:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   if (prev != NULL) {
 116              		.loc 1 171 0
 117 0008 8142     		cmp	r1, r0
 118 000a 15D0     		beq	.L21
 119              	.LVL10:
 120              	.L11:
 172:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     LWIP_ASSERT("prev->next == ipr", prev->next == ipr);
 121              		.loc 1 172 0
 122 000c B9F1000F 		cmp	r9, #0
 123 0010 09D0     		beq	.L12
 173:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   }
ARM GAS  /tmp/ccQWtNTq.s 			page 9


 124              		.loc 1 173 0
 125 0012 D9F80030 		ldr	r3, [r9]
 126 0016 9845     		cmp	r8, r3
 127 0018 05D0     		beq	.L12
 173:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   }
 128              		.loc 1 173 0 is_stmt 0 discriminator 1
 129 001a 354B     		ldr	r3, .L26
 130 001c AD22     		movs	r2, #173
 131 001e 3549     		ldr	r1, .L26+4
 132 0020 3548     		ldr	r0, .L26+8
 133 0022 FFF7FEFF 		bl	printf
 134              	.LVL11:
 135              	.L12:
 178:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   if (iprh->start == 0) {
 136              		.loc 1 178 0 is_stmt 1
 137 0026 D8F80440 		ldr	r4, [r8, #4]
 138 002a 6368     		ldr	r3, [r4, #4]
 139              	.LVL12:
 179:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* The first fragment was received, send ICMP time exceeded. */
 140              		.loc 1 179 0
 141 002c 9A88     		ldrh	r2, [r3, #4]	@ unaligned
 142 002e 52B1     		cbz	r2, .L22
 166:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   u16_t clen;
 143              		.loc 1 166 0
 144 0030 0026     		movs	r6, #0
 145              	.LVL13:
 146              	.L13:
 196:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   while (p != NULL) {
 147              		.loc 1 196 0
 148 0032 D8F80440 		ldr	r4, [r8, #4]
 149              	.LVL14:
 197:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     struct pbuf *pcur;
 150              		.loc 1 197 0
 151 0036 32E0     		b	.L15
 152              	.LVL15:
 153              	.L21:
 171:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   if (prev != NULL) {
 154              		.loc 1 171 0 discriminator 1
 155 0038 2D4B     		ldr	r3, .L26
 156 003a AB22     		movs	r2, #171
 157 003c 2F49     		ldr	r1, .L26+12
 158              	.LVL16:
 159 003e 2E48     		ldr	r0, .L26+8
 160              	.LVL17:
 161 0040 FFF7FEFF 		bl	printf
 162              	.LVL18:
 163 0044 E2E7     		b	.L11
 164              	.LVL19:
 165              	.L22:
 183:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* Then, copy the original header into it. */
 166              		.loc 1 183 0
 167 0046 1B68     		ldr	r3, [r3]	@ unaligned
 168              	.LVL20:
 169 0048 C8F80430 		str	r3, [r8, #4]
 170              	.LVL21:
 185:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     icmp_time_exceeded(p, ICMP_TE_FRAG);
 171              		.loc 1 185 0
ARM GAS  /tmp/ccQWtNTq.s 			page 10


 172 004c 4346     		mov	r3, r8
 173 004e 6268     		ldr	r2, [r4, #4]
 174 0050 53F8081F 		ldr	r1, [r3, #8]!	@ unaligned
 175 0054 5E68     		ldr	r6, [r3, #4]	@ unaligned
 176 0056 9D68     		ldr	r5, [r3, #8]	@ unaligned
 177 0058 D868     		ldr	r0, [r3, #12]	@ unaligned
 178 005a 1160     		str	r1, [r2]	@ unaligned
 179 005c 5660     		str	r6, [r2, #4]	@ unaligned
 180 005e 9560     		str	r5, [r2, #8]	@ unaligned
 181 0060 D060     		str	r0, [r2, #12]	@ unaligned
 182 0062 1969     		ldr	r1, [r3, #16]	@ unaligned
 183 0064 1161     		str	r1, [r2, #16]	@ unaligned
 186:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     clen = pbuf_clen(p);
 184              		.loc 1 186 0
 185 0066 0121     		movs	r1, #1
 186 0068 2046     		mov	r0, r4
 187 006a FFF7FEFF 		bl	icmp_time_exceeded
 188              	.LVL22:
 187:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     LWIP_ASSERT("pbufs_freed + clen <= 0xffff", pbufs_freed + clen <= 0xffff);
 189              		.loc 1 187 0
 190 006e 2046     		mov	r0, r4
 191 0070 FFF7FEFF 		bl	pbuf_clen
 192              	.LVL23:
 193 0074 0646     		mov	r6, r0
 194              	.LVL24:
 188:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     pbufs_freed += clen;
 195              		.loc 1 188 0
 196 0076 B0F5803F 		cmp	r0, #65536
 197 007a 03DA     		bge	.L23
 198              	.LVL25:
 199              	.L14:
 190:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   }
 200              		.loc 1 190 0
 201 007c 2046     		mov	r0, r4
 202 007e FFF7FEFF 		bl	pbuf_free
 203              	.LVL26:
 204 0082 D6E7     		b	.L13
 205              	.LVL27:
 206              	.L23:
 188:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     pbufs_freed += clen;
 207              		.loc 1 188 0 discriminator 1
 208 0084 1A4B     		ldr	r3, .L26
 209 0086 BC22     		movs	r2, #188
 210 0088 1D49     		ldr	r1, .L26+16
 211 008a 1B48     		ldr	r0, .L26+8
 212              	.LVL28:
 213 008c FFF7FEFF 		bl	printf
 214              	.LVL29:
 215 0090 F4E7     		b	.L14
 216              	.LVL30:
 217              	.L16:
 218              	.LBB2:
 205:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     pbuf_free(pcur);
 219              		.loc 1 205 0
 220 0092 3544     		add	r5, r5, r6
 221 0094 AEB2     		uxth	r6, r5
 222              	.LVL31:
ARM GAS  /tmp/ccQWtNTq.s 			page 11


 206:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   }
 223              		.loc 1 206 0
 224 0096 2046     		mov	r0, r4
 225 0098 FFF7FEFF 		bl	pbuf_free
 226              	.LVL32:
 202:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     clen = pbuf_clen(pcur);
 227              		.loc 1 202 0
 228 009c 3C46     		mov	r4, r7
 229              	.LVL33:
 230              	.L15:
 231              	.LBE2:
 197:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     struct pbuf *pcur;
 232              		.loc 1 197 0
 233 009e 84B1     		cbz	r4, .L24
 234              	.LBB3:
 199:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     pcur = p;
 235              		.loc 1 199 0
 236 00a0 6368     		ldr	r3, [r4, #4]
 237              	.LVL34:
 202:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     clen = pbuf_clen(pcur);
 238              		.loc 1 202 0
 239 00a2 1F68     		ldr	r7, [r3]	@ unaligned
 240              	.LVL35:
 203:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     LWIP_ASSERT("pbufs_freed + clen <= 0xffff", pbufs_freed + clen <= 0xffff);
 241              		.loc 1 203 0
 242 00a4 2046     		mov	r0, r4
 243 00a6 FFF7FEFF 		bl	pbuf_clen
 244              	.LVL36:
 245 00aa 0546     		mov	r5, r0
 246              	.LVL37:
 204:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     pbufs_freed += clen;
 247              		.loc 1 204 0
 248 00ac 3318     		adds	r3, r6, r0
 249 00ae B3F5803F 		cmp	r3, #65536
 250 00b2 EEDB     		blt	.L16
 204:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     pbufs_freed += clen;
 251              		.loc 1 204 0 is_stmt 0 discriminator 1
 252 00b4 0E4B     		ldr	r3, .L26
 253 00b6 CC22     		movs	r2, #204
 254 00b8 1149     		ldr	r1, .L26+16
 255 00ba 0F48     		ldr	r0, .L26+8
 256              	.LVL38:
 257 00bc FFF7FEFF 		bl	printf
 258              	.LVL39:
 259 00c0 E7E7     		b	.L16
 260              	.LVL40:
 261              	.L24:
 262              	.LBE3:
 209:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   LWIP_ASSERT("ip_reass_pbufcount >= clen", ip_reass_pbufcount >= pbufs_freed);
 263              		.loc 1 209 0 is_stmt 1
 264 00c2 4946     		mov	r1, r9
 265 00c4 4046     		mov	r0, r8
 266 00c6 FFF7FEFF 		bl	ip_reass_dequeue_datagram
 267              	.LVL41:
 210:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   ip_reass_pbufcount -= pbufs_freed;
 268              		.loc 1 210 0
 269 00ca 0E4B     		ldr	r3, .L26+20
ARM GAS  /tmp/ccQWtNTq.s 			page 12


 270 00cc 1B88     		ldrh	r3, [r3]
 271 00ce 9E42     		cmp	r6, r3
 272 00d0 06D8     		bhi	.L25
 273              	.L18:
 211:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 274              		.loc 1 211 0
 275 00d2 0C4A     		ldr	r2, .L26+20
 276 00d4 1388     		ldrh	r3, [r2]
 277 00d6 9B1B     		subs	r3, r3, r6
 278 00d8 1380     		strh	r3, [r2]	@ movhi
 214:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 279              		.loc 1 214 0
 280 00da 3046     		mov	r0, r6
 281 00dc BDE8F883 		pop	{r3, r4, r5, r6, r7, r8, r9, pc}
 282              	.LVL42:
 283              	.L25:
 210:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   ip_reass_pbufcount -= pbufs_freed;
 284              		.loc 1 210 0 discriminator 1
 285 00e0 034B     		ldr	r3, .L26
 286 00e2 D222     		movs	r2, #210
 287 00e4 0849     		ldr	r1, .L26+24
 288 00e6 0448     		ldr	r0, .L26+8
 289 00e8 FFF7FEFF 		bl	printf
 290              	.LVL43:
 291 00ec F1E7     		b	.L18
 292              	.L27:
 293 00ee 00BF     		.align	2
 294              	.L26:
 295 00f0 00000000 		.word	.LC0
 296 00f4 0C000000 		.word	.LC4
 297 00f8 54000000 		.word	.LC2
 298 00fc 00000000 		.word	.LC3
 299 0100 20000000 		.word	.LC5
 300 0104 00000000 		.word	.LANCHOR1
 301 0108 40000000 		.word	.LC6
 302              		.cfi_endproc
 303              	.LFE159:
 305              		.section	.text.ip_reass_remove_oldest_datagram,"ax",%progbits
 306              		.align	1
 307              		.syntax unified
 308              		.thumb
 309              		.thumb_func
 310              		.fpu fpv5-d16
 312              	ip_reass_remove_oldest_datagram:
 313              	.LFB160:
 228:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   /* @todo Can't we simply remove the last datagram in the
 314              		.loc 1 228 0
 315              		.cfi_startproc
 316              		@ args = 0, pretend = 0, frame = 0
 317              		@ frame_needed = 0, uses_anonymous_args = 0
 318              	.LVL44:
 319 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 320              	.LCFI2:
 321              		.cfi_def_cfa_offset 24
 322              		.cfi_offset 4, -24
 323              		.cfi_offset 5, -20
 324              		.cfi_offset 6, -16
ARM GAS  /tmp/ccQWtNTq.s 			page 13


 325              		.cfi_offset 7, -12
 326              		.cfi_offset 8, -8
 327              		.cfi_offset 14, -4
 328 0004 0546     		mov	r5, r0
 329 0006 8846     		mov	r8, r1
 330              	.LVL45:
 233:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   int other_datagrams;
 331              		.loc 1 233 0
 332 0008 0026     		movs	r6, #0
 333 000a 2EE0     		b	.L35
 334              	.LVL46:
 335              	.L41:
 245:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         /* Not the same datagram as fraghdr */
 336              		.loc 1 245 0 discriminator 1
 337 000c 9A69     		ldr	r2, [r3, #24]
 338 000e D5F810C0 		ldr	ip, [r5, #16]	@ unaligned
 339 0012 6245     		cmp	r2, ip
 340 0014 10D1     		bne	.L30
 245:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         /* Not the same datagram as fraghdr */
 341              		.loc 1 245 0 is_stmt 0 discriminator 2
 342 0016 B3F80CC0 		ldrh	ip, [r3, #12]
 343 001a AA88     		ldrh	r2, [r5, #4]	@ unaligned
 344 001c 9445     		cmp	ip, r2
 345 001e 0BD1     		bne	.L30
 346 0020 01E0     		b	.L31
 347              	.L36:
 250:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         } else if (r->timer <= oldest->timer) {
 348              		.loc 1 250 0 is_stmt 1
 349 0022 7146     		mov	r1, lr
 350              	.LVL47:
 249:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****           oldest_prev = prev;
 351              		.loc 1 249 0
 352 0024 1846     		mov	r0, r3
 353              	.LVL48:
 354              	.L31:
 257:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         prev = r;
 355              		.loc 1 257 0
 356 0026 1A68     		ldr	r2, [r3]
 357 0028 8AB1     		cbz	r2, .L39
 358              	.LVL49:
 359              	.L32:
 360 002a 9E46     		mov	lr, r3
 361              	.LVL50:
 362 002c 1346     		mov	r3, r2
 363              	.LVL51:
 364              	.L29:
 244:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       if (!IP_ADDRESSES_AND_ID_MATCH(&r->iphdr, fraghdr)) {
 365              		.loc 1 244 0
 366 002e 83B1     		cbz	r3, .L40
 245:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         /* Not the same datagram as fraghdr */
 367              		.loc 1 245 0
 368 0030 EA68     		ldr	r2, [r5, #12]	@ unaligned
 369 0032 5F69     		ldr	r7, [r3, #20]
 370 0034 9742     		cmp	r7, r2
 371 0036 E9D0     		beq	.L41
 372              	.L30:
 247:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         if (oldest == NULL) {
ARM GAS  /tmp/ccQWtNTq.s 			page 14


 373              		.loc 1 247 0
 374 0038 0134     		adds	r4, r4, #1
 375              	.LVL52:
 248:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****           oldest = r;
 376              		.loc 1 248 0
 377 003a 0028     		cmp	r0, #0
 378 003c F1D0     		beq	.L36
 251:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****           /* older than the previous oldest */
 379              		.loc 1 251 0
 380 003e 93F81FC0 		ldrb	ip, [r3, #31]	@ zero_extendqisi2
 381 0042 C27F     		ldrb	r2, [r0, #31]	@ zero_extendqisi2
 382 0044 9445     		cmp	ip, r2
 383 0046 EED8     		bhi	.L31
 254:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         }
 384              		.loc 1 254 0
 385 0048 7146     		mov	r1, lr
 386              	.LVL53:
 253:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****           oldest_prev = prev;
 387              		.loc 1 253 0
 388 004a 1846     		mov	r0, r3
 389              	.LVL54:
 390 004c EBE7     		b	.L31
 391              	.LVL55:
 392              	.L39:
 257:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         prev = r;
 393              		.loc 1 257 0
 394 004e 7346     		mov	r3, lr
 395              	.LVL56:
 396 0050 EBE7     		b	.L32
 397              	.LVL57:
 398              	.L40:
 262:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       pbufs_freed_current = ip_reass_free_complete_datagram(oldest, oldest_prev);
 399              		.loc 1 262 0
 400 0052 10B1     		cbz	r0, .L34
 263:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       pbufs_freed += pbufs_freed_current;
 401              		.loc 1 263 0
 402 0054 FFF7FEFF 		bl	ip_reass_free_complete_datagram
 403              	.LVL58:
 264:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     }
 404              		.loc 1 264 0
 405 0058 0644     		add	r6, r6, r0
 406              	.LVL59:
 407              	.L34:
 266:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   return pbufs_freed;
 408              		.loc 1 266 0
 409 005a 4645     		cmp	r6, r8
 410 005c ACBF     		ite	ge
 411 005e 0023     		movge	r3, #0
 412 0060 0123     		movlt	r3, #1
 413 0062 012C     		cmp	r4, #1
 414 0064 D8BF     		it	le
 415 0066 0023     		movle	r3, #0
 416 0068 33B1     		cbz	r3, .L42
 417              	.LVL60:
 418              	.L35:
 243:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     while (r != NULL) {
 419              		.loc 1 243 0
ARM GAS  /tmp/ccQWtNTq.s 			page 15


 420 006a 054B     		ldr	r3, .L43
 421 006c 1B68     		ldr	r3, [r3]
 422              	.LVL61:
 242:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     r = reassdatagrams;
 423              		.loc 1 242 0
 424 006e 0024     		movs	r4, #0
 241:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     other_datagrams = 0;
 425              		.loc 1 241 0
 426 0070 2146     		mov	r1, r4
 240:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     oldest_prev = NULL;
 427              		.loc 1 240 0
 428 0072 A646     		mov	lr, r4
 239:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     prev = NULL;
 429              		.loc 1 239 0
 430 0074 2046     		mov	r0, r4
 244:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       if (!IP_ADDRESSES_AND_ID_MATCH(&r->iphdr, fraghdr)) {
 431              		.loc 1 244 0
 432 0076 DAE7     		b	.L29
 433              	.LVL62:
 434              	.L42:
 268:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #endif /* IP_REASS_FREE_OLDEST */
 435              		.loc 1 268 0
 436 0078 3046     		mov	r0, r6
 437 007a BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 438              	.LVL63:
 439              	.L44:
 440 007e 00BF     		.align	2
 441              	.L43:
 442 0080 00000000 		.word	.LANCHOR0
 443              		.cfi_endproc
 444              	.LFE160:
 446              		.section	.text.ip_frag_free_pbuf_custom_ref,"ax",%progbits
 447              		.align	1
 448              		.syntax unified
 449              		.thumb
 450              		.thumb_func
 451              		.fpu fpv5-d16
 453              	ip_frag_free_pbuf_custom_ref:
 454              	.LFB166:
 331:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** }
 332:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 333:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** /**
 334:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * Chain a new pbuf into the pbuf list that composes the datagram.  The pbuf list
 335:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * will grow over time as  new pbufs are rx.
 336:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * Also checks that the datagram passes basic continuity checks (if the last
 337:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * fragment was received at least once).
 338:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * @param ipr points to the reassembly state
 339:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * @param new_p points to the pbuf for the current fragment
 340:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * @param is_last is 1 if this pbuf has MF==0 (ipr->flags not updated yet)
 341:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * @return see IP_REASS_VALIDATE_* defines
 342:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  */
 343:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** static int
 344:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** ip_reass_chain_frag_into_datagram_and_validate(struct ip_reassdata *ipr, struct pbuf *new_p, int is
 345:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** {
 346:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   struct ip_reass_helper *iprh, *iprh_tmp, *iprh_prev=NULL;
 347:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   struct pbuf *q;
 348:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   u16_t offset, len;
ARM GAS  /tmp/ccQWtNTq.s 			page 16


 349:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   struct ip_hdr *fraghdr;
 350:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   int valid = 1;
 351:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 352:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   /* Extract length and fragment offset from current fragment */
 353:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   fraghdr = (struct ip_hdr*)new_p->payload;
 354:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   len = lwip_ntohs(IPH_LEN(fraghdr)) - IPH_HL(fraghdr) * 4;
 355:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   offset = (lwip_ntohs(IPH_OFFSET(fraghdr)) & IP_OFFMASK) * 8;
 356:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 357:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   /* overwrite the fragment's ip header from the pbuf with our helper struct,
 358:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****    * and setup the embedded helper structure. */
 359:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   /* make sure the struct ip_reass_helper fits into the IP header */
 360:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   LWIP_ASSERT("sizeof(struct ip_reass_helper) <= IP_HLEN",
 361:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****               sizeof(struct ip_reass_helper) <= IP_HLEN);
 362:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   iprh = (struct ip_reass_helper*)new_p->payload;
 363:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   iprh->next_pbuf = NULL;
 364:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   iprh->start = offset;
 365:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   iprh->end = offset + len;
 366:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 367:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   /* Iterate through until we either get to the end of the list (append),
 368:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****    * or we find one with a larger offset (insert). */
 369:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   for (q = ipr->p; q != NULL;) {
 370:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     iprh_tmp = (struct ip_reass_helper*)q->payload;
 371:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     if (iprh->start < iprh_tmp->start) {
 372:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       /* the new pbuf should be inserted before this */
 373:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       iprh->next_pbuf = q;
 374:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       if (iprh_prev != NULL) {
 375:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         /* not the fragment with the lowest offset */
 376:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #if IP_REASS_CHECK_OVERLAP
 377:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         if ((iprh->start < iprh_prev->end) || (iprh->end > iprh_tmp->start)) {
 378:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****           /* fragment overlaps with previous or following, throw away */
 379:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****           goto freepbuf;
 380:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         }
 381:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #endif /* IP_REASS_CHECK_OVERLAP */
 382:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         iprh_prev->next_pbuf = new_p;
 383:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         if (iprh_prev->end != iprh->start) {
 384:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****           /* There is a fragment missing between the current
 385:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****            * and the previous fragment */
 386:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****           valid = 0;
 387:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         }
 388:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       } else {
 389:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #if IP_REASS_CHECK_OVERLAP
 390:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         if (iprh->end > iprh_tmp->start) {
 391:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****           /* fragment overlaps with following, throw away */
 392:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****           goto freepbuf;
 393:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         }
 394:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #endif /* IP_REASS_CHECK_OVERLAP */
 395:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         /* fragment with the lowest offset */
 396:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         ipr->p = new_p;
 397:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       }
 398:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       break;
 399:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     } else if (iprh->start == iprh_tmp->start) {
 400:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       /* received the same datagram twice: no need to keep the datagram */
 401:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       goto freepbuf;
 402:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #if IP_REASS_CHECK_OVERLAP
 403:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     } else if (iprh->start < iprh_tmp->end) {
 404:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       /* overlap: no need to keep the new datagram */
 405:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       goto freepbuf;
ARM GAS  /tmp/ccQWtNTq.s 			page 17


 406:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #endif /* IP_REASS_CHECK_OVERLAP */
 407:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     } else {
 408:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       /* Check if the fragments received so far have no holes. */
 409:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       if (iprh_prev != NULL) {
 410:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         if (iprh_prev->end != iprh_tmp->start) {
 411:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****           /* There is a fragment missing between the current
 412:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****            * and the previous fragment */
 413:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****           valid = 0;
 414:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         }
 415:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       }
 416:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     }
 417:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     q = iprh_tmp->next_pbuf;
 418:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     iprh_prev = iprh_tmp;
 419:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   }
 420:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 421:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   /* If q is NULL, then we made it to the end of the list. Determine what to do now */
 422:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   if (q == NULL) {
 423:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     if (iprh_prev != NULL) {
 424:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       /* this is (for now), the fragment with the highest offset:
 425:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****        * chain it to the last fragment */
 426:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #if IP_REASS_CHECK_OVERLAP
 427:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       LWIP_ASSERT("check fragments don't overlap", iprh_prev->end <= iprh->start);
 428:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #endif /* IP_REASS_CHECK_OVERLAP */
 429:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       iprh_prev->next_pbuf = new_p;
 430:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       if (iprh_prev->end != iprh->start) {
 431:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         valid = 0;
 432:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       }
 433:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     } else {
 434:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #if IP_REASS_CHECK_OVERLAP
 435:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       LWIP_ASSERT("no previous fragment, this must be the first fragment!",
 436:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         ipr->p == NULL);
 437:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #endif /* IP_REASS_CHECK_OVERLAP */
 438:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       /* this is the first fragment we ever received for this ip datagram */
 439:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       ipr->p = new_p;
 440:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     }
 441:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   }
 442:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 443:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   /* At this point, the validation part begins: */
 444:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   /* If we already received the last fragment */
 445:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   if (is_last || ((ipr->flags & IP_REASS_FLAG_LASTFRAG) != 0)) {
 446:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* and had no holes so far */
 447:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     if (valid) {
 448:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       /* then check if the rest of the fragments is here */
 449:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       /* Check if the queue starts with the first datagram */
 450:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       if ((ipr->p == NULL) || (((struct ip_reass_helper*)ipr->p->payload)->start != 0)) {
 451:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         valid = 0;
 452:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       } else {
 453:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         /* and check that there are no holes after this datagram */
 454:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         iprh_prev = iprh;
 455:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         q = iprh->next_pbuf;
 456:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         while (q != NULL) {
 457:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****           iprh = (struct ip_reass_helper*)q->payload;
 458:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****           if (iprh_prev->end != iprh->start) {
 459:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****             valid = 0;
 460:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****             break;
 461:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****           }
 462:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****           iprh_prev = iprh;
ARM GAS  /tmp/ccQWtNTq.s 			page 18


 463:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****           q = iprh->next_pbuf;
 464:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         }
 465:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         /* if still valid, all fragments are received
 466:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****          * (because to the MF==0 already arrived */
 467:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         if (valid) {
 468:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****           LWIP_ASSERT("sanity check", ipr->p != NULL);
 469:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****           LWIP_ASSERT("sanity check",
 470:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****             ((struct ip_reass_helper*)ipr->p->payload) != iprh);
 471:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****           LWIP_ASSERT("validate_datagram:next_pbuf!=NULL",
 472:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****             iprh->next_pbuf == NULL);
 473:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         }
 474:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       }
 475:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     }
 476:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* If valid is 0 here, there are some fragments missing in the middle
 477:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****      * (since MF == 0 has already arrived). Such datagrams simply time out if
 478:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****      * no more fragments are received... */
 479:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     return valid ? IP_REASS_VALIDATE_TELEGRAM_FINISHED : IP_REASS_VALIDATE_PBUF_QUEUED;
 480:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   }
 481:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   /* If we come here, not all fragments were received, yet! */
 482:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   return IP_REASS_VALIDATE_PBUF_QUEUED; /* not yet valid! */
 483:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #if IP_REASS_CHECK_OVERLAP
 484:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** freepbuf:
 485:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   ip_reass_pbufcount -= pbuf_clen(new_p);
 486:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   pbuf_free(new_p);
 487:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   return IP_REASS_VALIDATE_PBUF_DROPPED;
 488:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #endif /* IP_REASS_CHECK_OVERLAP */
 489:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** }
 490:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 491:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** /**
 492:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * Reassembles incoming IP fragments into an IP datagram.
 493:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  *
 494:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * @param p points to a pbuf chain of the fragment
 495:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * @return NULL if reassembly is incomplete, ? otherwise
 496:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  */
 497:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** struct pbuf *
 498:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** ip4_reass(struct pbuf *p)
 499:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** {
 500:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   struct pbuf *r;
 501:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   struct ip_hdr *fraghdr;
 502:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   struct ip_reassdata *ipr;
 503:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   struct ip_reass_helper *iprh;
 504:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   u16_t offset, len, clen;
 505:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   int valid;
 506:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   int is_last;
 507:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 508:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   IPFRAG_STATS_INC(ip_frag.recv);
 509:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   MIB2_STATS_INC(mib2.ipreasmreqds);
 510:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 511:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   fraghdr = (struct ip_hdr*)p->payload;
 512:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 513:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   if ((IPH_HL(fraghdr) * 4) != IP_HLEN) {
 514:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     LWIP_DEBUGF(IP_REASS_DEBUG,("ip4_reass: IP options currently not supported!\n"));
 515:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     IPFRAG_STATS_INC(ip_frag.err);
 516:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     goto nullreturn;
 517:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   }
 518:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 519:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   offset = (lwip_ntohs(IPH_OFFSET(fraghdr)) & IP_OFFMASK) * 8;
ARM GAS  /tmp/ccQWtNTq.s 			page 19


 520:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   len = lwip_ntohs(IPH_LEN(fraghdr)) - IPH_HL(fraghdr) * 4;
 521:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 522:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   /* Check if we are allowed to enqueue more datagrams. */
 523:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   clen = pbuf_clen(p);
 524:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   if ((ip_reass_pbufcount + clen) > IP_REASS_MAX_PBUFS) {
 525:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #if IP_REASS_FREE_OLDEST
 526:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     if (!ip_reass_remove_oldest_datagram(fraghdr, clen) ||
 527:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         ((ip_reass_pbufcount + clen) > IP_REASS_MAX_PBUFS))
 528:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #endif /* IP_REASS_FREE_OLDEST */
 529:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     {
 530:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       /* No datagram could be freed and still too many pbufs enqueued */
 531:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       LWIP_DEBUGF(IP_REASS_DEBUG,("ip4_reass: Overflow condition: pbufct=%d, clen=%d, MAX=%d\n",
 532:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         ip_reass_pbufcount, clen, IP_REASS_MAX_PBUFS));
 533:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       IPFRAG_STATS_INC(ip_frag.memerr);
 534:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       /* @todo: send ICMP time exceeded here? */
 535:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       /* drop this pbuf */
 536:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       goto nullreturn;
 537:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     }
 538:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   }
 539:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 540:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   /* Look for the datagram the fragment belongs to in the current datagram queue,
 541:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****    * remembering the previous in the queue for later dequeueing. */
 542:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   for (ipr = reassdatagrams; ipr != NULL; ipr = ipr->next) {
 543:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* Check if the incoming fragment matches the one currently present
 544:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****        in the reassembly buffer. If so, we proceed with copying the
 545:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****        fragment into the buffer. */
 546:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     if (IP_ADDRESSES_AND_ID_MATCH(&ipr->iphdr, fraghdr)) {
 547:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       LWIP_DEBUGF(IP_REASS_DEBUG, ("ip4_reass: matching previous fragment ID=%"X16_F"\n",
 548:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         lwip_ntohs(IPH_ID(fraghdr))));
 549:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       IPFRAG_STATS_INC(ip_frag.cachehit);
 550:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       break;
 551:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     }
 552:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   }
 553:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 554:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   if (ipr == NULL) {
 555:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   /* Enqueue a new datagram into the datagram queue */
 556:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     ipr = ip_reass_enqueue_new_datagram(fraghdr, clen);
 557:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* Bail if unable to enqueue */
 558:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     if (ipr == NULL) {
 559:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       goto nullreturn;
 560:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     }
 561:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   } else {
 562:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     if (((lwip_ntohs(IPH_OFFSET(fraghdr)) & IP_OFFMASK) == 0) &&
 563:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       ((lwip_ntohs(IPH_OFFSET(&ipr->iphdr)) & IP_OFFMASK) != 0)) {
 564:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       /* ipr->iphdr is not the header from the first fragment, but fraghdr is
 565:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****        * -> copy fraghdr into ipr->iphdr since we want to have the header
 566:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****        * of the first fragment (for ICMP time exceeded and later, for copying
 567:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****        * all options, if supported)*/
 568:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       SMEMCPY(&ipr->iphdr, fraghdr, IP_HLEN);
 569:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     }
 570:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   }
 571:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 572:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   /* At this point, we have either created a new entry or pointing
 573:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****    * to an existing one */
 574:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 575:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   /* check for 'no more fragments', and update queue entry*/
 576:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   is_last = (IPH_OFFSET(fraghdr) & PP_NTOHS(IP_MF)) == 0;
ARM GAS  /tmp/ccQWtNTq.s 			page 20


 577:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   if (is_last) {
 578:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     u16_t datagram_len = (u16_t)(offset + len);
 579:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     if ((datagram_len < offset) || (datagram_len > (0xFFFF - IP_HLEN))) {
 580:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       /* u16_t overflow, cannot handle this */
 581:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       goto nullreturn;
 582:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     }
 583:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   }
 584:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   /* find the right place to insert this pbuf */
 585:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   /* @todo: trim pbufs if fragments are overlapping */
 586:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   valid = ip_reass_chain_frag_into_datagram_and_validate(ipr, p, is_last);
 587:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   if (valid == IP_REASS_VALIDATE_PBUF_DROPPED) {
 588:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     goto nullreturn;
 589:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   }
 590:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   /* if we come here, the pbuf has been enqueued */
 591:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 592:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   /* Track the current number of pbufs current 'in-flight', in order to limit
 593:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****      the number of fragments that may be enqueued at any one time
 594:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****      (overflow checked by testing against IP_REASS_MAX_PBUFS) */
 595:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   ip_reass_pbufcount = (u16_t)(ip_reass_pbufcount + clen);
 596:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   if (is_last) {
 597:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     u16_t datagram_len = (u16_t)(offset + len);
 598:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     ipr->datagram_len = datagram_len;
 599:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     ipr->flags |= IP_REASS_FLAG_LASTFRAG;
 600:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     LWIP_DEBUGF(IP_REASS_DEBUG,
 601:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****      ("ip4_reass: last fragment seen, total len %"S16_F"\n",
 602:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       ipr->datagram_len));
 603:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   }
 604:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 605:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   if (valid == IP_REASS_VALIDATE_TELEGRAM_FINISHED) {
 606:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     struct ip_reassdata *ipr_prev;
 607:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* the totally last fragment (flag more fragments = 0) was received at least
 608:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****      * once AND all fragments are received */
 609:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     ipr->datagram_len += IP_HLEN;
 610:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 611:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* save the second pbuf before copying the header over the pointer */
 612:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     r = ((struct ip_reass_helper*)ipr->p->payload)->next_pbuf;
 613:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 614:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* copy the original ip header back to the first pbuf */
 615:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     fraghdr = (struct ip_hdr*)(ipr->p->payload);
 616:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     SMEMCPY(fraghdr, &ipr->iphdr, IP_HLEN);
 617:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     IPH_LEN_SET(fraghdr, lwip_htons(ipr->datagram_len));
 618:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     IPH_OFFSET_SET(fraghdr, 0);
 619:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     IPH_CHKSUM_SET(fraghdr, 0);
 620:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* @todo: do we need to set/calculate the correct checksum? */
 621:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #if CHECKSUM_GEN_IP
 622:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     IF__NETIF_CHECKSUM_ENABLED(ip_current_input_netif(), NETIF_CHECKSUM_GEN_IP) {
 623:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       IPH_CHKSUM_SET(fraghdr, inet_chksum(fraghdr, IP_HLEN));
 624:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     }
 625:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #endif /* CHECKSUM_GEN_IP */
 626:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 627:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     p = ipr->p;
 628:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 629:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* chain together the pbufs contained within the reass_data list. */
 630:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     while (r != NULL) {
 631:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       iprh = (struct ip_reass_helper*)r->payload;
 632:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 633:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       /* hide the ip header for every succeeding fragment */
ARM GAS  /tmp/ccQWtNTq.s 			page 21


 634:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       pbuf_header(r, -IP_HLEN);
 635:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       pbuf_cat(p, r);
 636:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       r = iprh->next_pbuf;
 637:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     }
 638:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 639:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* find the previous entry in the linked list */
 640:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     if (ipr == reassdatagrams) {
 641:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       ipr_prev = NULL;
 642:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     } else {
 643:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       for (ipr_prev = reassdatagrams; ipr_prev != NULL; ipr_prev = ipr_prev->next) {
 644:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         if (ipr_prev->next == ipr) {
 645:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****           break;
 646:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         }
 647:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       }
 648:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     }
 649:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 650:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* release the sources allocate for the fragment queue entry */
 651:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     ip_reass_dequeue_datagram(ipr, ipr_prev);
 652:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 653:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* and adjust the number of pbufs currently queued for reassembly. */
 654:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     ip_reass_pbufcount -= pbuf_clen(p);
 655:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 656:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     MIB2_STATS_INC(mib2.ipreasmoks);
 657:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 658:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* Return the pbuf chain */
 659:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     return p;
 660:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   }
 661:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   /* the datagram is not (yet?) reassembled completely */
 662:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   LWIP_DEBUGF(IP_REASS_DEBUG,("ip_reass_pbufcount: %d out\n", ip_reass_pbufcount));
 663:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   return NULL;
 664:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 665:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** nullreturn:
 666:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   LWIP_DEBUGF(IP_REASS_DEBUG,("ip4_reass: nullreturn\n"));
 667:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   IPFRAG_STATS_INC(ip_frag.drop);
 668:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   pbuf_free(p);
 669:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   return NULL;
 670:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** }
 671:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #endif /* IP_REASSEMBLY */
 672:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 673:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #if IP_FRAG
 674:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #if !LWIP_NETIF_TX_SINGLE_PBUF
 675:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** /** Allocate a new struct pbuf_custom_ref */
 676:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** static struct pbuf_custom_ref*
 677:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** ip_frag_alloc_pbuf_custom_ref(void)
 678:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** {
 679:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   return (struct pbuf_custom_ref*)memp_malloc(MEMP_FRAG_PBUF);
 680:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** }
 681:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 682:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** /** Free a struct pbuf_custom_ref */
 683:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** static void
 684:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** ip_frag_free_pbuf_custom_ref(struct pbuf_custom_ref* p)
 685:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** {
 455              		.loc 1 685 0
 456              		.cfi_startproc
 457              		@ args = 0, pretend = 0, frame = 0
 458              		@ frame_needed = 0, uses_anonymous_args = 0
 459              	.LVL64:
ARM GAS  /tmp/ccQWtNTq.s 			page 22


 460 0000 10B5     		push	{r4, lr}
 461              	.LCFI3:
 462              		.cfi_def_cfa_offset 8
 463              		.cfi_offset 4, -8
 464              		.cfi_offset 14, -4
 686:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   LWIP_ASSERT("p != NULL", p != NULL);
 465              		.loc 1 686 0
 466 0002 0446     		mov	r4, r0
 467 0004 20B1     		cbz	r0, .L48
 468              	.LVL65:
 469              	.L46:
 687:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   memp_free(MEMP_FRAG_PBUF, p);
 470              		.loc 1 687 0
 471 0006 2146     		mov	r1, r4
 472 0008 0520     		movs	r0, #5
 473 000a FFF7FEFF 		bl	memp_free
 474              	.LVL66:
 475 000e 10BD     		pop	{r4, pc}
 476              	.LVL67:
 477              	.L48:
 686:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   LWIP_ASSERT("p != NULL", p != NULL);
 478              		.loc 1 686 0 discriminator 1
 479 0010 034B     		ldr	r3, .L49
 480 0012 40F2AE22 		movw	r2, #686
 481 0016 0349     		ldr	r1, .L49+4
 482 0018 0348     		ldr	r0, .L49+8
 483              	.LVL68:
 484 001a FFF7FEFF 		bl	printf
 485              	.LVL69:
 486 001e F2E7     		b	.L46
 487              	.L50:
 488              		.align	2
 489              	.L49:
 490 0020 00000000 		.word	.LC0
 491 0024 00000000 		.word	.LC7
 492 0028 54000000 		.word	.LC2
 493              		.cfi_endproc
 494              	.LFE166:
 496              		.section	.text.ipfrag_free_pbuf_custom,"ax",%progbits
 497              		.align	1
 498              		.syntax unified
 499              		.thumb
 500              		.thumb_func
 501              		.fpu fpv5-d16
 503              	ipfrag_free_pbuf_custom:
 504              	.LFB167:
 688:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** }
 689:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 690:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** /** Free-callback function to free a 'struct pbuf_custom_ref', called by
 691:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * pbuf_free. */
 692:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** static void
 693:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** ipfrag_free_pbuf_custom(struct pbuf *p)
 694:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** {
 505              		.loc 1 694 0
 506              		.cfi_startproc
 507              		@ args = 0, pretend = 0, frame = 0
 508              		@ frame_needed = 0, uses_anonymous_args = 0
ARM GAS  /tmp/ccQWtNTq.s 			page 23


 509              	.LVL70:
 510 0000 10B5     		push	{r4, lr}
 511              	.LCFI4:
 512              		.cfi_def_cfa_offset 8
 513              		.cfi_offset 4, -8
 514              		.cfi_offset 14, -4
 515              	.LVL71:
 695:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   struct pbuf_custom_ref *pcr = (struct pbuf_custom_ref*)p;
 696:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   LWIP_ASSERT("pcr != NULL", pcr != NULL);
 516              		.loc 1 696 0
 517 0002 0446     		mov	r4, r0
 518 0004 38B1     		cbz	r0, .L55
 519              	.LVL72:
 520              	.L52:
 697:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   LWIP_ASSERT("pcr == p", (void*)pcr == (void*)p);
 698:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   if (pcr->original != NULL) {
 521              		.loc 1 698 0
 522 0006 6069     		ldr	r0, [r4, #20]
 523 0008 08B1     		cbz	r0, .L53
 699:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     pbuf_free(pcr->original);
 524              		.loc 1 699 0
 525 000a FFF7FEFF 		bl	pbuf_free
 526              	.LVL73:
 527              	.L53:
 700:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   }
 701:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   ip_frag_free_pbuf_custom_ref(pcr);
 528              		.loc 1 701 0
 529 000e 2046     		mov	r0, r4
 530 0010 FFF7FEFF 		bl	ip_frag_free_pbuf_custom_ref
 531              	.LVL74:
 532 0014 10BD     		pop	{r4, pc}
 533              	.LVL75:
 534              	.L55:
 696:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   LWIP_ASSERT("pcr == p", (void*)pcr == (void*)p);
 535              		.loc 1 696 0 discriminator 1
 536 0016 044B     		ldr	r3, .L56
 537 0018 4FF42E72 		mov	r2, #696
 538 001c 0349     		ldr	r1, .L56+4
 539 001e 0448     		ldr	r0, .L56+8
 540              	.LVL76:
 541 0020 FFF7FEFF 		bl	printf
 542              	.LVL77:
 543 0024 EFE7     		b	.L52
 544              	.L57:
 545 0026 00BF     		.align	2
 546              	.L56:
 547 0028 00000000 		.word	.LC0
 548 002c 00000000 		.word	.LC8
 549 0030 54000000 		.word	.LC2
 550              		.cfi_endproc
 551              	.LFE167:
 553              		.section	.text.ip_reass_chain_frag_into_datagram_and_validate,"ax",%progbits
 554              		.align	1
 555              		.syntax unified
 556              		.thumb
 557              		.thumb_func
 558              		.fpu fpv5-d16
ARM GAS  /tmp/ccQWtNTq.s 			page 24


 560              	ip_reass_chain_frag_into_datagram_and_validate:
 561              	.LFB163:
 345:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   struct ip_reass_helper *iprh, *iprh_tmp, *iprh_prev=NULL;
 562              		.loc 1 345 0
 563              		.cfi_startproc
 564              		@ args = 0, pretend = 0, frame = 0
 565              		@ frame_needed = 0, uses_anonymous_args = 0
 566              	.LVL78:
 567 0000 2DE9F843 		push	{r3, r4, r5, r6, r7, r8, r9, lr}
 568              	.LCFI5:
 569              		.cfi_def_cfa_offset 32
 570              		.cfi_offset 3, -32
 571              		.cfi_offset 4, -28
 572              		.cfi_offset 5, -24
 573              		.cfi_offset 6, -20
 574              		.cfi_offset 7, -16
 575              		.cfi_offset 8, -12
 576              		.cfi_offset 9, -8
 577              		.cfi_offset 14, -4
 578 0004 8046     		mov	r8, r0
 579 0006 0F46     		mov	r7, r1
 580 0008 9146     		mov	r9, r2
 581              	.LVL79:
 353:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   len = lwip_ntohs(IPH_LEN(fraghdr)) - IPH_HL(fraghdr) * 4;
 582              		.loc 1 353 0
 583 000a 4C68     		ldr	r4, [r1, #4]
 584              	.LVL80:
 354:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   offset = (lwip_ntohs(IPH_OFFSET(fraghdr)) & IP_OFFMASK) * 8;
 585              		.loc 1 354 0
 586 000c 6088     		ldrh	r0, [r4, #2]	@ unaligned
 587              	.LVL81:
 588 000e FFF7FEFF 		bl	lwip_htons
 589              	.LVL82:
 590 0012 2678     		ldrb	r6, [r4]	@ zero_extendqisi2
 591 0014 06F00F06 		and	r6, r6, #15
 592 0018 A0EB8606 		sub	r6, r0, r6, lsl #2
 593 001c B6B2     		uxth	r6, r6
 594              	.LVL83:
 355:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 595              		.loc 1 355 0
 596 001e E088     		ldrh	r0, [r4, #6]	@ unaligned
 597 0020 FFF7FEFF 		bl	lwip_htons
 598              	.LVL84:
 599 0024 C0F30C00 		ubfx	r0, r0, #0, #13
 600 0028 C000     		lsls	r0, r0, #3
 601              	.LVL85:
 362:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   iprh->next_pbuf = NULL;
 602              		.loc 1 362 0
 603 002a 7D68     		ldr	r5, [r7, #4]
 604              	.LVL86:
 363:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   iprh->start = offset;
 605              		.loc 1 363 0
 606 002c 0024     		movs	r4, #0
 607              	.LVL87:
 608 002e 2C70     		strb	r4, [r5]
 609 0030 6C70     		strb	r4, [r5, #1]
 610 0032 AC70     		strb	r4, [r5, #2]
ARM GAS  /tmp/ccQWtNTq.s 			page 25


 611 0034 EC70     		strb	r4, [r5, #3]
 364:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   iprh->end = offset + len;
 612              		.loc 1 364 0
 613 0036 A880     		strh	r0, [r5, #4]	@ unaligned
 365:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 614              		.loc 1 365 0
 615 0038 06EB000E 		add	lr, r6, r0
 616 003c 1FFA8EFE 		uxth	lr, lr
 617 0040 A5F806E0 		strh	lr, [r5, #6]	@ unaligned
 369:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     iprh_tmp = (struct ip_reass_helper*)q->payload;
 618              		.loc 1 369 0
 619 0044 D8F80410 		ldr	r1, [r8, #4]
 620              	.LVL88:
 350:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 621              		.loc 1 350 0
 622 0048 0126     		movs	r6, #1
 623              	.LVL89:
 369:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     iprh_tmp = (struct ip_reass_helper*)q->payload;
 624              		.loc 1 369 0
 625 004a 33E0     		b	.L59
 626              	.LVL90:
 627              	.L86:
 373:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       if (iprh_prev != NULL) {
 628              		.loc 1 373 0
 629 004c 2960     		str	r1, [r5]	@ unaligned
 374:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         /* not the fragment with the lowest offset */
 630              		.loc 1 374 0
 631 004e 4CB3     		cbz	r4, .L61
 377:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****           /* fragment overlaps with previous or following, throw away */
 632              		.loc 1 377 0
 633 0050 E288     		ldrh	r2, [r4, #6]	@ unaligned
 634 0052 9042     		cmp	r0, r2
 635 0054 7ED3     		bcc	.L62
 377:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****           /* fragment overlaps with previous or following, throw away */
 636              		.loc 1 377 0 is_stmt 0 discriminator 1
 637 0056 9B88     		ldrh	r3, [r3, #4]	@ unaligned
 638              	.LVL91:
 639 0058 9E45     		cmp	lr, r3
 640 005a 7BD8     		bhi	.L62
 382:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         if (iprh_prev->end != iprh->start) {
 641              		.loc 1 382 0 is_stmt 1
 642 005c 2760     		str	r7, [r4]	@ unaligned
 383:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****           /* There is a fragment missing between the current
 643              		.loc 1 383 0
 644 005e AB88     		ldrh	r3, [r5, #4]	@ unaligned
 645 0060 9A42     		cmp	r2, r3
 646 0062 00D0     		beq	.L63
 386:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         }
 647              		.loc 1 386 0
 648 0064 0026     		movs	r6, #0
 649              	.LVL92:
 650              	.L63:
 422:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     if (iprh_prev != NULL) {
 651              		.loc 1 422 0
 652 0066 0029     		cmp	r1, #0
 653 0068 36D0     		beq	.L85
 654              	.LVL93:
ARM GAS  /tmp/ccQWtNTq.s 			page 26


 655              	.L66:
 445:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* and had no holes so far */
 656              		.loc 1 445 0
 657 006a B9F1000F 		cmp	r9, #0
 658 006e 04D1     		bne	.L70
 445:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* and had no holes so far */
 659              		.loc 1 445 0 is_stmt 0 discriminator 1
 660 0070 98F81E30 		ldrb	r3, [r8, #30]	@ zero_extendqisi2
 661 0074 13F0010F 		tst	r3, #1
 662 0078 7AD0     		beq	.L80
 663              	.L70:
 447:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       /* then check if the rest of the fragments is here */
 664              		.loc 1 447 0 is_stmt 1
 665 007a 002E     		cmp	r6, #0
 666 007c 67D0     		beq	.L72
 450:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         valid = 0;
 667              		.loc 1 450 0
 668 007e D8F80430 		ldr	r3, [r8, #4]
 669 0082 002B     		cmp	r3, #0
 670 0084 60D0     		beq	.L81
 450:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         valid = 0;
 671              		.loc 1 450 0 is_stmt 0 discriminator 1
 672 0086 5868     		ldr	r0, [r3, #4]
 673 0088 8388     		ldrh	r3, [r0, #4]	@ unaligned
 674 008a 002B     		cmp	r3, #0
 675 008c 5ED1     		bne	.L82
 676              	.LVL94:
 455:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         while (q != NULL) {
 677              		.loc 1 455 0 is_stmt 1
 678 008e 2A68     		ldr	r2, [r5]	@ unaligned
 679              	.LVL95:
 680              	.L73:
 456:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****           iprh = (struct ip_reass_helper*)q->payload;
 681              		.loc 1 456 0
 682 0090 002A     		cmp	r2, #0
 683 0092 44D0     		beq	.L74
 457:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****           if (iprh_prev->end != iprh->start) {
 684              		.loc 1 457 0
 685 0094 5368     		ldr	r3, [r2, #4]
 686              	.LVL96:
 458:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****             valid = 0;
 687              		.loc 1 458 0
 688 0096 E988     		ldrh	r1, [r5, #6]	@ unaligned
 689 0098 9A88     		ldrh	r2, [r3, #4]	@ unaligned
 690              	.LVL97:
 691 009a 9142     		cmp	r1, r2
 692 009c 3DD1     		bne	.L83
 693              	.LVL98:
 463:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         }
 694              		.loc 1 463 0
 695 009e 1A68     		ldr	r2, [r3]	@ unaligned
 696              	.LVL99:
 457:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****           if (iprh_prev->end != iprh->start) {
 697              		.loc 1 457 0
 698 00a0 1D46     		mov	r5, r3
 699 00a2 F5E7     		b	.L73
 700              	.LVL100:
ARM GAS  /tmp/ccQWtNTq.s 			page 27


 701              	.L61:
 390:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****           /* fragment overlaps with following, throw away */
 702              		.loc 1 390 0
 703 00a4 9B88     		ldrh	r3, [r3, #4]	@ unaligned
 704              	.LVL101:
 705 00a6 9E45     		cmp	lr, r3
 706 00a8 54D8     		bhi	.L62
 396:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       }
 707              		.loc 1 396 0
 708 00aa C8F80470 		str	r7, [r8, #4]
 709 00ae DAE7     		b	.L63
 710              	.LVL102:
 711              	.L64:
 417:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     iprh_prev = iprh_tmp;
 712              		.loc 1 417 0
 713 00b0 1968     		ldr	r1, [r3]	@ unaligned
 714              	.LVL103:
 418:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   }
 715              		.loc 1 418 0
 716 00b2 1C46     		mov	r4, r3
 717              	.LVL104:
 718              	.L59:
 369:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     iprh_tmp = (struct ip_reass_helper*)q->payload;
 719              		.loc 1 369 0 discriminator 1
 720 00b4 0029     		cmp	r1, #0
 721 00b6 D6D0     		beq	.L63
 370:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     if (iprh->start < iprh_tmp->start) {
 722              		.loc 1 370 0
 723 00b8 4B68     		ldr	r3, [r1, #4]
 724              	.LVL105:
 371:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       /* the new pbuf should be inserted before this */
 725              		.loc 1 371 0
 726 00ba 9A88     		ldrh	r2, [r3, #4]	@ unaligned
 727 00bc 9042     		cmp	r0, r2
 728 00be C5D3     		bcc	.L86
 399:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       /* received the same datagram twice: no need to keep the datagram */
 729              		.loc 1 399 0
 730 00c0 9042     		cmp	r0, r2
 731 00c2 47D0     		beq	.L62
 403:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       /* overlap: no need to keep the new datagram */
 732              		.loc 1 403 0
 733 00c4 D988     		ldrh	r1, [r3, #6]	@ unaligned
 734              	.LVL106:
 735 00c6 8842     		cmp	r0, r1
 736 00c8 44D3     		bcc	.L62
 409:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         if (iprh_prev->end != iprh_tmp->start) {
 737              		.loc 1 409 0
 738 00ca 002C     		cmp	r4, #0
 739 00cc F0D0     		beq	.L64
 410:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****           /* There is a fragment missing between the current
 740              		.loc 1 410 0
 741 00ce E188     		ldrh	r1, [r4, #6]	@ unaligned
 742 00d0 8A42     		cmp	r2, r1
 743 00d2 EDD0     		beq	.L64
 413:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         }
 744              		.loc 1 413 0
 745 00d4 0026     		movs	r6, #0
ARM GAS  /tmp/ccQWtNTq.s 			page 28


 746              	.LVL107:
 747 00d6 EBE7     		b	.L64
 748              	.LVL108:
 749              	.L85:
 423:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       /* this is (for now), the fragment with the highest offset:
 750              		.loc 1 423 0
 751 00d8 94B1     		cbz	r4, .L67
 427:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #endif /* IP_REASS_CHECK_OVERLAP */
 752              		.loc 1 427 0
 753 00da E288     		ldrh	r2, [r4, #6]	@ unaligned
 754 00dc AB88     		ldrh	r3, [r5, #4]	@ unaligned
 755 00de 9A42     		cmp	r2, r3
 756 00e0 06D8     		bhi	.L87
 757              	.LVL109:
 758              	.L68:
 429:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       if (iprh_prev->end != iprh->start) {
 759              		.loc 1 429 0
 760 00e2 2760     		str	r7, [r4]	@ unaligned
 430:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         valid = 0;
 761              		.loc 1 430 0
 762 00e4 E288     		ldrh	r2, [r4, #6]	@ unaligned
 763 00e6 AB88     		ldrh	r3, [r5, #4]	@ unaligned
 764 00e8 9A42     		cmp	r2, r3
 765 00ea BED0     		beq	.L66
 431:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       }
 766              		.loc 1 431 0
 767 00ec 0026     		movs	r6, #0
 768              	.LVL110:
 769 00ee BCE7     		b	.L66
 770              	.LVL111:
 771              	.L87:
 427:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #endif /* IP_REASS_CHECK_OVERLAP */
 772              		.loc 1 427 0 discriminator 1
 773 00f0 214B     		ldr	r3, .L89
 774 00f2 40F2AB12 		movw	r2, #427
 775 00f6 2149     		ldr	r1, .L89+4
 776              	.LVL112:
 777 00f8 2148     		ldr	r0, .L89+8
 778              	.LVL113:
 779 00fa FFF7FEFF 		bl	printf
 780              	.LVL114:
 781 00fe F0E7     		b	.L68
 782              	.LVL115:
 783              	.L67:
 435:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         ipr->p == NULL);
 784              		.loc 1 435 0
 785 0100 D8F80430 		ldr	r3, [r8, #4]
 786 0104 33B1     		cbz	r3, .L69
 435:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         ipr->p == NULL);
 787              		.loc 1 435 0 is_stmt 0 discriminator 1
 788 0106 1C4B     		ldr	r3, .L89
 789 0108 4FF4DA72 		mov	r2, #436
 790 010c 1D49     		ldr	r1, .L89+12
 791              	.LVL116:
 792 010e 1C48     		ldr	r0, .L89+8
 793              	.LVL117:
 794 0110 FFF7FEFF 		bl	printf
ARM GAS  /tmp/ccQWtNTq.s 			page 29


 795              	.LVL118:
 796              	.L69:
 439:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     }
 797              		.loc 1 439 0 is_stmt 1
 798 0114 C8F80470 		str	r7, [r8, #4]
 799 0118 A7E7     		b	.L66
 800              	.LVL119:
 801              	.L83:
 457:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****           if (iprh_prev->end != iprh->start) {
 802              		.loc 1 457 0
 803 011a 1D46     		mov	r5, r3
 804              	.LVL120:
 459:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****             break;
 805              		.loc 1 459 0
 806 011c 0026     		movs	r6, #0
 807              	.LVL121:
 808              	.L74:
 467:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****           LWIP_ASSERT("sanity check", ipr->p != NULL);
 809              		.loc 1 467 0
 810 011e B6B1     		cbz	r6, .L72
 469:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****             ((struct ip_reass_helper*)ipr->p->payload) != iprh);
 811              		.loc 1 469 0
 812 0120 8542     		cmp	r5, r0
 813 0122 09D0     		beq	.L88
 814              	.L76:
 471:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****             iprh->next_pbuf == NULL);
 815              		.loc 1 471 0
 816 0124 2B68     		ldr	r3, [r5]	@ unaligned
 817 0126 93B1     		cbz	r3, .L72
 471:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****             iprh->next_pbuf == NULL);
 818              		.loc 1 471 0 is_stmt 0 discriminator 1
 819 0128 134B     		ldr	r3, .L89
 820 012a 4FF4EC72 		mov	r2, #472
 821 012e 1649     		ldr	r1, .L89+16
 822 0130 1348     		ldr	r0, .L89+8
 823 0132 FFF7FEFF 		bl	printf
 824              	.LVL122:
 825 0136 0AE0     		b	.L72
 826              	.L88:
 469:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****             ((struct ip_reass_helper*)ipr->p->payload) != iprh);
 827              		.loc 1 469 0 is_stmt 1 discriminator 1
 828 0138 0F4B     		ldr	r3, .L89
 829 013a 4FF4EB72 		mov	r2, #470
 830 013e 1349     		ldr	r1, .L89+20
 831 0140 0F48     		ldr	r0, .L89+8
 832 0142 FFF7FEFF 		bl	printf
 833              	.LVL123:
 834 0146 EDE7     		b	.L76
 835              	.LVL124:
 836              	.L81:
 451:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       } else {
 837              		.loc 1 451 0
 838 0148 0026     		movs	r6, #0
 839              	.LVL125:
 840 014a 00E0     		b	.L72
 841              	.LVL126:
 842              	.L82:
ARM GAS  /tmp/ccQWtNTq.s 			page 30


 843 014c 0026     		movs	r6, #0
 844              	.LVL127:
 845              	.L72:
 479:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   }
 846              		.loc 1 479 0
 847 014e 3046     		mov	r0, r6
 848 0150 BDE8F883 		pop	{r3, r4, r5, r6, r7, r8, r9, pc}
 849              	.LVL128:
 850              	.L62:
 485:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   pbuf_free(new_p);
 851              		.loc 1 485 0
 852 0154 3846     		mov	r0, r7
 853              	.LVL129:
 854 0156 FFF7FEFF 		bl	pbuf_clen
 855              	.LVL130:
 856 015a 0D4A     		ldr	r2, .L89+24
 857 015c 1388     		ldrh	r3, [r2]
 858 015e 181A     		subs	r0, r3, r0
 859 0160 1080     		strh	r0, [r2]	@ movhi
 486:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   return IP_REASS_VALIDATE_PBUF_DROPPED;
 860              		.loc 1 486 0
 861 0162 3846     		mov	r0, r7
 862 0164 FFF7FEFF 		bl	pbuf_free
 863              	.LVL131:
 487:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #endif /* IP_REASS_CHECK_OVERLAP */
 864              		.loc 1 487 0
 865 0168 4FF0FF30 		mov	r0, #-1
 866 016c BDE8F883 		pop	{r3, r4, r5, r6, r7, r8, r9, pc}
 867              	.LVL132:
 868              	.L80:
 482:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #if IP_REASS_CHECK_OVERLAP
 869              		.loc 1 482 0
 870 0170 4846     		mov	r0, r9
 489:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 871              		.loc 1 489 0
 872 0172 BDE8F883 		pop	{r3, r4, r5, r6, r7, r8, r9, pc}
 873              	.LVL133:
 874              	.L90:
 875 0176 00BF     		.align	2
 876              	.L89:
 877 0178 00000000 		.word	.LC0
 878 017c 00000000 		.word	.LC9
 879 0180 54000000 		.word	.LC2
 880 0184 20000000 		.word	.LC10
 881 0188 68000000 		.word	.LC12
 882 018c 58000000 		.word	.LC11
 883 0190 00000000 		.word	.LANCHOR1
 884              		.cfi_endproc
 885              	.LFE163:
 887              		.section	.text.ip_frag_alloc_pbuf_custom_ref,"ax",%progbits
 888              		.align	1
 889              		.syntax unified
 890              		.thumb
 891              		.thumb_func
 892              		.fpu fpv5-d16
 894              	ip_frag_alloc_pbuf_custom_ref:
 895              	.LFB165:
ARM GAS  /tmp/ccQWtNTq.s 			page 31


 678:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   return (struct pbuf_custom_ref*)memp_malloc(MEMP_FRAG_PBUF);
 896              		.loc 1 678 0
 897              		.cfi_startproc
 898              		@ args = 0, pretend = 0, frame = 0
 899              		@ frame_needed = 0, uses_anonymous_args = 0
 900 0000 08B5     		push	{r3, lr}
 901              	.LCFI6:
 902              		.cfi_def_cfa_offset 8
 903              		.cfi_offset 3, -8
 904              		.cfi_offset 14, -4
 679:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** }
 905              		.loc 1 679 0
 906 0002 0520     		movs	r0, #5
 907 0004 FFF7FEFF 		bl	memp_malloc
 908              	.LVL134:
 680:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 909              		.loc 1 680 0
 910 0008 08BD     		pop	{r3, pc}
 911              		.cfi_endproc
 912              	.LFE165:
 914              		.section	.text.ip_reass_enqueue_new_datagram,"ax",%progbits
 915              		.align	1
 916              		.syntax unified
 917              		.thumb
 918              		.thumb_func
 919              		.fpu fpv5-d16
 921              	ip_reass_enqueue_new_datagram:
 922              	.LFB161:
 279:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   struct ip_reassdata* ipr;
 923              		.loc 1 279 0
 924              		.cfi_startproc
 925              		@ args = 0, pretend = 0, frame = 0
 926              		@ frame_needed = 0, uses_anonymous_args = 0
 927              	.LVL135:
 928 0000 70B5     		push	{r4, r5, r6, lr}
 929              	.LCFI7:
 930              		.cfi_def_cfa_offset 16
 931              		.cfi_offset 4, -16
 932              		.cfi_offset 5, -12
 933              		.cfi_offset 6, -8
 934              		.cfi_offset 14, -4
 935 0002 0546     		mov	r5, r0
 936 0004 0E46     		mov	r6, r1
 286:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   if (ipr == NULL) {
 937              		.loc 1 286 0
 938 0006 0420     		movs	r0, #4
 939              	.LVL136:
 940 0008 FFF7FEFF 		bl	memp_malloc
 941              	.LVL137:
 287:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #if IP_REASS_FREE_OLDEST
 942              		.loc 1 287 0
 943 000c 0446     		mov	r4, r0
 944 000e B0B1     		cbz	r0, .L98
 945              	.LVL138:
 946              	.L94:
 300:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   ipr->timer = IP_REASS_MAXAGE;
 947              		.loc 1 300 0
ARM GAS  /tmp/ccQWtNTq.s 			page 32


 948 0010 2022     		movs	r2, #32
 949 0012 0021     		movs	r1, #0
 950 0014 2046     		mov	r0, r4
 951 0016 FFF7FEFF 		bl	memset
 952              	.LVL139:
 301:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 953              		.loc 1 301 0
 954 001a 0323     		movs	r3, #3
 955 001c E377     		strb	r3, [r4, #31]
 304:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   reassdatagrams = ipr;
 956              		.loc 1 304 0
 957 001e 0F4B     		ldr	r3, .L100
 958 0020 1A68     		ldr	r2, [r3]
 959 0022 2260     		str	r2, [r4]
 305:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   /* copy the ip header for later tests and input */
 960              		.loc 1 305 0
 961 0024 1C60     		str	r4, [r3]
 308:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   return ipr;
 962              		.loc 1 308 0
 963 0026 2A68     		ldr	r2, [r5]	@ unaligned
 964 0028 6E68     		ldr	r6, [r5, #4]	@ unaligned
 965              	.LVL140:
 966 002a A868     		ldr	r0, [r5, #8]	@ unaligned
 967 002c E968     		ldr	r1, [r5, #12]	@ unaligned
 968 002e A260     		str	r2, [r4, #8]	@ unaligned
 969 0030 E660     		str	r6, [r4, #12]	@ unaligned
 970 0032 2061     		str	r0, [r4, #16]	@ unaligned
 971 0034 6161     		str	r1, [r4, #20]	@ unaligned
 972 0036 2A69     		ldr	r2, [r5, #16]	@ unaligned
 973 0038 A261     		str	r2, [r4, #24]	@ unaligned
 974              	.L93:
 310:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 975              		.loc 1 310 0
 976 003a 2046     		mov	r0, r4
 977 003c 70BD     		pop	{r4, r5, r6, pc}
 978              	.LVL141:
 979              	.L98:
 289:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       ipr = (struct ip_reassdata *)memp_malloc(MEMP_REASSDATA);
 980              		.loc 1 289 0
 981 003e 3146     		mov	r1, r6
 982 0040 2846     		mov	r0, r5
 983              	.LVL142:
 984 0042 FFF7FEFF 		bl	ip_reass_remove_oldest_datagram
 985              	.LVL143:
 986 0046 8642     		cmp	r6, r0
 987 0048 02DD     		ble	.L99
 988              	.L95:
 292:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #endif /* IP_REASS_FREE_OLDEST */
 989              		.loc 1 292 0
 990 004a 002C     		cmp	r4, #0
 991 004c E0D1     		bne	.L94
 992 004e F4E7     		b	.L93
 993              	.L99:
 290:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     }
 994              		.loc 1 290 0
 995 0050 0420     		movs	r0, #4
 996 0052 FFF7FEFF 		bl	memp_malloc
ARM GAS  /tmp/ccQWtNTq.s 			page 33


 997              	.LVL144:
 998 0056 0446     		mov	r4, r0
 999              	.LVL145:
 1000 0058 F7E7     		b	.L95
 1001              	.L101:
 1002 005a 00BF     		.align	2
 1003              	.L100:
 1004 005c 00000000 		.word	.LANCHOR0
 1005              		.cfi_endproc
 1006              	.LFE161:
 1008              		.section	.text.ip_reass_tmr,"ax",%progbits
 1009              		.align	1
 1010              		.global	ip_reass_tmr
 1011              		.syntax unified
 1012              		.thumb
 1013              		.thumb_func
 1014              		.fpu fpv5-d16
 1016              	ip_reass_tmr:
 1017              	.LFB158:
 129:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   struct ip_reassdata *r, *prev = NULL;
 1018              		.loc 1 129 0
 1019              		.cfi_startproc
 1020              		@ args = 0, pretend = 0, frame = 0
 1021              		@ frame_needed = 0, uses_anonymous_args = 0
 1022 0000 38B5     		push	{r3, r4, r5, lr}
 1023              	.LCFI8:
 1024              		.cfi_def_cfa_offset 16
 1025              		.cfi_offset 3, -16
 1026              		.cfi_offset 4, -12
 1027              		.cfi_offset 5, -8
 1028              		.cfi_offset 14, -4
 1029              	.LVL146:
 132:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   while (r != NULL) {
 1030              		.loc 1 132 0
 1031 0002 094B     		ldr	r3, .L109
 1032 0004 1868     		ldr	r0, [r3]
 1033              	.LVL147:
 130:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 1034              		.loc 1 130 0
 1035 0006 0024     		movs	r4, #0
 133:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* Decrement the timer. Once it reaches 0,
 1036              		.loc 1 133 0
 1037 0008 04E0     		b	.L103
 1038              	.LVL148:
 1039              	.L104:
 1040              	.LBB4:
 147:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       /* free the helper struct and all enqueued pbufs */
 1041              		.loc 1 147 0
 1042 000a 0568     		ldr	r5, [r0]
 1043              	.LVL149:
 149:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****      }
 1044              		.loc 1 149 0
 1045 000c 2146     		mov	r1, r4
 1046 000e FFF7FEFF 		bl	ip_reass_free_complete_datagram
 1047              	.LVL150:
 147:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       /* free the helper struct and all enqueued pbufs */
 1048              		.loc 1 147 0
ARM GAS  /tmp/ccQWtNTq.s 			page 34


 1049 0012 2846     		mov	r0, r5
 1050              	.LVL151:
 1051              	.L103:
 1052              	.LBE4:
 133:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* Decrement the timer. Once it reaches 0,
 1053              		.loc 1 133 0
 1054 0014 38B1     		cbz	r0, .L108
 136:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       r->timer--;
 1055              		.loc 1 136 0
 1056 0016 C37F     		ldrb	r3, [r0, #31]	@ zero_extendqisi2
 1057 0018 002B     		cmp	r3, #0
 1058 001a F6D0     		beq	.L104
 137:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       LWIP_DEBUGF(IP_REASS_DEBUG, ("ip_reass_tmr: timer dec %"U16_F"\n",(u16_t)r->timer));
 1059              		.loc 1 137 0
 1060 001c 013B     		subs	r3, r3, #1
 1061 001e C377     		strb	r3, [r0, #31]
 1062              	.LVL152:
 139:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       r = r->next;
 1063              		.loc 1 139 0
 1064 0020 0446     		mov	r4, r0
 140:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     } else {
 1065              		.loc 1 140 0
 1066 0022 0068     		ldr	r0, [r0]
 1067              	.LVL153:
 1068 0024 F6E7     		b	.L103
 1069              	.L108:
 152:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 1070              		.loc 1 152 0
 1071 0026 38BD     		pop	{r3, r4, r5, pc}
 1072              	.LVL154:
 1073              	.L110:
 1074              		.align	2
 1075              	.L109:
 1076 0028 00000000 		.word	.LANCHOR0
 1077              		.cfi_endproc
 1078              	.LFE158:
 1080              		.section	.text.ip4_reass,"ax",%progbits
 1081              		.align	1
 1082              		.global	ip4_reass
 1083              		.syntax unified
 1084              		.thumb
 1085              		.thumb_func
 1086              		.fpu fpv5-d16
 1088              	ip4_reass:
 1089              	.LFB164:
 499:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   struct pbuf *r;
 1090              		.loc 1 499 0
 1091              		.cfi_startproc
 1092              		@ args = 0, pretend = 0, frame = 0
 1093              		@ frame_needed = 0, uses_anonymous_args = 0
 1094              	.LVL155:
 1095 0000 2DE9F843 		push	{r3, r4, r5, r6, r7, r8, r9, lr}
 1096              	.LCFI9:
 1097              		.cfi_def_cfa_offset 32
 1098              		.cfi_offset 3, -32
 1099              		.cfi_offset 4, -28
 1100              		.cfi_offset 5, -24
ARM GAS  /tmp/ccQWtNTq.s 			page 35


 1101              		.cfi_offset 6, -20
 1102              		.cfi_offset 7, -16
 1103              		.cfi_offset 8, -12
 1104              		.cfi_offset 9, -8
 1105              		.cfi_offset 14, -4
 1106 0004 8146     		mov	r9, r0
 511:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 1107              		.loc 1 511 0
 1108 0006 4568     		ldr	r5, [r0, #4]
 1109              	.LVL156:
 513:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     LWIP_DEBUGF(IP_REASS_DEBUG,("ip4_reass: IP options currently not supported!\n"));
 1110              		.loc 1 513 0
 1111 0008 2B78     		ldrb	r3, [r5]	@ zero_extendqisi2
 1112 000a 03F00F03 		and	r3, r3, #15
 1113 000e 052B     		cmp	r3, #5
 1114 0010 24D1     		bne	.L112
 519:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   len = lwip_ntohs(IPH_LEN(fraghdr)) - IPH_HL(fraghdr) * 4;
 1115              		.loc 1 519 0
 1116 0012 E888     		ldrh	r0, [r5, #6]	@ unaligned
 1117              	.LVL157:
 1118 0014 FFF7FEFF 		bl	lwip_htons
 1119              	.LVL158:
 1120 0018 C0F30C00 		ubfx	r0, r0, #0, #13
 1121 001c C700     		lsls	r7, r0, #3
 1122              	.LVL159:
 520:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 1123              		.loc 1 520 0
 1124 001e 6888     		ldrh	r0, [r5, #2]	@ unaligned
 1125 0020 FFF7FEFF 		bl	lwip_htons
 1126              	.LVL160:
 1127 0024 2E78     		ldrb	r6, [r5]	@ zero_extendqisi2
 1128 0026 06F00F06 		and	r6, r6, #15
 1129 002a A0EB8606 		sub	r6, r0, r6, lsl #2
 1130 002e B6B2     		uxth	r6, r6
 1131              	.LVL161:
 523:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   if ((ip_reass_pbufcount + clen) > IP_REASS_MAX_PBUFS) {
 1132              		.loc 1 523 0
 1133 0030 4846     		mov	r0, r9
 1134 0032 FFF7FEFF 		bl	pbuf_clen
 1135              	.LVL162:
 1136 0036 8046     		mov	r8, r0
 1137              	.LVL163:
 524:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #if IP_REASS_FREE_OLDEST
 1138              		.loc 1 524 0
 1139 0038 594B     		ldr	r3, .L135
 1140 003a 1B88     		ldrh	r3, [r3]
 1141 003c 0344     		add	r3, r3, r0
 1142 003e 0A2B     		cmp	r3, #10
 1143 0040 02DC     		bgt	.L131
 1144              	.LVL164:
 1145              	.L113:
 542:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* Check if the incoming fragment matches the one currently present
 1146              		.loc 1 542 0
 1147 0042 584B     		ldr	r3, .L135+4
 1148 0044 1C68     		ldr	r4, [r3]
 1149              	.LVL165:
 1150 0046 0FE0     		b	.L114
ARM GAS  /tmp/ccQWtNTq.s 			page 36


 1151              	.LVL166:
 1152              	.L131:
 526:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         ((ip_reass_pbufcount + clen) > IP_REASS_MAX_PBUFS))
 1153              		.loc 1 526 0
 1154 0048 0146     		mov	r1, r0
 1155 004a 2846     		mov	r0, r5
 1156              	.LVL167:
 1157 004c FFF7FEFF 		bl	ip_reass_remove_oldest_datagram
 1158              	.LVL168:
 1159 0050 20B1     		cbz	r0, .L112
 527:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #endif /* IP_REASS_FREE_OLDEST */
 1160              		.loc 1 527 0 discriminator 1
 1161 0052 534B     		ldr	r3, .L135
 1162 0054 1B88     		ldrh	r3, [r3]
 1163 0056 4344     		add	r3, r3, r8
 526:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         ((ip_reass_pbufcount + clen) > IP_REASS_MAX_PBUFS))
 1164              		.loc 1 526 0 discriminator 1
 1165 0058 0A2B     		cmp	r3, #10
 1166 005a F2DD     		ble	.L113
 1167              	.LVL169:
 1168              	.L112:
 668:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   return NULL;
 1169              		.loc 1 668 0
 1170 005c 4846     		mov	r0, r9
 1171 005e FFF7FEFF 		bl	pbuf_free
 1172              	.LVL170:
 669:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** }
 1173              		.loc 1 669 0
 1174 0062 0027     		movs	r7, #0
 1175 0064 96E0     		b	.L111
 1176              	.LVL171:
 1177              	.L115:
 542:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* Check if the incoming fragment matches the one currently present
 1178              		.loc 1 542 0 discriminator 2
 1179 0066 2468     		ldr	r4, [r4]
 1180              	.LVL172:
 1181              	.L114:
 542:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* Check if the incoming fragment matches the one currently present
 1182              		.loc 1 542 0 is_stmt 0 discriminator 1
 1183 0068 5CB1     		cbz	r4, .L116
 546:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       LWIP_DEBUGF(IP_REASS_DEBUG, ("ip4_reass: matching previous fragment ID=%"X16_F"\n",
 1184              		.loc 1 546 0 is_stmt 1
 1185 006a 6269     		ldr	r2, [r4, #20]
 1186 006c EB68     		ldr	r3, [r5, #12]	@ unaligned
 1187 006e 9A42     		cmp	r2, r3
 1188 0070 F9D1     		bne	.L115
 546:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       LWIP_DEBUGF(IP_REASS_DEBUG, ("ip4_reass: matching previous fragment ID=%"X16_F"\n",
 1189              		.loc 1 546 0 is_stmt 0 discriminator 1
 1190 0072 A269     		ldr	r2, [r4, #24]
 1191 0074 2B69     		ldr	r3, [r5, #16]	@ unaligned
 1192 0076 9A42     		cmp	r2, r3
 1193 0078 F5D1     		bne	.L115
 546:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       LWIP_DEBUGF(IP_REASS_DEBUG, ("ip4_reass: matching previous fragment ID=%"X16_F"\n",
 1194              		.loc 1 546 0 discriminator 2
 1195 007a A289     		ldrh	r2, [r4, #12]
 1196 007c AB88     		ldrh	r3, [r5, #4]	@ unaligned
 1197 007e 9A42     		cmp	r2, r3
ARM GAS  /tmp/ccQWtNTq.s 			page 37


 1198 0080 F1D1     		bne	.L115
 1199              	.L116:
 554:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   /* Enqueue a new datagram into the datagram queue */
 1200              		.loc 1 554 0 is_stmt 1
 1201 0082 002C     		cmp	r4, #0
 1202 0084 48D0     		beq	.L132
 562:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       ((lwip_ntohs(IPH_OFFSET(&ipr->iphdr)) & IP_OFFMASK) != 0)) {
 1203              		.loc 1 562 0
 1204 0086 E888     		ldrh	r0, [r5, #6]	@ unaligned
 1205 0088 FFF7FEFF 		bl	lwip_htons
 1206              	.LVL173:
 1207 008c C0F30C00 		ubfx	r0, r0, #0, #13
 1208 0090 0028     		cmp	r0, #0
 1209 0092 49D0     		beq	.L133
 1210              	.L119:
 576:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   if (is_last) {
 1211              		.loc 1 576 0
 1212 0094 ED88     		ldrh	r5, [r5, #6]	@ unaligned
 1213              	.LVL174:
 1214 0096 05F02005 		and	r5, r5, #32
 1215 009a 002D     		cmp	r5, #0
 1216 009c 0CBF     		ite	eq
 1217 009e 0122     		moveq	r2, #1
 1218 00a0 0022     		movne	r2, #0
 1219              	.LVL175:
 577:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     u16_t datagram_len = (u16_t)(offset + len);
 1220              		.loc 1 577 0
 1221 00a2 07D1     		bne	.L120
 1222              	.LBB5:
 578:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     if ((datagram_len < offset) || (datagram_len > (0xFFFF - IP_HLEN))) {
 1223              		.loc 1 578 0
 1224 00a4 BB19     		adds	r3, r7, r6
 1225 00a6 9BB2     		uxth	r3, r3
 1226              	.LVL176:
 579:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       /* u16_t overflow, cannot handle this */
 1227              		.loc 1 579 0
 1228 00a8 4FF6EB71 		movw	r1, #65515
 1229 00ac 8B42     		cmp	r3, r1
 1230 00ae 98BF     		it	ls
 1231 00b0 9F42     		cmpls	r7, r3
 1232 00b2 D3D8     		bhi	.L112
 1233              	.LVL177:
 1234              	.L120:
 1235              	.LBE5:
 586:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   if (valid == IP_REASS_VALIDATE_PBUF_DROPPED) {
 1236              		.loc 1 586 0
 1237 00b4 4946     		mov	r1, r9
 1238 00b6 2046     		mov	r0, r4
 1239 00b8 FFF7FEFF 		bl	ip_reass_chain_frag_into_datagram_and_validate
 1240              	.LVL178:
 587:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     goto nullreturn;
 1241              		.loc 1 587 0
 1242 00bc B0F1FF3F 		cmp	r0, #-1
 1243 00c0 CCD0     		beq	.L112
 595:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   if (is_last) {
 1244              		.loc 1 595 0
 1245 00c2 374B     		ldr	r3, .L135
ARM GAS  /tmp/ccQWtNTq.s 			page 38


 1246 00c4 1A88     		ldrh	r2, [r3]
 1247 00c6 9044     		add	r8, r8, r2
 1248 00c8 A3F80080 		strh	r8, [r3]	@ movhi
 596:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     u16_t datagram_len = (u16_t)(offset + len);
 1249              		.loc 1 596 0
 1250 00cc 2DB9     		cbnz	r5, .L121
 1251              	.LBB6:
 597:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     ipr->datagram_len = datagram_len;
 1252              		.loc 1 597 0
 1253 00ce 3E44     		add	r6, r6, r7
 1254              	.LVL179:
 598:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     ipr->flags |= IP_REASS_FLAG_LASTFRAG;
 1255              		.loc 1 598 0
 1256 00d0 A683     		strh	r6, [r4, #28]	@ movhi
 599:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     LWIP_DEBUGF(IP_REASS_DEBUG,
 1257              		.loc 1 599 0
 1258 00d2 A37F     		ldrb	r3, [r4, #30]	@ zero_extendqisi2
 1259 00d4 43F00103 		orr	r3, r3, #1
 1260 00d8 A377     		strb	r3, [r4, #30]
 1261              	.LVL180:
 1262              	.L121:
 1263              	.LBE6:
 605:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     struct ip_reassdata *ipr_prev;
 1264              		.loc 1 605 0
 1265 00da 0128     		cmp	r0, #1
 1266 00dc 5DD1     		bne	.L128
 1267              	.LBB7:
 609:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 1268              		.loc 1 609 0
 1269 00de A38B     		ldrh	r3, [r4, #28]
 1270 00e0 1433     		adds	r3, r3, #20
 1271 00e2 A383     		strh	r3, [r4, #28]	@ movhi
 612:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 1272              		.loc 1 612 0
 1273 00e4 6368     		ldr	r3, [r4, #4]
 1274 00e6 5E68     		ldr	r6, [r3, #4]
 1275 00e8 3568     		ldr	r5, [r6]	@ unaligned
 1276              	.LVL181:
 616:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     IPH_LEN_SET(fraghdr, lwip_htons(ipr->datagram_len));
 1277              		.loc 1 616 0
 1278 00ea 2346     		mov	r3, r4
 1279 00ec 53F8082F 		ldr	r2, [r3, #8]!	@ unaligned
 1280 00f0 5F68     		ldr	r7, [r3, #4]	@ unaligned
 1281              	.LVL182:
 1282 00f2 9868     		ldr	r0, [r3, #8]	@ unaligned
 1283              	.LVL183:
 1284 00f4 D968     		ldr	r1, [r3, #12]	@ unaligned
 1285 00f6 3260     		str	r2, [r6]	@ unaligned
 1286 00f8 7760     		str	r7, [r6, #4]	@ unaligned
 1287 00fa B060     		str	r0, [r6, #8]	@ unaligned
 1288 00fc F160     		str	r1, [r6, #12]	@ unaligned
 1289 00fe 1A69     		ldr	r2, [r3, #16]	@ unaligned
 1290 0100 3261     		str	r2, [r6, #16]	@ unaligned
 617:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     IPH_OFFSET_SET(fraghdr, 0);
 1291              		.loc 1 617 0
 1292 0102 A08B     		ldrh	r0, [r4, #28]
 1293 0104 FFF7FEFF 		bl	lwip_htons
ARM GAS  /tmp/ccQWtNTq.s 			page 39


 1294              	.LVL184:
 1295 0108 7080     		strh	r0, [r6, #2]	@ unaligned
 618:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     IPH_CHKSUM_SET(fraghdr, 0);
 1296              		.loc 1 618 0
 1297 010a 0023     		movs	r3, #0
 1298 010c B371     		strb	r3, [r6, #6]
 1299 010e F371     		strb	r3, [r6, #7]
 619:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* @todo: do we need to set/calculate the correct checksum? */
 1300              		.loc 1 619 0
 1301 0110 B372     		strb	r3, [r6, #10]
 1302 0112 F372     		strb	r3, [r6, #11]
 627:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 1303              		.loc 1 627 0
 1304 0114 6768     		ldr	r7, [r4, #4]
 1305              	.LVL185:
 630:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       iprh = (struct ip_reass_helper*)r->payload;
 1306              		.loc 1 630 0
 1307 0116 26E0     		b	.L123
 1308              	.LVL186:
 1309              	.L132:
 1310              	.LBE7:
 556:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* Bail if unable to enqueue */
 1311              		.loc 1 556 0
 1312 0118 4146     		mov	r1, r8
 1313 011a 2846     		mov	r0, r5
 1314 011c FFF7FEFF 		bl	ip_reass_enqueue_new_datagram
 1315              	.LVL187:
 558:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       goto nullreturn;
 1316              		.loc 1 558 0
 1317 0120 0446     		mov	r4, r0
 1318 0122 0028     		cmp	r0, #0
 1319 0124 B6D1     		bne	.L119
 1320 0126 99E7     		b	.L112
 1321              	.LVL188:
 1322              	.L133:
 563:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       /* ipr->iphdr is not the header from the first fragment, but fraghdr is
 1323              		.loc 1 563 0 discriminator 1
 1324 0128 E089     		ldrh	r0, [r4, #14]
 1325 012a FFF7FEFF 		bl	lwip_htons
 1326              	.LVL189:
 562:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       ((lwip_ntohs(IPH_OFFSET(&ipr->iphdr)) & IP_OFFMASK) != 0)) {
 1327              		.loc 1 562 0 discriminator 1
 1328 012e C0F30C00 		ubfx	r0, r0, #0, #13
 1329 0132 0028     		cmp	r0, #0
 1330 0134 AED0     		beq	.L119
 568:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     }
 1331              		.loc 1 568 0
 1332 0136 2A68     		ldr	r2, [r5]	@ unaligned
 1333 0138 D5F804E0 		ldr	lr, [r5, #4]	@ unaligned
 1334 013c A868     		ldr	r0, [r5, #8]	@ unaligned
 1335 013e E968     		ldr	r1, [r5, #12]	@ unaligned
 1336 0140 A260     		str	r2, [r4, #8]	@ unaligned
 1337 0142 C4F80CE0 		str	lr, [r4, #12]	@ unaligned
 1338 0146 2061     		str	r0, [r4, #16]	@ unaligned
 1339 0148 6161     		str	r1, [r4, #20]	@ unaligned
 1340 014a 2A69     		ldr	r2, [r5, #16]	@ unaligned
 1341 014c A261     		str	r2, [r4, #24]	@ unaligned
ARM GAS  /tmp/ccQWtNTq.s 			page 40


 1342 014e A1E7     		b	.L119
 1343              	.LVL190:
 1344              	.L124:
 1345              	.LBB8:
 631:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 1346              		.loc 1 631 0
 1347 0150 6E68     		ldr	r6, [r5, #4]
 1348              	.LVL191:
 634:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       pbuf_cat(p, r);
 1349              		.loc 1 634 0
 1350 0152 6FF01301 		mvn	r1, #19
 1351 0156 2846     		mov	r0, r5
 1352 0158 FFF7FEFF 		bl	pbuf_header
 1353              	.LVL192:
 635:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       r = iprh->next_pbuf;
 1354              		.loc 1 635 0
 1355 015c 2946     		mov	r1, r5
 1356 015e 3846     		mov	r0, r7
 1357 0160 FFF7FEFF 		bl	pbuf_cat
 1358              	.LVL193:
 636:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     }
 1359              		.loc 1 636 0
 1360 0164 3568     		ldr	r5, [r6]	@ unaligned
 1361              	.LVL194:
 1362              	.L123:
 630:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       iprh = (struct ip_reass_helper*)r->payload;
 1363              		.loc 1 630 0
 1364 0166 002D     		cmp	r5, #0
 1365 0168 F2D1     		bne	.L124
 640:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       ipr_prev = NULL;
 1366              		.loc 1 640 0
 1367 016a 0E4B     		ldr	r3, .L135+4
 1368 016c 1968     		ldr	r1, [r3]
 1369 016e 8C42     		cmp	r4, r1
 1370 0170 05D0     		beq	.L134
 1371              	.L126:
 1372              	.LVL195:
 643:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         if (ipr_prev->next == ipr) {
 1373              		.loc 1 643 0 discriminator 1
 1374 0172 29B1     		cbz	r1, .L125
 644:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****           break;
 1375              		.loc 1 644 0
 1376 0174 0B68     		ldr	r3, [r1]
 1377 0176 9C42     		cmp	r4, r3
 1378 0178 02D0     		beq	.L125
 643:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         if (ipr_prev->next == ipr) {
 1379              		.loc 1 643 0
 1380 017a 1946     		mov	r1, r3
 1381              	.LVL196:
 1382 017c F9E7     		b	.L126
 1383              	.L134:
 641:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     } else {
 1384              		.loc 1 641 0
 1385 017e 0021     		movs	r1, #0
 1386              	.L125:
 1387              	.LVL197:
 651:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
ARM GAS  /tmp/ccQWtNTq.s 			page 41


 1388              		.loc 1 651 0
 1389 0180 2046     		mov	r0, r4
 1390 0182 FFF7FEFF 		bl	ip_reass_dequeue_datagram
 1391              	.LVL198:
 654:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 1392              		.loc 1 654 0
 1393 0186 3846     		mov	r0, r7
 1394 0188 FFF7FEFF 		bl	pbuf_clen
 1395              	.LVL199:
 1396 018c 044A     		ldr	r2, .L135
 1397 018e 1388     		ldrh	r3, [r2]
 1398 0190 181A     		subs	r0, r3, r0
 1399 0192 1080     		strh	r0, [r2]	@ movhi
 1400              	.LVL200:
 1401              	.L111:
 1402              	.LBE8:
 670:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #endif /* IP_REASSEMBLY */
 1403              		.loc 1 670 0
 1404 0194 3846     		mov	r0, r7
 1405 0196 BDE8F883 		pop	{r3, r4, r5, r6, r7, r8, r9, pc}
 1406              	.LVL201:
 1407              	.L128:
 663:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 1408              		.loc 1 663 0
 1409 019a 0027     		movs	r7, #0
 1410              	.LVL202:
 1411 019c FAE7     		b	.L111
 1412              	.L136:
 1413 019e 00BF     		.align	2
 1414              	.L135:
 1415 01a0 00000000 		.word	.LANCHOR1
 1416 01a4 00000000 		.word	.LANCHOR0
 1417              		.cfi_endproc
 1418              	.LFE164:
 1420              		.section	.text.ip4_frag,"ax",%progbits
 1421              		.align	1
 1422              		.global	ip4_frag
 1423              		.syntax unified
 1424              		.thumb
 1425              		.thumb_func
 1426              		.fpu fpv5-d16
 1428              	ip4_frag:
 1429              	.LFB168:
 702:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** }
 703:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #endif /* !LWIP_NETIF_TX_SINGLE_PBUF */
 704:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 705:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** /**
 706:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * Fragment an IP datagram if too large for the netif.
 707:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  *
 708:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * Chop the datagram in MTU sized chunks and send them in order
 709:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * by pointing PBUF_REFs into p.
 710:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  *
 711:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * @param p ip packet to send
 712:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * @param netif the netif on which to send
 713:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * @param dest destination ip address to which to send
 714:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  *
 715:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * @return ERR_OK if sent successfully, err_t otherwise
ARM GAS  /tmp/ccQWtNTq.s 			page 42


 716:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  */
 717:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** err_t
 718:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** ip4_frag(struct pbuf *p, struct netif *netif, const ip4_addr_t *dest)
 719:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** {
 1430              		.loc 1 719 0
 1431              		.cfi_startproc
 1432              		@ args = 0, pretend = 0, frame = 40
 1433              		@ frame_needed = 0, uses_anonymous_args = 0
 1434              	.LVL203:
 1435 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 1436              	.LCFI10:
 1437              		.cfi_def_cfa_offset 36
 1438              		.cfi_offset 4, -36
 1439              		.cfi_offset 5, -32
 1440              		.cfi_offset 6, -28
 1441              		.cfi_offset 7, -24
 1442              		.cfi_offset 8, -20
 1443              		.cfi_offset 9, -16
 1444              		.cfi_offset 10, -12
 1445              		.cfi_offset 11, -8
 1446              		.cfi_offset 14, -4
 1447 0004 8DB0     		sub	sp, sp, #52
 1448              	.LCFI11:
 1449              		.cfi_def_cfa_offset 88
 1450 0006 0546     		mov	r5, r0
 1451 0008 0791     		str	r1, [sp, #28]
 1452 000a 0B92     		str	r2, [sp, #44]
 1453              	.LVL204:
 720:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   struct pbuf *rambuf;
 721:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #if !LWIP_NETIF_TX_SINGLE_PBUF
 722:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   struct pbuf *newpbuf;
 723:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   u16_t newpbuflen = 0;
 724:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   u16_t left_to_copy;
 725:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #endif
 726:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   struct ip_hdr *original_iphdr;
 727:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   struct ip_hdr *iphdr;
 728:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   const u16_t nfb = (netif->mtu - IP_HLEN) / 8;
 1454              		.loc 1 728 0
 1455 000c 4B8C     		ldrh	r3, [r1, #34]
 1456 000e 143B     		subs	r3, r3, #20
 1457 0010 20D4     		bmi	.L154
 1458              	.L138:
 1459 0012 DB10     		asrs	r3, r3, #3
 1460 0014 0993     		str	r3, [sp, #36]
 1461 0016 9BB2     		uxth	r3, r3
 1462 0018 0A93     		str	r3, [sp, #40]
 1463              	.LVL205:
 729:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   u16_t left, fragsize;
 730:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   u16_t ofo;
 731:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   int last;
 732:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   u16_t poff = IP_HLEN;
 733:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   u16_t tmp;
 734:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 735:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   original_iphdr = (struct ip_hdr *)p->payload;
 1464              		.loc 1 735 0
 1465 001a D5F804A0 		ldr	r10, [r5, #4]
 1466              	.LVL206:
ARM GAS  /tmp/ccQWtNTq.s 			page 43


 736:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   iphdr = original_iphdr;
 737:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   LWIP_ERROR("ip4_frag() does not support IP options", IPH_HL(iphdr) * 4 == IP_HLEN, return ERR_VAL
 1467              		.loc 1 737 0
 1468 001e 9AF80030 		ldrb	r3, [r10]	@ zero_extendqisi2
 1469 0022 03F00F03 		and	r3, r3, #15
 1470 0026 052B     		cmp	r3, #5
 1471 0028 16D1     		bne	.L155
 738:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 739:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   /* Save original offset */
 740:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   tmp = lwip_ntohs(IPH_OFFSET(iphdr));
 1472              		.loc 1 740 0
 1473 002a BAF80600 		ldrh	r0, [r10, #6]	@ unaligned
 1474              	.LVL207:
 1475 002e FFF7FEFF 		bl	lwip_htons
 1476              	.LVL208:
 741:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   ofo = tmp & IP_OFFMASK;
 1477              		.loc 1 741 0
 1478 0032 C0F30C03 		ubfx	r3, r0, #0, #13
 1479 0036 0693     		str	r3, [sp, #24]
 1480              	.LVL209:
 742:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   LWIP_ERROR("ip_frag(): MF already set", (tmp & IP_MF) == 0, return ERR_VAL);
 1481              		.loc 1 742 0
 1482 0038 10F4005F 		tst	r0, #8192
 1483 003c 16D1     		bne	.L156
 743:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 744:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   left = p->tot_len - IP_HLEN;
 1484              		.loc 1 744 0
 1485 003e B5F80890 		ldrh	r9, [r5, #8]
 1486 0042 A9F11409 		sub	r9, r9, #20
 1487 0046 1FFA89FB 		uxth	fp, r9
 1488              	.LVL210:
 732:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   u16_t tmp;
 1489              		.loc 1 732 0
 1490 004a 4FF01408 		mov	r8, #20
 723:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   u16_t left_to_copy;
 1491              		.loc 1 723 0
 1492 004e 0024     		movs	r4, #0
 1493 0050 D946     		mov	r9, fp
 745:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 746:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   while (left) {
 1494              		.loc 1 746 0
 1495 0052 8CE0     		b	.L142
 1496              	.LVL211:
 1497              	.L154:
 728:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   u16_t left, fragsize;
 1498              		.loc 1 728 0
 1499 0054 0733     		adds	r3, r3, #7
 1500 0056 DCE7     		b	.L138
 1501              	.LVL212:
 1502              	.L155:
 737:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 1503              		.loc 1 737 0 discriminator 1
 1504 0058 5E4B     		ldr	r3, .L162
 1505 005a 40F2E122 		movw	r2, #737
 1506              	.LVL213:
 1507 005e 5E49     		ldr	r1, .L162+4
 1508              	.LVL214:
ARM GAS  /tmp/ccQWtNTq.s 			page 44


 1509 0060 5E48     		ldr	r0, .L162+8
 1510              	.LVL215:
 1511 0062 FFF7FEFF 		bl	printf
 1512              	.LVL216:
 1513 0066 6FF00500 		mvn	r0, #5
 1514 006a 43E0     		b	.L140
 1515              	.LVL217:
 1516              	.L156:
 742:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 1517              		.loc 1 742 0 discriminator 1
 1518 006c 594B     		ldr	r3, .L162
 1519 006e 40F2E622 		movw	r2, #742
 1520 0072 5B49     		ldr	r1, .L162+12
 1521 0074 5948     		ldr	r0, .L162+8
 1522              	.LVL218:
 1523 0076 FFF7FEFF 		bl	printf
 1524              	.LVL219:
 1525 007a 6FF00500 		mvn	r0, #5
 1526 007e 39E0     		b	.L140
 1527              	.LVL220:
 1528              	.L161:
 747:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* Fill this fragment */
 748:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     fragsize = LWIP_MIN(left, nfb * 8);
 749:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 750:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #if LWIP_NETIF_TX_SINGLE_PBUF
 751:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     rambuf = pbuf_alloc(PBUF_IP, fragsize, PBUF_RAM);
 752:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     if (rambuf == NULL) {
 753:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       goto memerr;
 754:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     }
 755:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     LWIP_ASSERT("this needs a pbuf in one piece!",
 756:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       (rambuf->len == rambuf->tot_len) && (rambuf->next == NULL));
 757:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     poff += pbuf_copy_partial(p, rambuf->payload, fragsize, poff);
 758:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* make room for the IP header */
 759:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     if (pbuf_header(rambuf, IP_HLEN)) {
 760:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       pbuf_free(rambuf);
 761:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       goto memerr;
 762:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     }
 763:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* fill in the IP header */
 764:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     SMEMCPY(rambuf->payload, original_iphdr, IP_HLEN);
 765:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     iphdr = (struct ip_hdr*)rambuf->payload;
 766:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #else /* LWIP_NETIF_TX_SINGLE_PBUF */
 767:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* When not using a static buffer, create a chain of pbufs.
 768:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****      * The first will be a PBUF_RAM holding the link and IP header.
 769:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****      * The rest will be PBUF_REFs mirroring the pbuf chain to be fragged,
 770:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****      * but limited to the size of an mtu.
 771:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****      */
 772:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     rambuf = pbuf_alloc(PBUF_LINK, IP_HLEN, PBUF_RAM);
 773:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     if (rambuf == NULL) {
 774:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       goto memerr;
 775:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     }
 776:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     LWIP_ASSERT("this needs a pbuf in one piece!",
 1529              		.loc 1 776 0 discriminator 1
 1530 0080 544B     		ldr	r3, .L162
 1531 0082 40F20932 		movw	r2, #777
 1532 0086 5749     		ldr	r1, .L162+16
 1533 0088 5448     		ldr	r0, .L162+8
 1534              	.LVL221:
ARM GAS  /tmp/ccQWtNTq.s 			page 45


 1535 008a FFF7FEFF 		bl	printf
 1536              	.LVL222:
 1537 008e 86E0     		b	.L143
 1538              	.LVL223:
 1539              	.L145:
 1540              	.LBB9:
 777:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****                 (p->len >= (IP_HLEN)));
 778:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     SMEMCPY(rambuf->payload, original_iphdr, IP_HLEN);
 779:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     iphdr = (struct ip_hdr *)rambuf->payload;
 780:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 781:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     left_to_copy = fragsize;
 782:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     while (left_to_copy) {
 783:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       struct pbuf_custom_ref *pcr;
 784:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       u16_t plen = p->len - poff;
 785:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       newpbuflen = LWIP_MIN(left_to_copy, plen);
 786:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       /* Is this pbuf already empty? */
 787:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       if (!newpbuflen) {
 788:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         poff = 0;
 789:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         p = p->next;
 790:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         continue;
 791:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       }
 792:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       pcr = ip_frag_alloc_pbuf_custom_ref();
 1541              		.loc 1 792 0
 1542 0090 FFF7FEFF 		bl	ip_frag_alloc_pbuf_custom_ref
 1543              	.LVL224:
 793:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       if (pcr == NULL) {
 1544              		.loc 1 793 0
 1545 0094 0746     		mov	r7, r0
 1546 0096 40B3     		cbz	r0, .L157
 794:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         pbuf_free(rambuf);
 795:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         goto memerr;
 796:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       }
 797:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       /* Mirror this pbuf, although we might not need all of it. */
 798:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       newpbuf = pbuf_alloced_custom(PBUF_RAW, newpbuflen, PBUF_REF, &pcr->pc,
 799:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         (u8_t*)p->payload + poff, newpbuflen);
 1547              		.loc 1 799 0
 1548 0098 6B68     		ldr	r3, [r5, #4]
 798:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         (u8_t*)p->payload + poff, newpbuflen);
 1549              		.loc 1 798 0
 1550 009a 4344     		add	r3, r3, r8
 1551 009c 0194     		str	r4, [sp, #4]
 1552 009e 0093     		str	r3, [sp]
 1553 00a0 0346     		mov	r3, r0
 1554 00a2 0222     		movs	r2, #2
 1555 00a4 2146     		mov	r1, r4
 1556 00a6 0420     		movs	r0, #4
 1557              	.LVL225:
 1558 00a8 FFF7FEFF 		bl	pbuf_alloced_custom
 1559              	.LVL226:
 800:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       if (newpbuf == NULL) {
 1560              		.loc 1 800 0
 1561 00ac 0390     		str	r0, [sp, #12]
 1562 00ae 20B3     		cbz	r0, .L158
 801:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         ip_frag_free_pbuf_custom_ref(pcr);
 802:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         pbuf_free(rambuf);
 803:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         goto memerr;
 804:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       }
ARM GAS  /tmp/ccQWtNTq.s 			page 46


 805:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       pbuf_ref(p);
 1563              		.loc 1 805 0
 1564 00b0 2846     		mov	r0, r5
 1565              	.LVL227:
 1566 00b2 FFF7FEFF 		bl	pbuf_ref
 1567              	.LVL228:
 806:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       pcr->original = p;
 1568              		.loc 1 806 0
 1569 00b6 7D61     		str	r5, [r7, #20]
 807:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       pcr->pc.custom_free_function = ipfrag_free_pbuf_custom;
 1570              		.loc 1 807 0
 1571 00b8 4B4B     		ldr	r3, .L162+20
 1572 00ba 3B61     		str	r3, [r7, #16]
 808:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 809:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       /* Add it to end of rambuf's chain, but using pbuf_cat, not pbuf_chain
 810:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****        * so that it is removed when pbuf_dechain is later called on rambuf.
 811:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****        */
 812:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       pbuf_cat(rambuf, newpbuf);
 1573              		.loc 1 812 0
 1574 00bc 0399     		ldr	r1, [sp, #12]
 1575 00be 0498     		ldr	r0, [sp, #16]
 1576 00c0 FFF7FEFF 		bl	pbuf_cat
 1577              	.LVL229:
 813:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       left_to_copy -= newpbuflen;
 1578              		.loc 1 813 0
 1579 00c4 361B     		subs	r6, r6, r4
 1580              	.LVL230:
 1581 00c6 B6B2     		uxth	r6, r6
 1582              	.LVL231:
 814:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       if (left_to_copy) {
 1583              		.loc 1 814 0
 1584 00c8 16B1     		cbz	r6, .L144
 1585              	.LVL232:
 815:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         poff = 0;
 816:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         p = p->next;
 1586              		.loc 1 816 0
 1587 00ca 2D68     		ldr	r5, [r5]
 1588              	.LVL233:
 815:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         poff = 0;
 1589              		.loc 1 815 0
 1590 00cc 4FF00008 		mov	r8, #0
 1591              	.LVL234:
 1592              	.L144:
 1593              	.LBE9:
 782:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       struct pbuf_custom_ref *pcr;
 1594              		.loc 1 782 0
 1595 00d0 E6B1     		cbz	r6, .L159
 1596              	.LBB10:
 784:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       newpbuflen = LWIP_MIN(left_to_copy, plen);
 1597              		.loc 1 784 0
 1598 00d2 6C89     		ldrh	r4, [r5, #10]
 1599              	.LVL235:
 1600 00d4 A4EB0804 		sub	r4, r4, r8
 1601 00d8 A4B2     		uxth	r4, r4
 1602              	.LVL236:
 785:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       /* Is this pbuf already empty? */
 1603              		.loc 1 785 0
ARM GAS  /tmp/ccQWtNTq.s 			page 47


 1604 00da B442     		cmp	r4, r6
 1605 00dc 28BF     		it	cs
 1606 00de 3446     		movcs	r4, r6
 1607              	.LVL237:
 787:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         poff = 0;
 1608              		.loc 1 787 0
 1609 00e0 002C     		cmp	r4, #0
 1610 00e2 D5D1     		bne	.L145
 1611              	.LVL238:
 789:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         continue;
 1612              		.loc 1 789 0
 1613 00e4 2D68     		ldr	r5, [r5]
 1614              	.LVL239:
 788:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         p = p->next;
 1615              		.loc 1 788 0
 1616 00e6 A046     		mov	r8, r4
 790:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       }
 1617              		.loc 1 790 0
 1618 00e8 F2E7     		b	.L144
 1619              	.LVL240:
 1620              	.L157:
 794:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         goto memerr;
 1621              		.loc 1 794 0
 1622 00ea 0498     		ldr	r0, [sp, #16]
 1623              	.LVL241:
 1624 00ec FFF7FEFF 		bl	pbuf_free
 1625              	.LVL242:
 1626              	.LBE10:
 817:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       }
 818:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     }
 819:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     poff += newpbuflen;
 820:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #endif /* LWIP_NETIF_TX_SINGLE_PBUF */
 821:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 822:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* Correct header */
 823:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     last = (left <= netif->mtu - IP_HLEN);
 824:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 825:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* Set new offset and MF flag */
 826:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     tmp = (IP_OFFMASK & (ofo));
 827:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     if (!last) {
 828:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       tmp = tmp | IP_MF;
 829:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     }
 830:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     IPH_OFFSET_SET(iphdr, lwip_htons(tmp));
 831:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     IPH_LEN_SET(iphdr, lwip_htons(fragsize + IP_HLEN));
 832:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     IPH_CHKSUM_SET(iphdr, 0);
 833:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #if CHECKSUM_GEN_IP
 834:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     IF__NETIF_CHECKSUM_ENABLED(netif, NETIF_CHECKSUM_GEN_IP) {
 835:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       IPH_CHKSUM_SET(iphdr, inet_chksum(iphdr, IP_HLEN));
 836:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     }
 837:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #endif /* CHECKSUM_GEN_IP */
 838:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 839:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* No need for separate header pbuf - we allowed room for it in rambuf
 840:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****      * when allocated.
 841:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****      */
 842:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     netif->output(netif, rambuf, dest);
 843:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     IPFRAG_STATS_INC(ip_frag.xmit);
 844:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 845:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* Unfortunately we can't reuse rambuf - the hardware may still be
ARM GAS  /tmp/ccQWtNTq.s 			page 48


 846:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****      * using the buffer. Instead we free it (and the ensuing chain) and
 847:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****      * recreate it next time round the loop. If we're lucky the hardware
 848:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****      * will have already sent the packet, the free will really free, and
 849:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****      * there will be zero memory penalty.
 850:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****      */
 851:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 852:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     pbuf_free(rambuf);
 853:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     left -= fragsize;
 854:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     ofo += nfb;
 855:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   }
 856:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   MIB2_STATS_INC(mib2.ipfragoks);
 857:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   return ERR_OK;
 858:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** memerr:
 859:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   MIB2_STATS_INC(mib2.ipfragfails);
 860:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   return ERR_MEM;
 1627              		.loc 1 860 0
 1628 00f0 4FF0FF30 		mov	r0, #-1
 1629              	.LVL243:
 1630              	.L140:
 861:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** }
 1631              		.loc 1 861 0
 1632 00f4 0DB0     		add	sp, sp, #52
 1633              	.LCFI12:
 1634              		.cfi_remember_state
 1635              		.cfi_def_cfa_offset 36
 1636              		@ sp needed
 1637 00f6 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 1638              	.LVL244:
 1639              	.L158:
 1640              	.LCFI13:
 1641              		.cfi_restore_state
 1642              	.LBB11:
 801:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         pbuf_free(rambuf);
 1643              		.loc 1 801 0
 1644 00fa 3846     		mov	r0, r7
 1645              	.LVL245:
 1646 00fc FFF7FEFF 		bl	ip_frag_free_pbuf_custom_ref
 1647              	.LVL246:
 802:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         goto memerr;
 1648              		.loc 1 802 0
 1649 0100 0498     		ldr	r0, [sp, #16]
 1650 0102 FFF7FEFF 		bl	pbuf_free
 1651              	.LVL247:
 1652              	.LBE11:
 860:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** }
 1653              		.loc 1 860 0
 1654 0106 4FF0FF30 		mov	r0, #-1
 1655              	.LBB12:
 803:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       }
 1656              		.loc 1 803 0
 1657 010a F3E7     		b	.L140
 1658              	.LVL248:
 1659              	.L159:
 1660              	.LBE12:
 819:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #endif /* LWIP_NETIF_TX_SINGLE_PBUF */
 1661              		.loc 1 819 0
 1662 010c A044     		add	r8, r8, r4
ARM GAS  /tmp/ccQWtNTq.s 			page 49


 1663              	.LVL249:
 1664 010e 1FFA88F8 		uxth	r8, r8
 1665              	.LVL250:
 823:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 1666              		.loc 1 823 0
 1667 0112 079B     		ldr	r3, [sp, #28]
 1668 0114 5B8C     		ldrh	r3, [r3, #34]
 1669 0116 143B     		subs	r3, r3, #20
 1670              	.LVL251:
 826:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     if (!last) {
 1671              		.loc 1 826 0
 1672 0118 069A     		ldr	r2, [sp, #24]
 1673 011a C2F30C00 		ubfx	r0, r2, #0, #13
 1674              	.LVL252:
 827:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       tmp = tmp | IP_MF;
 1675              		.loc 1 827 0
 1676 011e 089A     		ldr	r2, [sp, #32]
 1677 0120 9A42     		cmp	r2, r3
 1678 0122 01DD     		ble	.L150
 828:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     }
 1679              		.loc 1 828 0
 1680 0124 40F40050 		orr	r0, r0, #8192
 1681              	.LVL253:
 1682              	.L150:
 830:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     IPH_LEN_SET(iphdr, lwip_htons(fragsize + IP_HLEN));
 1683              		.loc 1 830 0
 1684 0128 FFF7FEFF 		bl	lwip_htons
 1685              	.LVL254:
 1686 012c ABF80600 		strh	r0, [fp, #6]	@ unaligned
 831:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     IPH_CHKSUM_SET(iphdr, 0);
 1687              		.loc 1 831 0
 1688 0130 059E     		ldr	r6, [sp, #20]
 1689              	.LVL255:
 1690 0132 06F11400 		add	r0, r6, #20
 1691 0136 80B2     		uxth	r0, r0
 1692 0138 FFF7FEFF 		bl	lwip_htons
 1693              	.LVL256:
 1694 013c ABF80200 		strh	r0, [fp, #2]	@ unaligned
 832:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #if CHECKSUM_GEN_IP
 1695              		.loc 1 832 0
 1696 0140 0023     		movs	r3, #0
 1697 0142 8BF80A30 		strb	r3, [fp, #10]
 1698 0146 8BF80B30 		strb	r3, [fp, #11]
 842:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     IPFRAG_STATS_INC(ip_frag.xmit);
 1699              		.loc 1 842 0
 1700 014a 0798     		ldr	r0, [sp, #28]
 1701 014c 4369     		ldr	r3, [r0, #20]
 1702 014e 0B9A     		ldr	r2, [sp, #44]
 1703 0150 049F     		ldr	r7, [sp, #16]
 1704 0152 3946     		mov	r1, r7
 1705 0154 9847     		blx	r3
 1706              	.LVL257:
 852:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     left -= fragsize;
 1707              		.loc 1 852 0
 1708 0156 3846     		mov	r0, r7
 1709 0158 FFF7FEFF 		bl	pbuf_free
 1710              	.LVL258:
ARM GAS  /tmp/ccQWtNTq.s 			page 50


 853:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     ofo += nfb;
 1711              		.loc 1 853 0
 1712 015c A9EB0603 		sub	r3, r9, r6
 1713 0160 1FFA83F9 		uxth	r9, r3
 1714              	.LVL259:
 854:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   }
 1715              		.loc 1 854 0
 1716 0164 069B     		ldr	r3, [sp, #24]
 1717 0166 0A9A     		ldr	r2, [sp, #40]
 1718 0168 1344     		add	r3, r3, r2
 1719 016a 9BB2     		uxth	r3, r3
 1720 016c 0693     		str	r3, [sp, #24]
 1721              	.LVL260:
 1722              	.L142:
 746:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* Fill this fragment */
 1723              		.loc 1 746 0
 1724 016e B9F1000F 		cmp	r9, #0
 1725 0172 29D0     		beq	.L160
 748:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 1726              		.loc 1 748 0
 1727 0174 BDF82430 		ldrh	r3, [sp, #36]
 1728 0178 DB00     		lsls	r3, r3, #3
 1729 017a CDF82090 		str	r9, [sp, #32]
 1730 017e 4B45     		cmp	r3, r9
 1731 0180 A8BF     		it	ge
 1732 0182 4B46     		movge	r3, r9
 1733 0184 9BB2     		uxth	r3, r3
 1734 0186 0593     		str	r3, [sp, #20]
 1735              	.LVL261:
 772:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     if (rambuf == NULL) {
 1736              		.loc 1 772 0
 1737 0188 0022     		movs	r2, #0
 1738 018a 1421     		movs	r1, #20
 1739 018c 0220     		movs	r0, #2
 1740 018e FFF7FEFF 		bl	pbuf_alloc
 1741              	.LVL262:
 773:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       goto memerr;
 1742              		.loc 1 773 0
 1743 0192 0490     		str	r0, [sp, #16]
 1744 0194 D0B1     		cbz	r0, .L152
 776:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****                 (p->len >= (IP_HLEN)));
 1745              		.loc 1 776 0
 1746 0196 6B89     		ldrh	r3, [r5, #10]
 1747 0198 132B     		cmp	r3, #19
 1748 019a 7FF671AF 		bls	.L161
 1749              	.LVL263:
 1750              	.L143:
 778:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     iphdr = (struct ip_hdr *)rambuf->payload;
 1751              		.loc 1 778 0
 1752 019e 049F     		ldr	r7, [sp, #16]
 1753 01a0 7B68     		ldr	r3, [r7, #4]
 1754 01a2 DAF80020 		ldr	r2, [r10]	@ unaligned
 1755 01a6 DAF80460 		ldr	r6, [r10, #4]	@ unaligned
 1756 01aa DAF80800 		ldr	r0, [r10, #8]	@ unaligned
 1757 01ae DAF80C10 		ldr	r1, [r10, #12]	@ unaligned
 1758 01b2 1A60     		str	r2, [r3]	@ unaligned
 1759 01b4 5E60     		str	r6, [r3, #4]	@ unaligned
ARM GAS  /tmp/ccQWtNTq.s 			page 51


 1760 01b6 9860     		str	r0, [r3, #8]	@ unaligned
 1761 01b8 D960     		str	r1, [r3, #12]	@ unaligned
 1762 01ba DAF81020 		ldr	r2, [r10, #16]	@ unaligned
 1763 01be 1A61     		str	r2, [r3, #16]	@ unaligned
 779:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 1764              		.loc 1 779 0
 1765 01c0 D7F804B0 		ldr	fp, [r7, #4]
 1766              	.LVL264:
 781:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     while (left_to_copy) {
 1767              		.loc 1 781 0
 1768 01c4 059E     		ldr	r6, [sp, #20]
 782:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       struct pbuf_custom_ref *pcr;
 1769              		.loc 1 782 0
 1770 01c6 83E7     		b	.L144
 1771              	.LVL265:
 1772              	.L160:
 857:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** memerr:
 1773              		.loc 1 857 0
 1774 01c8 0020     		movs	r0, #0
 1775 01ca 93E7     		b	.L140
 1776              	.LVL266:
 1777              	.L152:
 860:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** }
 1778              		.loc 1 860 0
 1779 01cc 4FF0FF30 		mov	r0, #-1
 1780              	.LVL267:
 1781 01d0 90E7     		b	.L140
 1782              	.L163:
 1783 01d2 00BF     		.align	2
 1784              	.L162:
 1785 01d4 00000000 		.word	.LC0
 1786 01d8 00000000 		.word	.LC13
 1787 01dc 54000000 		.word	.LC2
 1788 01e0 28000000 		.word	.LC14
 1789 01e4 44000000 		.word	.LC15
 1790 01e8 00000000 		.word	ipfrag_free_pbuf_custom
 1791              		.cfi_endproc
 1792              	.LFE168:
 1794              		.section	.bss.ip_reass_pbufcount,"aw",%nobits
 1795              		.align	1
 1796              		.set	.LANCHOR1,. + 0
 1799              	ip_reass_pbufcount:
 1800 0000 0000     		.space	2
 1801              		.section	.bss.reassdatagrams,"aw",%nobits
 1802              		.align	2
 1803              		.set	.LANCHOR0,. + 0
 1806              	reassdatagrams:
 1807 0000 00000000 		.space	4
 1808              		.section	.rodata.ip4_frag.str1.4,"aMS",%progbits,1
 1809              		.align	2
 1810              	.LC13:
 1811 0000 6970345F 		.ascii	"ip4_frag() does not support IP options\000"
 1811      66726167 
 1811      28292064 
 1811      6F657320 
 1811      6E6F7420 
 1812 0027 00       		.space	1
ARM GAS  /tmp/ccQWtNTq.s 			page 52


 1813              	.LC14:
 1814 0028 69705F66 		.ascii	"ip_frag(): MF already set\000"
 1814      72616728 
 1814      293A204D 
 1814      4620616C 
 1814      72656164 
 1815 0042 0000     		.space	2
 1816              	.LC15:
 1817 0044 74686973 		.ascii	"this needs a pbuf in one piece!\000"
 1817      206E6565 
 1817      64732061 
 1817      20706275 
 1817      6620696E 
 1818              		.section	.rodata.ip_frag_free_pbuf_custom_ref.str1.4,"aMS",%progbits,1
 1819              		.align	2
 1820              	.LC7:
 1821 0000 7020213D 		.ascii	"p != NULL\000"
 1821      204E554C 
 1821      4C00
 1822              		.section	.rodata.ip_reass_chain_frag_into_datagram_and_validate.str1.4,"aMS",%progbits,1
 1823              		.align	2
 1824              	.LC9:
 1825 0000 63686563 		.ascii	"check fragments don't overlap\000"
 1825      6B206672 
 1825      61676D65 
 1825      6E747320 
 1825      646F6E27 
 1826 001e 0000     		.space	2
 1827              	.LC10:
 1828 0020 6E6F2070 		.ascii	"no previous fragment, this must be the first fragme"
 1828      72657669 
 1828      6F757320 
 1828      66726167 
 1828      6D656E74 
 1829 0053 6E742100 		.ascii	"nt!\000"
 1830 0057 00       		.space	1
 1831              	.LC11:
 1832 0058 73616E69 		.ascii	"sanity check\000"
 1832      74792063 
 1832      6865636B 
 1832      00
 1833 0065 000000   		.space	3
 1834              	.LC12:
 1835 0068 76616C69 		.ascii	"validate_datagram:next_pbuf!=NULL\000"
 1835      64617465 
 1835      5F646174 
 1835      61677261 
 1835      6D3A6E65 
 1836              		.section	.rodata.ip_reass_dequeue_datagram.str1.4,"aMS",%progbits,1
 1837              		.align	2
 1838              	.LC0:
 1839 0000 4D696464 		.ascii	"Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag"
 1839      6C657761 
 1839      7265732F 
 1839      54686972 
 1839      645F5061 
 1840 0033 2E6300   		.ascii	".c\000"
ARM GAS  /tmp/ccQWtNTq.s 			page 53


 1841 0036 0000     		.space	2
 1842              	.LC1:
 1843 0038 73616E69 		.ascii	"sanity check linked list\000"
 1843      74792063 
 1843      6865636B 
 1843      206C696E 
 1843      6B656420 
 1844 0051 000000   		.space	3
 1845              	.LC2:
 1846 0054 41737365 		.ascii	"Assertion \"%s\" failed at line %d in %s\012\000"
 1846      7274696F 
 1846      6E202225 
 1846      73222066 
 1846      61696C65 
 1847              		.section	.rodata.ip_reass_free_complete_datagram.str1.4,"aMS",%progbits,1
 1848              		.align	2
 1849              	.LC3:
 1850 0000 70726576 		.ascii	"prev != ipr\000"
 1850      20213D20 
 1850      69707200 
 1851              	.LC4:
 1852 000c 70726576 		.ascii	"prev->next == ipr\000"
 1852      2D3E6E65 
 1852      7874203D 
 1852      3D206970 
 1852      7200
 1853 001e 0000     		.space	2
 1854              	.LC5:
 1855 0020 70627566 		.ascii	"pbufs_freed + clen <= 0xffff\000"
 1855      735F6672 
 1855      65656420 
 1855      2B20636C 
 1855      656E203C 
 1856 003d 000000   		.space	3
 1857              	.LC6:
 1858 0040 69705F72 		.ascii	"ip_reass_pbufcount >= clen\000"
 1858      65617373 
 1858      5F706275 
 1858      66636F75 
 1858      6E74203E 
 1859              		.section	.rodata.ipfrag_free_pbuf_custom.str1.4,"aMS",%progbits,1
 1860              		.align	2
 1861              	.LC8:
 1862 0000 70637220 		.ascii	"pcr != NULL\000"
 1862      213D204E 
 1862      554C4C00 
 1863              		.text
 1864              	.Letext0:
 1865              		.file 2 "/usr/include/newlib/machine/_default_types.h"
 1866              		.file 3 "/usr/include/newlib/sys/_stdint.h"
 1867              		.file 4 "Drivers/CMSIS/Include/core_cm7.h"
 1868              		.file 5 "Drivers/CMSIS/Device/ST/STM32H7xx/Include/system_stm32h7xx.h"
 1869              		.file 6 "/usr/include/newlib/sys/lock.h"
 1870              		.file 7 "/usr/include/newlib/sys/_types.h"
 1871              		.file 8 "/usr/lib/gcc/arm-none-eabi/6.3.1/include/stddef.h"
 1872              		.file 9 "/usr/include/newlib/sys/reent.h"
 1873              		.file 10 "/usr/include/newlib/math.h"
ARM GAS  /tmp/ccQWtNTq.s 			page 54


 1874              		.file 11 "Drivers/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal_def.h"
 1875              		.file 12 "Drivers/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal_flash.h"
 1876              		.file 13 "Drivers/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal.h"
 1877              		.file 14 "/usr/include/newlib/stdlib.h"
 1878              		.file 15 "/usr/include/newlib/time.h"
 1879              		.file 16 "Middlewares/Third_Party/LwIP/src/include/lwip/arch.h"
 1880              		.file 17 "Middlewares/Third_Party/LwIP/src/include/lwip/err.h"
 1881              		.file 18 "Middlewares/Third_Party/LwIP/src/include/lwip/pbuf.h"
 1882              		.file 19 "Middlewares/Third_Party/LwIP/src/include/lwip/ip4_addr.h"
 1883              		.file 20 "Middlewares/Third_Party/LwIP/src/include/lwip/ip_addr.h"
 1884              		.file 21 "Middlewares/Third_Party/LwIP/src/include/lwip/memp.h"
 1885              		.file 22 "Middlewares/Third_Party/LwIP/src/include/lwip/priv/memp_priv.h"
 1886              		.file 23 "Middlewares/Third_Party/LwIP/src/include/lwip/netif.h"
 1887              		.file 24 "Middlewares/Third_Party/LwIP/src/include/lwip/prot/ip4.h"
 1888              		.file 25 "Middlewares/Third_Party/LwIP/src/include/lwip/ip.h"
 1889              		.file 26 "Middlewares/Third_Party/LwIP/src/include/lwip/ip4_frag.h"
 1890              		.file 27 "Middlewares/Third_Party/LwIP/src/include/lwip/icmp.h"
 1891              		.file 28 "Middlewares/Third_Party/LwIP/src/include/lwip/def.h"
 1892              		.file 29 "/usr/include/newlib/stdio.h"
ARM GAS  /tmp/ccQWtNTq.s 			page 55


DEFINED SYMBOLS
                            *ABS*:0000000000000000 ip4_frag.c
     /tmp/ccQWtNTq.s:17     .text.ip_reass_dequeue_datagram:0000000000000000 $t
     /tmp/ccQWtNTq.s:23     .text.ip_reass_dequeue_datagram:0000000000000000 ip_reass_dequeue_datagram
     /tmp/ccQWtNTq.s:81     .text.ip_reass_dequeue_datagram:0000000000000038 $d
     /tmp/ccQWtNTq.s:89     .text.ip_reass_free_complete_datagram:0000000000000000 $t
     /tmp/ccQWtNTq.s:95     .text.ip_reass_free_complete_datagram:0000000000000000 ip_reass_free_complete_datagram
     /tmp/ccQWtNTq.s:295    .text.ip_reass_free_complete_datagram:00000000000000f0 $d
     /tmp/ccQWtNTq.s:306    .text.ip_reass_remove_oldest_datagram:0000000000000000 $t
     /tmp/ccQWtNTq.s:312    .text.ip_reass_remove_oldest_datagram:0000000000000000 ip_reass_remove_oldest_datagram
     /tmp/ccQWtNTq.s:442    .text.ip_reass_remove_oldest_datagram:0000000000000080 $d
     /tmp/ccQWtNTq.s:447    .text.ip_frag_free_pbuf_custom_ref:0000000000000000 $t
     /tmp/ccQWtNTq.s:453    .text.ip_frag_free_pbuf_custom_ref:0000000000000000 ip_frag_free_pbuf_custom_ref
     /tmp/ccQWtNTq.s:490    .text.ip_frag_free_pbuf_custom_ref:0000000000000020 $d
     /tmp/ccQWtNTq.s:497    .text.ipfrag_free_pbuf_custom:0000000000000000 $t
     /tmp/ccQWtNTq.s:503    .text.ipfrag_free_pbuf_custom:0000000000000000 ipfrag_free_pbuf_custom
     /tmp/ccQWtNTq.s:547    .text.ipfrag_free_pbuf_custom:0000000000000028 $d
     /tmp/ccQWtNTq.s:554    .text.ip_reass_chain_frag_into_datagram_and_validate:0000000000000000 $t
     /tmp/ccQWtNTq.s:560    .text.ip_reass_chain_frag_into_datagram_and_validate:0000000000000000 ip_reass_chain_frag_into_datagram_and_validate
     /tmp/ccQWtNTq.s:877    .text.ip_reass_chain_frag_into_datagram_and_validate:0000000000000178 $d
     /tmp/ccQWtNTq.s:888    .text.ip_frag_alloc_pbuf_custom_ref:0000000000000000 $t
     /tmp/ccQWtNTq.s:894    .text.ip_frag_alloc_pbuf_custom_ref:0000000000000000 ip_frag_alloc_pbuf_custom_ref
     /tmp/ccQWtNTq.s:915    .text.ip_reass_enqueue_new_datagram:0000000000000000 $t
     /tmp/ccQWtNTq.s:921    .text.ip_reass_enqueue_new_datagram:0000000000000000 ip_reass_enqueue_new_datagram
     /tmp/ccQWtNTq.s:1004   .text.ip_reass_enqueue_new_datagram:000000000000005c $d
     /tmp/ccQWtNTq.s:1009   .text.ip_reass_tmr:0000000000000000 $t
     /tmp/ccQWtNTq.s:1016   .text.ip_reass_tmr:0000000000000000 ip_reass_tmr
     /tmp/ccQWtNTq.s:1076   .text.ip_reass_tmr:0000000000000028 $d
     /tmp/ccQWtNTq.s:1081   .text.ip4_reass:0000000000000000 $t
     /tmp/ccQWtNTq.s:1088   .text.ip4_reass:0000000000000000 ip4_reass
     /tmp/ccQWtNTq.s:1415   .text.ip4_reass:00000000000001a0 $d
     /tmp/ccQWtNTq.s:1421   .text.ip4_frag:0000000000000000 $t
     /tmp/ccQWtNTq.s:1428   .text.ip4_frag:0000000000000000 ip4_frag
     /tmp/ccQWtNTq.s:1785   .text.ip4_frag:00000000000001d4 $d
     /tmp/ccQWtNTq.s:1795   .bss.ip_reass_pbufcount:0000000000000000 $d
     /tmp/ccQWtNTq.s:1799   .bss.ip_reass_pbufcount:0000000000000000 ip_reass_pbufcount
     /tmp/ccQWtNTq.s:1802   .bss.reassdatagrams:0000000000000000 $d
     /tmp/ccQWtNTq.s:1806   .bss.reassdatagrams:0000000000000000 reassdatagrams
     /tmp/ccQWtNTq.s:1809   .rodata.ip4_frag.str1.4:0000000000000000 $d
     /tmp/ccQWtNTq.s:1819   .rodata.ip_frag_free_pbuf_custom_ref.str1.4:0000000000000000 $d
     /tmp/ccQWtNTq.s:1823   .rodata.ip_reass_chain_frag_into_datagram_and_validate.str1.4:0000000000000000 $d
     /tmp/ccQWtNTq.s:1837   .rodata.ip_reass_dequeue_datagram.str1.4:0000000000000000 $d
     /tmp/ccQWtNTq.s:1848   .rodata.ip_reass_free_complete_datagram.str1.4:0000000000000000 $d
     /tmp/ccQWtNTq.s:1860   .rodata.ipfrag_free_pbuf_custom.str1.4:0000000000000000 $d
                     .debug_frame:0000000000000010 $d

UNDEFINED SYMBOLS
memp_free
printf
icmp_time_exceeded
pbuf_clen
pbuf_free
lwip_htons
memp_malloc
memset
pbuf_header
pbuf_cat
ARM GAS  /tmp/ccQWtNTq.s 			page 56


pbuf_alloced_custom
pbuf_ref
pbuf_alloc
