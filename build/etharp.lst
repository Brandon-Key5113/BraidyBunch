ARM GAS  /tmp/ccUSpX0e.s 			page 1


   1              		.cpu cortex-m7
   2              		.eabi_attribute 28, 1
   3              		.eabi_attribute 20, 1
   4              		.eabi_attribute 21, 1
   5              		.eabi_attribute 23, 3
   6              		.eabi_attribute 24, 1
   7              		.eabi_attribute 25, 1
   8              		.eabi_attribute 26, 1
   9              		.eabi_attribute 30, 1
  10              		.eabi_attribute 34, 1
  11              		.eabi_attribute 18, 4
  12              		.file	"etharp.c"
  13              		.text
  14              	.Ltext0:
  15              		.cfi_sections	.debug_frame
  16              		.section	.text.etharp_free_entry,"ax",%progbits
  17              		.align	1
  18              		.syntax unified
  19              		.thumb
  20              		.thumb_func
  21              		.fpu fpv5-d16
  23              	etharp_free_entry:
  24              	.LFB158:
  25              		.file 1 "Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c"
   1:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** /**
   2:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  * @file
   3:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  * Address Resolution Protocol module for IP over Ethernet
   4:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  *
   5:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  * Functionally, ARP is divided into two parts. The first maps an IP address
   6:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  * to a physical address when sending a packet, and the second part answers
   7:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  * requests from other machines for our physical address.
   8:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  *
   9:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  * This implementation complies with RFC 826 (Ethernet ARP). It supports
  10:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  * Gratuitious ARP from RFC3220 (IP Mobility Support for IPv4) section 4.6
  11:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  * if an interface calls etharp_gratuitous(our_netif) upon address change.
  12:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  */
  13:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** 
  14:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** /*
  15:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  * Copyright (c) 2001-2003 Swedish Institute of Computer Science.
  16:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  * Copyright (c) 2003-2004 Leon Woestenberg <leon.woestenberg@axon.tv>
  17:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  * Copyright (c) 2003-2004 Axon Digital Design B.V., The Netherlands.
  18:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  * All rights reserved.
  19:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  *
  20:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  * Redistribution and use in source and binary forms, with or without modification,
  21:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  * are permitted provided that the following conditions are met:
  22:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  *
  23:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  * 1. Redistributions of source code must retain the above copyright notice,
  24:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  *    this list of conditions and the following disclaimer.
  25:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  * 2. Redistributions in binary form must reproduce the above copyright notice,
  26:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  *    this list of conditions and the following disclaimer in the documentation
  27:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  *    and/or other materials provided with the distribution.
  28:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  * 3. The name of the author may not be used to endorse or promote products
  29:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  *    derived from this software without specific prior written permission.
  30:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  *
  31:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  * THIS SOFTWARE IS PROVIDED BY THE AUTHOR ``AS IS'' AND ANY EXPRESS OR IMPLIED
  32:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
  33:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT
ARM GAS  /tmp/ccUSpX0e.s 			page 2


  34:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  * SHALL THE AUTHOR BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  35:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT
  36:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  * OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
  37:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
  38:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING
  39:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  * IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY
  40:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  * OF SUCH DAMAGE.
  41:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  *
  42:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  * This file is part of the lwIP TCP/IP stack.
  43:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  *
  44:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  */
  45:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** 
  46:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** #include "lwip/opt.h"
  47:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** 
  48:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** #if LWIP_ARP || LWIP_ETHERNET
  49:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** 
  50:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** #include "lwip/etharp.h"
  51:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** #include "lwip/stats.h"
  52:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** #include "lwip/snmp.h"
  53:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** #include "lwip/dhcp.h"
  54:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** #include "lwip/autoip.h"
  55:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** #include "netif/ethernet.h"
  56:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** 
  57:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** #include <string.h>
  58:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** 
  59:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** #ifdef LWIP_HOOK_FILENAME
  60:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** #include LWIP_HOOK_FILENAME
  61:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** #endif
  62:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** 
  63:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** #if LWIP_IPV4 && LWIP_ARP /* don't build if not configured for use in lwipopts.h */
  64:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** 
  65:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** /** Re-request a used ARP entry 1 minute before it would expire to prevent
  66:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  *  breaking a steadily used connection because the ARP entry timed out. */
  67:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** #define ARP_AGE_REREQUEST_USED_UNICAST   (ARP_MAXAGE - 30)
  68:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** #define ARP_AGE_REREQUEST_USED_BROADCAST (ARP_MAXAGE - 15)
  69:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** 
  70:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** /** the time an ARP entry stays pending after first request,
  71:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  *  for ARP_TMR_INTERVAL = 1000, this is
  72:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  *  10 seconds.
  73:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  *
  74:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  *  @internal Keep this number at least 2, otherwise it might
  75:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  *  run out instantly if the timeout occurs directly after a request.
  76:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  */
  77:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** #define ARP_MAXPENDING 5
  78:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** 
  79:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** /** ARP states */
  80:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** enum etharp_state {
  81:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   ETHARP_STATE_EMPTY = 0,
  82:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   ETHARP_STATE_PENDING,
  83:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   ETHARP_STATE_STABLE,
  84:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   ETHARP_STATE_STABLE_REREQUESTING_1,
  85:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   ETHARP_STATE_STABLE_REREQUESTING_2
  86:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** #if ETHARP_SUPPORT_STATIC_ENTRIES
  87:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   ,ETHARP_STATE_STATIC
  88:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** #endif /* ETHARP_SUPPORT_STATIC_ENTRIES */
  89:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** };
  90:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** 
ARM GAS  /tmp/ccUSpX0e.s 			page 3


  91:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** struct etharp_entry {
  92:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** #if ARP_QUEUEING
  93:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   /** Pointer to queue of pending outgoing packets on this ARP entry. */
  94:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   struct etharp_q_entry *q;
  95:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** #else /* ARP_QUEUEING */
  96:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   /** Pointer to a single pending outgoing packet on this ARP entry. */
  97:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   struct pbuf *q;
  98:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** #endif /* ARP_QUEUEING */
  99:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   ip4_addr_t ipaddr;
 100:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   struct netif *netif;
 101:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   struct eth_addr ethaddr;
 102:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   u16_t ctime;
 103:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   u8_t state;
 104:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** };
 105:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** 
 106:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** static struct etharp_entry arp_table[ARP_TABLE_SIZE];
 107:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** 
 108:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** #if !LWIP_NETIF_HWADDRHINT
 109:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** static u8_t etharp_cached_entry;
 110:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** #endif /* !LWIP_NETIF_HWADDRHINT */
 111:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** 
 112:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** /** Try hard to create a new entry - we want the IP address to appear in
 113:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     the cache (even if this means removing an active entry or so). */
 114:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** #define ETHARP_FLAG_TRY_HARD     1
 115:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** #define ETHARP_FLAG_FIND_ONLY    2
 116:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** #if ETHARP_SUPPORT_STATIC_ENTRIES
 117:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** #define ETHARP_FLAG_STATIC_ENTRY 4
 118:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** #endif /* ETHARP_SUPPORT_STATIC_ENTRIES */
 119:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** 
 120:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** #if LWIP_NETIF_HWADDRHINT
 121:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** #define ETHARP_SET_HINT(netif, hint)  if (((netif) != NULL) && ((netif)->addr_hint != NULL))  \
 122:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****                                       *((netif)->addr_hint) = (hint);
 123:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** #else /* LWIP_NETIF_HWADDRHINT */
 124:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** #define ETHARP_SET_HINT(netif, hint)  (etharp_cached_entry = (hint))
 125:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** #endif /* LWIP_NETIF_HWADDRHINT */
 126:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** 
 127:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** 
 128:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** /* Some checks, instead of etharp_init(): */
 129:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** #if (LWIP_ARP && (ARP_TABLE_SIZE > 0x7f))
 130:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   #error "ARP_TABLE_SIZE must fit in an s8_t, you have to reduce it in your lwipopts.h"
 131:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** #endif
 132:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** 
 133:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** 
 134:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** static err_t etharp_request_dst(struct netif *netif, const ip4_addr_t *ipaddr, const struct eth_add
 135:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** static err_t etharp_raw(struct netif *netif,
 136:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****                         const struct eth_addr *ethsrc_addr, const struct eth_addr *ethdst_addr,
 137:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****                         const struct eth_addr *hwsrc_addr, const ip4_addr_t *ipsrc_addr,
 138:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****                         const struct eth_addr *hwdst_addr, const ip4_addr_t *ipdst_addr,
 139:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****                         const u16_t opcode);
 140:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** 
 141:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** #if ARP_QUEUEING
 142:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** /**
 143:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  * Free a complete queue of etharp entries
 144:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  *
 145:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  * @param q a qeueue of etharp_q_entry's to free
 146:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  */
 147:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** static void
ARM GAS  /tmp/ccUSpX0e.s 			page 4


 148:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** free_etharp_q(struct etharp_q_entry *q)
 149:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** {
 150:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   struct etharp_q_entry *r;
 151:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   LWIP_ASSERT("q != NULL", q != NULL);
 152:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   LWIP_ASSERT("q->p != NULL", q->p != NULL);
 153:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   while (q) {
 154:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     r = q;
 155:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     q = q->next;
 156:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     LWIP_ASSERT("r->p != NULL", (r->p != NULL));
 157:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     pbuf_free(r->p);
 158:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     memp_free(MEMP_ARP_QUEUE, r);
 159:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   }
 160:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** }
 161:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** #else /* ARP_QUEUEING */
 162:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** 
 163:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** /** Compatibility define: free the queued pbuf */
 164:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** #define free_etharp_q(q) pbuf_free(q)
 165:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** 
 166:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** #endif /* ARP_QUEUEING */
 167:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** 
 168:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** /** Clean up ARP table entries */
 169:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** static void
 170:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** etharp_free_entry(int i)
 171:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** {
  26              		.loc 1 171 0
  27              		.cfi_startproc
  28              		@ args = 0, pretend = 0, frame = 0
  29              		@ frame_needed = 0, uses_anonymous_args = 0
  30              	.LVL0:
  31 0000 10B5     		push	{r4, lr}
  32              	.LCFI0:
  33              		.cfi_def_cfa_offset 8
  34              		.cfi_offset 4, -8
  35              		.cfi_offset 14, -4
  36 0002 0446     		mov	r4, r0
 172:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   /* remove from SNMP ARP index tree */
 173:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   mib2_remove_arp_entry(arp_table[i].netif, &arp_table[i].ipaddr);
 174:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   /* and empty packet queue */
 175:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   if (arp_table[i].q != NULL) {
  37              		.loc 1 175 0
  38 0004 00EB4002 		add	r2, r0, r0, lsl #1
  39 0008 D300     		lsls	r3, r2, #3
  40 000a 094A     		ldr	r2, .L4
  41 000c D058     		ldr	r0, [r2, r3]
  42              	.LVL1:
  43 000e 38B1     		cbz	r0, .L2
 176:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     /* remove all queued packets */
 177:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     LWIP_DEBUGF(ETHARP_DEBUG, ("etharp_free_entry: freeing entry %"U16_F", packet queue %p.\n", (u1
 178:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     free_etharp_q(arp_table[i].q);
  44              		.loc 1 178 0
  45 0010 FFF7FEFF 		bl	pbuf_free
  46              	.LVL2:
 179:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     arp_table[i].q = NULL;
  47              		.loc 1 179 0
  48 0014 04EB4402 		add	r2, r4, r4, lsl #1
  49 0018 D300     		lsls	r3, r2, #3
  50 001a 0021     		movs	r1, #0
ARM GAS  /tmp/ccUSpX0e.s 			page 5


  51 001c 044A     		ldr	r2, .L4
  52 001e D150     		str	r1, [r2, r3]
  53              	.L2:
 180:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   }
 181:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   /* recycle entry for re-use */
 182:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   arp_table[i].state = ETHARP_STATE_EMPTY;
  54              		.loc 1 182 0
  55 0020 04EB4404 		add	r4, r4, r4, lsl #1
  56              	.LVL3:
  57 0024 E200     		lsls	r2, r4, #3
  58 0026 024B     		ldr	r3, .L4
  59 0028 1344     		add	r3, r3, r2
  60 002a 0022     		movs	r2, #0
  61 002c 1A75     		strb	r2, [r3, #20]
  62 002e 10BD     		pop	{r4, pc}
  63              	.L5:
  64              		.align	2
  65              	.L4:
  66 0030 00000000 		.word	.LANCHOR0
  67              		.cfi_endproc
  68              	.LFE158:
  70              		.section	.text.etharp_find_entry,"ax",%progbits
  71              		.align	1
  72              		.syntax unified
  73              		.thumb
  74              		.thumb_func
  75              		.fpu fpv5-d16
  77              	etharp_find_entry:
  78              	.LFB160:
 183:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** #ifdef LWIP_DEBUG
 184:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   /* for debugging, clean out the complete entry */
 185:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   arp_table[i].ctime = 0;
 186:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   arp_table[i].netif = NULL;
 187:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   ip4_addr_set_zero(&arp_table[i].ipaddr);
 188:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   arp_table[i].ethaddr = ethzero;
 189:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** #endif /* LWIP_DEBUG */
 190:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** }
 191:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** 
 192:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** /**
 193:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  * Clears expired entries in the ARP table.
 194:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  *
 195:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  * This function should be called every ARP_TMR_INTERVAL milliseconds (1 second),
 196:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  * in order to expire entries in the ARP table.
 197:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  */
 198:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** void
 199:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** etharp_tmr(void)
 200:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** {
 201:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   u8_t i;
 202:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** 
 203:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   LWIP_DEBUGF(ETHARP_DEBUG, ("etharp_timer\n"));
 204:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   /* remove expired entries from the ARP table */
 205:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   for (i = 0; i < ARP_TABLE_SIZE; ++i) {
 206:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     u8_t state = arp_table[i].state;
 207:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     if (state != ETHARP_STATE_EMPTY
 208:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** #if ETHARP_SUPPORT_STATIC_ENTRIES
 209:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****       && (state != ETHARP_STATE_STATIC)
 210:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** #endif /* ETHARP_SUPPORT_STATIC_ENTRIES */
ARM GAS  /tmp/ccUSpX0e.s 			page 6


 211:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****       ) {
 212:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****       arp_table[i].ctime++;
 213:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****       if ((arp_table[i].ctime >= ARP_MAXAGE) ||
 214:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****           ((arp_table[i].state == ETHARP_STATE_PENDING)  &&
 215:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****            (arp_table[i].ctime >= ARP_MAXPENDING))) {
 216:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****         /* pending or stable entry has become old! */
 217:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****         LWIP_DEBUGF(ETHARP_DEBUG, ("etharp_timer: expired %s entry %"U16_F".\n",
 218:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****              arp_table[i].state >= ETHARP_STATE_STABLE ? "stable" : "pending", (u16_t)i));
 219:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****         /* clean up entries that have just been expired */
 220:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****         etharp_free_entry(i);
 221:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****       } else if (arp_table[i].state == ETHARP_STATE_STABLE_REREQUESTING_1) {
 222:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****         /* Don't send more than one request every 2 seconds. */
 223:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****         arp_table[i].state = ETHARP_STATE_STABLE_REREQUESTING_2;
 224:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****       } else if (arp_table[i].state == ETHARP_STATE_STABLE_REREQUESTING_2) {
 225:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****         /* Reset state to stable, so that the next transmitted packet will
 226:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****            re-send an ARP request. */
 227:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****         arp_table[i].state = ETHARP_STATE_STABLE;
 228:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****       } else if (arp_table[i].state == ETHARP_STATE_PENDING) {
 229:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****         /* still pending, resend an ARP query */
 230:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****         etharp_request(arp_table[i].netif, &arp_table[i].ipaddr);
 231:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****       }
 232:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     }
 233:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   }
 234:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** }
 235:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** 
 236:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** /**
 237:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  * Search the ARP table for a matching or new entry.
 238:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  *
 239:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  * If an IP address is given, return a pending or stable ARP entry that matches
 240:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  * the address. If no match is found, create a new entry with this address set,
 241:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  * but in state ETHARP_EMPTY. The caller must check and possibly change the
 242:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  * state of the returned entry.
 243:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  *
 244:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  * If ipaddr is NULL, return a initialized new entry in state ETHARP_EMPTY.
 245:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  *
 246:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  * In all cases, attempt to create new entries from an empty entry. If no
 247:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  * empty entries are available and ETHARP_FLAG_TRY_HARD flag is set, recycle
 248:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  * old entries. Heuristic choose the least important entry for recycling.
 249:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  *
 250:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  * @param ipaddr IP address to find in ARP cache, or to add if not found.
 251:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  * @param flags See @ref etharp_state
 252:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  * @param netif netif related to this address (used for NETIF_HWADDRHINT)
 253:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  *
 254:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  * @return The ARP entry index that matched or is created, ERR_MEM if no
 255:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  * entry is found or could be recycled.
 256:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  */
 257:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** static s8_t
 258:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** etharp_find_entry(const ip4_addr_t *ipaddr, u8_t flags, struct netif* netif)
 259:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** {
  79              		.loc 1 259 0
  80              		.cfi_startproc
  81              		@ args = 0, pretend = 0, frame = 0
  82              		@ frame_needed = 0, uses_anonymous_args = 0
  83              	.LVL4:
  84 0000 2DE9F84F 		push	{r3, r4, r5, r6, r7, r8, r9, r10, fp, lr}
  85              	.LCFI1:
  86              		.cfi_def_cfa_offset 40
ARM GAS  /tmp/ccUSpX0e.s 			page 7


  87              		.cfi_offset 3, -40
  88              		.cfi_offset 4, -36
  89              		.cfi_offset 5, -32
  90              		.cfi_offset 6, -28
  91              		.cfi_offset 7, -24
  92              		.cfi_offset 8, -20
  93              		.cfi_offset 9, -16
  94              		.cfi_offset 10, -12
  95              		.cfi_offset 11, -8
  96              		.cfi_offset 14, -4
  97              	.LVL5:
 260:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   s8_t old_pending = ARP_TABLE_SIZE, old_stable = ARP_TABLE_SIZE;
 261:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   s8_t empty = ARP_TABLE_SIZE;
 262:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   u8_t i = 0;
 263:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   /* oldest entry with packets on queue */
 264:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   s8_t old_queue = ARP_TABLE_SIZE;
 265:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   /* its age */
 266:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   u16_t age_queue = 0, age_pending = 0, age_stable = 0;
  98              		.loc 1 266 0
  99 0004 4FF0000E 		mov	lr, #0
 100 0008 F346     		mov	fp, lr
 101 000a F146     		mov	r9, lr
 264:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   /* its age */
 102              		.loc 1 264 0
 103 000c 4FF00A0C 		mov	ip, #10
 267:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** 
 268:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   LWIP_UNUSED_ARG(netif);
 269:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** 
 270:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   /**
 271:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****    * a) do a search through the cache, remember candidates
 272:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****    * b) select candidate entry
 273:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****    * c) create new entry
 274:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****    */
 275:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** 
 276:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   /* a) in a single search sweep, do all of this
 277:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****    * 1) remember the first empty entry (if any)
 278:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****    * 2) remember the oldest stable entry (if any)
 279:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****    * 3) remember the oldest pending entry without queued packets (if any)
 280:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****    * 4) remember the oldest pending entry with queued packets (if any)
 281:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****    * 5) search for a matching IP entry, either pending or stable
 282:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****    *    until 5 matches, or all entries are searched for.
 283:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****    */
 284:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** 
 285:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   for (i = 0; i < ARP_TABLE_SIZE; ++i) {
 104              		.loc 1 285 0
 105 0010 7346     		mov	r3, lr
 261:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   u8_t i = 0;
 106              		.loc 1 261 0
 107 0012 6546     		mov	r5, ip
 260:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   s8_t empty = ARP_TABLE_SIZE;
 108              		.loc 1 260 0
 109 0014 E046     		mov	r8, ip
 110 0016 E246     		mov	r10, ip
 111              		.loc 1 285 0
 112 0018 1BE0     		b	.L7
 113              	.LVL6:
 114              	.L8:
ARM GAS  /tmp/ccUSpX0e.s 			page 8


 115              	.LBB2:
 286:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     u8_t state = arp_table[i].state;
 287:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     /* no empty entry found yet and now we do find one? */
 288:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     if ((empty == ARP_TABLE_SIZE) && (state == ETHARP_STATE_EMPTY)) {
 289:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****       LWIP_DEBUGF(ETHARP_DEBUG, ("etharp_find_entry: found empty entry %"U16_F"\n", (u16_t)i));
 290:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****       /* remember first empty entry */
 291:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****       empty = i;
 292:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     } else if (state != ETHARP_STATE_EMPTY) {
 116              		.loc 1 292 0
 117 001a C2B1     		cbz	r2, .L9
 293:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****       LWIP_ASSERT("state == ETHARP_STATE_PENDING || state >= ETHARP_STATE_STABLE",
 294:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****         state == ETHARP_STATE_PENDING || state >= ETHARP_STATE_STABLE);
 295:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****       /* if given, does IP address match IP address in ARP entry? */
 296:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****       if (ipaddr && ip4_addr_cmp(ipaddr, &arp_table[i].ipaddr)
 118              		.loc 1 296 0
 119 001c 40B1     		cbz	r0, .L10
 120              		.loc 1 296 0 is_stmt 0 discriminator 1
 121 001e 03EB4306 		add	r6, r3, r3, lsl #1
 122 0022 F700     		lsls	r7, r6, #3
 123 0024 5B4E     		ldr	r6, .L36
 124 0026 3E44     		add	r6, r6, r7
 125 0028 7668     		ldr	r6, [r6, #4]
 126 002a 0768     		ldr	r7, [r0]
 127 002c B742     		cmp	r7, r6
 128 002e 1FD0     		beq	.L29
 129              	.L10:
 297:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** #if ETHARP_TABLE_MATCH_NETIF
 298:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****           && ((netif == NULL) || (netif == arp_table[i].netif))
 299:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** #endif /* ETHARP_TABLE_MATCH_NETIF */
 300:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****         ) {
 301:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****         LWIP_DEBUGF(ETHARP_DEBUG | LWIP_DBG_TRACE, ("etharp_find_entry: found matching entry %"U16_
 302:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****         /* found exact IP address match, simply bail out */
 303:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****         return i;
 304:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****       }
 305:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****       /* pending entry? */
 306:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****       if (state == ETHARP_STATE_PENDING) {
 130              		.loc 1 306 0 is_stmt 1
 131 0030 012A     		cmp	r2, #1
 132 0032 20D0     		beq	.L30
 307:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****         /* pending with queued packets? */
 308:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****         if (arp_table[i].q != NULL) {
 309:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****           if (arp_table[i].ctime >= age_queue) {
 310:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****             old_queue = i;
 311:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****             age_queue = arp_table[i].ctime;
 312:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****           }
 313:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****         } else
 314:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****         /* pending without queued packets? */
 315:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****         {
 316:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****           if (arp_table[i].ctime >= age_pending) {
 317:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****             old_pending = i;
 318:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****             age_pending = arp_table[i].ctime;
 319:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****           }
 320:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****         }
 321:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****       /* stable entry? */
 322:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****       } else if (state >= ETHARP_STATE_STABLE) {
 133              		.loc 1 322 0
 134 0034 012A     		cmp	r2, #1
ARM GAS  /tmp/ccUSpX0e.s 			page 9


 135 0036 0AD9     		bls	.L9
 323:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** #if ETHARP_SUPPORT_STATIC_ENTRIES
 324:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****         /* don't record old_stable for static entries since they never expire */
 325:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****         if (state < ETHARP_STATE_STATIC)
 326:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** #endif /* ETHARP_SUPPORT_STATIC_ENTRIES */
 327:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****         {
 328:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****           /* remember entry with oldest stable entry in oldest, its age in maxtime */
 329:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****           if (arp_table[i].ctime >= age_stable) {
 136              		.loc 1 329 0
 137 0038 04EB4404 		add	r4, r4, r4, lsl #1
 138 003c E600     		lsls	r6, r4, #3
 139 003e 554A     		ldr	r2, .L36
 140              	.LVL7:
 141 0040 3244     		add	r2, r2, r6
 142              	.LVL8:
 143 0042 528A     		ldrh	r2, [r2, #18]
 144 0044 9645     		cmp	lr, r2
 145 0046 02D8     		bhi	.L9
 330:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****             old_stable = i;
 146              		.loc 1 330 0
 147 0048 4FFA83F8 		sxtb	r8, r3
 148              	.LVL9:
 331:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****             age_stable = arp_table[i].ctime;
 149              		.loc 1 331 0
 150 004c 9646     		mov	lr, r2
 151              	.LVL10:
 152              	.L9:
 153              	.LBE2:
 285:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     u8_t state = arp_table[i].state;
 154              		.loc 1 285 0 discriminator 2
 155 004e 0133     		adds	r3, r3, #1
 156              	.LVL11:
 157 0050 DBB2     		uxtb	r3, r3
 158              	.LVL12:
 159              	.L7:
 285:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     u8_t state = arp_table[i].state;
 160              		.loc 1 285 0 is_stmt 0 discriminator 1
 161 0052 092B     		cmp	r3, #9
 162 0054 2DD8     		bhi	.L31
 163              	.LBB3:
 286:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     /* no empty entry found yet and now we do find one? */
 164              		.loc 1 286 0 is_stmt 1
 165 0056 1C46     		mov	r4, r3
 166 0058 03EB4302 		add	r2, r3, r3, lsl #1
 167 005c D600     		lsls	r6, r2, #3
 168 005e 4D4A     		ldr	r2, .L36
 169 0060 3244     		add	r2, r2, r6
 170 0062 127D     		ldrb	r2, [r2, #20]	@ zero_extendqisi2
 171              	.LVL13:
 288:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****       LWIP_DEBUGF(ETHARP_DEBUG, ("etharp_find_entry: found empty entry %"U16_F"\n", (u16_t)i));
 172              		.loc 1 288 0
 173 0064 0A2D     		cmp	r5, #10
 174 0066 08BF     		it	eq
 175 0068 002A     		cmpeq	r2, #0
 176 006a D6D1     		bne	.L8
 291:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     } else if (state != ETHARP_STATE_EMPTY) {
 177              		.loc 1 291 0
ARM GAS  /tmp/ccUSpX0e.s 			page 10


 178 006c 5DB2     		sxtb	r5, r3
 179              	.LVL14:
 180 006e EEE7     		b	.L9
 181              	.L29:
 303:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****       }
 182              		.loc 1 303 0
 183 0070 58B2     		sxtb	r0, r3
 184              	.LVL15:
 185 0072 BDE8F88F 		pop	{r3, r4, r5, r6, r7, r8, r9, r10, fp, pc}
 186              	.LVL16:
 187              	.L30:
 308:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****           if (arp_table[i].ctime >= age_queue) {
 188              		.loc 1 308 0
 189 0076 04EB4406 		add	r6, r4, r4, lsl #1
 190 007a F200     		lsls	r2, r6, #3
 191              	.LVL17:
 192 007c 454E     		ldr	r6, .L36
 193              	.LVL18:
 194 007e B258     		ldr	r2, [r6, r2]
 195 0080 5AB1     		cbz	r2, .L13
 309:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****             old_queue = i;
 196              		.loc 1 309 0
 197 0082 04EB4404 		add	r4, r4, r4, lsl #1
 198 0086 E600     		lsls	r6, r4, #3
 199              	.LVL19:
 200 0088 424A     		ldr	r2, .L36
 201              	.LVL20:
 202 008a 3244     		add	r2, r2, r6
 203              	.LVL21:
 204 008c 528A     		ldrh	r2, [r2, #18]
 205 008e 9145     		cmp	r9, r2
 206 0090 DDD8     		bhi	.L9
 310:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****             age_queue = arp_table[i].ctime;
 207              		.loc 1 310 0
 208 0092 4FFA83FC 		sxtb	ip, r3
 209              	.LVL22:
 311:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****           }
 210              		.loc 1 311 0
 211 0096 9146     		mov	r9, r2
 212 0098 D9E7     		b	.L9
 213              	.LVL23:
 214              	.L13:
 316:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****             old_pending = i;
 215              		.loc 1 316 0
 216 009a 04EB4404 		add	r4, r4, r4, lsl #1
 217 009e E600     		lsls	r6, r4, #3
 218              	.LVL24:
 219 00a0 3C4A     		ldr	r2, .L36
 220              	.LVL25:
 221 00a2 3244     		add	r2, r2, r6
 222              	.LVL26:
 223 00a4 528A     		ldrh	r2, [r2, #18]
 224 00a6 9345     		cmp	fp, r2
 225 00a8 D1D8     		bhi	.L9
 317:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****             age_pending = arp_table[i].ctime;
 226              		.loc 1 317 0
 227 00aa 4FFA83FA 		sxtb	r10, r3
ARM GAS  /tmp/ccUSpX0e.s 			page 11


 228              	.LVL27:
 318:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****           }
 229              		.loc 1 318 0
 230 00ae 9346     		mov	fp, r2
 231 00b0 CDE7     		b	.L9
 232              	.LVL28:
 233              	.L31:
 234              	.LBE3:
 332:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****           }
 333:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****         }
 334:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****       }
 335:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     }
 336:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   }
 337:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   /* { we have no match } => try to create a new entry */
 338:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** 
 339:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   /* don't create new entry, only search? */
 340:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   if (((flags & ETHARP_FLAG_FIND_ONLY) != 0) ||
 235              		.loc 1 340 0
 236 00b2 11F0020F 		tst	r1, #2
 237 00b6 65D1     		bne	.L25
 238              		.loc 1 340 0 is_stmt 0 discriminator 1
 239 00b8 0A2D     		cmp	r5, #10
 240 00ba 20D0     		beq	.L32
 241              	.L15:
 242 00bc 0646     		mov	r6, r0
 341:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****       /* or no empty entry found and not allowed to recycle? */
 342:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****       ((empty == ARP_TABLE_SIZE) && ((flags & ETHARP_FLAG_TRY_HARD) == 0))) {
 343:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     LWIP_DEBUGF(ETHARP_DEBUG | LWIP_DBG_TRACE, ("etharp_find_entry: no empty entry found and not al
 344:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     return (s8_t)ERR_MEM;
 345:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   }
 346:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** 
 347:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   /* b) choose the least destructive entry to recycle:
 348:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****    * 1) empty entry
 349:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****    * 2) oldest stable entry
 350:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****    * 3) oldest pending entry without queued packets
 351:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****    * 4) oldest pending entry with queued packets
 352:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****    *
 353:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****    * { ETHARP_FLAG_TRY_HARD is set at this point }
 354:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****    */
 355:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** 
 356:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   /* 1) empty entry available? */
 357:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   if (empty < ARP_TABLE_SIZE) {
 243              		.loc 1 357 0 is_stmt 1
 244 00be 092D     		cmp	r5, #9
 245 00c0 24DC     		bgt	.L16
 358:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     i = empty;
 246              		.loc 1 358 0
 247 00c2 EDB2     		uxtb	r5, r5
 248              	.LVL29:
 249              	.L17:
 359:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     LWIP_DEBUGF(ETHARP_DEBUG | LWIP_DBG_TRACE, ("etharp_find_entry: selecting empty entry %"U16_F"\
 360:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   } else {
 361:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     /* 2) found recyclable stable entry? */
 362:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     if (old_stable < ARP_TABLE_SIZE) {
 363:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****       /* recycle oldest stable*/
 364:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****       i = old_stable;
 365:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****       LWIP_DEBUGF(ETHARP_DEBUG | LWIP_DBG_TRACE, ("etharp_find_entry: selecting oldest stable entry
ARM GAS  /tmp/ccUSpX0e.s 			page 12


 366:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****       /* no queued packets should exist on stable entries */
 367:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****       LWIP_ASSERT("arp_table[i].q == NULL", arp_table[i].q == NULL);
 368:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     /* 3) found recyclable pending entry without queued packets? */
 369:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     } else if (old_pending < ARP_TABLE_SIZE) {
 370:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****       /* recycle oldest pending */
 371:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****       i = old_pending;
 372:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****       LWIP_DEBUGF(ETHARP_DEBUG | LWIP_DBG_TRACE, ("etharp_find_entry: selecting oldest pending entr
 373:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     /* 4) found recyclable pending entry with queued packets? */
 374:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     } else if (old_queue < ARP_TABLE_SIZE) {
 375:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****       /* recycle oldest pending (queued packets are free in etharp_free_entry) */
 376:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****       i = old_queue;
 377:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****       LWIP_DEBUGF(ETHARP_DEBUG | LWIP_DBG_TRACE, ("etharp_find_entry: selecting oldest pending entr
 378:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****       /* no empty or recyclable entries found */
 379:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     } else {
 380:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****       LWIP_DEBUGF(ETHARP_DEBUG | LWIP_DBG_TRACE, ("etharp_find_entry: no empty or recyclable entrie
 381:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****       return (s8_t)ERR_MEM;
 382:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     }
 383:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** 
 384:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     /* { empty or recyclable entry found } */
 385:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     LWIP_ASSERT("i < ARP_TABLE_SIZE", i < ARP_TABLE_SIZE);
 386:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     etharp_free_entry(i);
 387:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   }
 388:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** 
 389:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   LWIP_ASSERT("i < ARP_TABLE_SIZE", i < ARP_TABLE_SIZE);
 250              		.loc 1 389 0
 251 00c4 092D     		cmp	r5, #9
 252 00c6 4DD8     		bhi	.L33
 253              	.L22:
 390:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   LWIP_ASSERT("arp_table[i].state == ETHARP_STATE_EMPTY",
 254              		.loc 1 390 0
 255 00c8 2C46     		mov	r4, r5
 256 00ca 05EB4503 		add	r3, r5, r5, lsl #1
 257 00ce DA00     		lsls	r2, r3, #3
 258 00d0 304B     		ldr	r3, .L36
 259 00d2 1344     		add	r3, r3, r2
 260 00d4 1B7D     		ldrb	r3, [r3, #20]	@ zero_extendqisi2
 261 00d6 002B     		cmp	r3, #0
 262 00d8 4CD1     		bne	.L34
 263              	.L23:
 391:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     arp_table[i].state == ETHARP_STATE_EMPTY);
 392:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** 
 393:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   /* IP address given? */
 394:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   if (ipaddr != NULL) {
 264              		.loc 1 394 0
 265 00da 36B1     		cbz	r6, .L24
 395:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     /* set IP address */
 396:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     ip4_addr_copy(arp_table[i].ipaddr, *ipaddr);
 266              		.loc 1 396 0
 267 00dc 3168     		ldr	r1, [r6]
 268 00de 04EB4403 		add	r3, r4, r4, lsl #1
 269 00e2 DA00     		lsls	r2, r3, #3
 270 00e4 2B4B     		ldr	r3, .L36
 271 00e6 1344     		add	r3, r3, r2
 272 00e8 5960     		str	r1, [r3, #4]
 273              	.L24:
 397:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   }
 398:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   arp_table[i].ctime = 0;
ARM GAS  /tmp/ccUSpX0e.s 			page 13


 274              		.loc 1 398 0
 275 00ea 04EB4404 		add	r4, r4, r4, lsl #1
 276 00ee E200     		lsls	r2, r4, #3
 277 00f0 284B     		ldr	r3, .L36
 278 00f2 1344     		add	r3, r3, r2
 279 00f4 0022     		movs	r2, #0
 280 00f6 5A82     		strh	r2, [r3, #18]	@ movhi
 399:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** #if ETHARP_TABLE_MATCH_NETIF
 400:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   arp_table[i].netif = netif;
 401:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** #endif /* ETHARP_TABLE_MATCH_NETIF*/
 402:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   return (err_t)i;
 281              		.loc 1 402 0
 282 00f8 68B2     		sxtb	r0, r5
 283 00fa BDE8F88F 		pop	{r3, r4, r5, r6, r7, r8, r9, r10, fp, pc}
 284              	.LVL30:
 285              	.L32:
 342:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     LWIP_DEBUGF(ETHARP_DEBUG | LWIP_DBG_TRACE, ("etharp_find_entry: no empty entry found and not al
 286              		.loc 1 342 0
 287 00fe 11F0010F 		tst	r1, #1
 288 0102 DBD1     		bne	.L15
 344:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   }
 289              		.loc 1 344 0
 290 0104 4FF0FF30 		mov	r0, #-1
 291              	.LVL31:
 292 0108 BDE8F88F 		pop	{r3, r4, r5, r6, r7, r8, r9, r10, fp, pc}
 293              	.LVL32:
 294              	.L16:
 362:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****       /* recycle oldest stable*/
 295              		.loc 1 362 0
 296 010c B8F1090F 		cmp	r8, #9
 297 0110 14DC     		bgt	.L18
 364:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****       LWIP_DEBUGF(ETHARP_DEBUG | LWIP_DBG_TRACE, ("etharp_find_entry: selecting oldest stable entry
 298              		.loc 1 364 0
 299 0112 5FFA88F5 		uxtb	r5, r8
 300              	.LVL33:
 367:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     /* 3) found recyclable pending entry without queued packets? */
 301              		.loc 1 367 0
 302 0116 05EB4502 		add	r2, r5, r5, lsl #1
 303 011a D300     		lsls	r3, r2, #3
 304 011c 1D4A     		ldr	r2, .L36
 305 011e D358     		ldr	r3, [r2, r3]
 306 0120 33B1     		cbz	r3, .L19
 367:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     /* 3) found recyclable pending entry without queued packets? */
 307              		.loc 1 367 0 is_stmt 0 discriminator 1
 308 0122 1D4B     		ldr	r3, .L36+4
 309 0124 40F26F12 		movw	r2, #367
 310 0128 1C49     		ldr	r1, .L36+8
 311              	.LVL34:
 312 012a 1D48     		ldr	r0, .L36+12
 313              	.LVL35:
 314 012c FFF7FEFF 		bl	printf
 315              	.LVL36:
 316              	.L19:
 385:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     etharp_free_entry(i);
 317              		.loc 1 385 0 is_stmt 1
 318 0130 092D     		cmp	r5, #9
 319 0132 0FD8     		bhi	.L35
ARM GAS  /tmp/ccUSpX0e.s 			page 14


 320              	.L21:
 386:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   }
 321              		.loc 1 386 0
 322 0134 2846     		mov	r0, r5
 323 0136 FFF7FEFF 		bl	etharp_free_entry
 324              	.LVL37:
 325 013a C3E7     		b	.L17
 326              	.LVL38:
 327              	.L18:
 369:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****       /* recycle oldest pending */
 328              		.loc 1 369 0
 329 013c BAF1090F 		cmp	r10, #9
 330 0140 02DC     		bgt	.L20
 371:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****       LWIP_DEBUGF(ETHARP_DEBUG | LWIP_DBG_TRACE, ("etharp_find_entry: selecting oldest pending entr
 331              		.loc 1 371 0
 332 0142 5FFA8AF5 		uxtb	r5, r10
 333              	.LVL39:
 334 0146 F3E7     		b	.L19
 335              	.LVL40:
 336              	.L20:
 374:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****       /* recycle oldest pending (queued packets are free in etharp_free_entry) */
 337              		.loc 1 374 0
 338 0148 BCF1090F 		cmp	ip, #9
 339 014c 1EDC     		bgt	.L27
 376:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****       LWIP_DEBUGF(ETHARP_DEBUG | LWIP_DBG_TRACE, ("etharp_find_entry: selecting oldest pending entr
 340              		.loc 1 376 0
 341 014e 5FFA8CF5 		uxtb	r5, ip
 342              	.LVL41:
 343 0152 EDE7     		b	.L19
 344              	.LVL42:
 345              	.L35:
 385:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     etharp_free_entry(i);
 346              		.loc 1 385 0 discriminator 1
 347 0154 104B     		ldr	r3, .L36+4
 348 0156 40F28112 		movw	r2, #385
 349 015a 1249     		ldr	r1, .L36+16
 350 015c 1048     		ldr	r0, .L36+12
 351 015e FFF7FEFF 		bl	printf
 352              	.LVL43:
 353 0162 E7E7     		b	.L21
 354              	.L33:
 389:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   LWIP_ASSERT("arp_table[i].state == ETHARP_STATE_EMPTY",
 355              		.loc 1 389 0 discriminator 1
 356 0164 0C4B     		ldr	r3, .L36+4
 357 0166 40F28512 		movw	r2, #389
 358 016a 0E49     		ldr	r1, .L36+16
 359 016c 0C48     		ldr	r0, .L36+12
 360 016e FFF7FEFF 		bl	printf
 361              	.LVL44:
 362 0172 A9E7     		b	.L22
 363              	.L34:
 390:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     arp_table[i].state == ETHARP_STATE_EMPTY);
 364              		.loc 1 390 0 discriminator 1
 365 0174 084B     		ldr	r3, .L36+4
 366 0176 40F28712 		movw	r2, #391
 367 017a 0B49     		ldr	r1, .L36+20
 368 017c 0848     		ldr	r0, .L36+12
ARM GAS  /tmp/ccUSpX0e.s 			page 15


 369 017e FFF7FEFF 		bl	printf
 370              	.LVL45:
 371 0182 AAE7     		b	.L23
 372              	.LVL46:
 373              	.L25:
 344:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   }
 374              		.loc 1 344 0
 375 0184 4FF0FF30 		mov	r0, #-1
 376              	.LVL47:
 377 0188 BDE8F88F 		pop	{r3, r4, r5, r6, r7, r8, r9, r10, fp, pc}
 378              	.LVL48:
 379              	.L27:
 381:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     }
 380              		.loc 1 381 0
 381 018c 4FF0FF30 		mov	r0, #-1
 382              	.LVL49:
 403:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** }
 383              		.loc 1 403 0
 384 0190 BDE8F88F 		pop	{r3, r4, r5, r6, r7, r8, r9, r10, fp, pc}
 385              	.LVL50:
 386              	.L37:
 387              		.align	2
 388              	.L36:
 389 0194 00000000 		.word	.LANCHOR0
 390 0198 00000000 		.word	.LC0
 391 019c 34000000 		.word	.LC1
 392 01a0 4C000000 		.word	.LC2
 393 01a4 74000000 		.word	.LC3
 394 01a8 88000000 		.word	.LC4
 395              		.cfi_endproc
 396              	.LFE160:
 398              		.section	.text.etharp_update_arp_entry,"ax",%progbits
 399              		.align	1
 400              		.syntax unified
 401              		.thumb
 402              		.thumb_func
 403              		.fpu fpv5-d16
 405              	etharp_update_arp_entry:
 406              	.LFB161:
 404:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** 
 405:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** /**
 406:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  * Update (or insert) a IP/MAC address pair in the ARP cache.
 407:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  *
 408:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  * If a pending entry is resolved, any queued packets will be sent
 409:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  * at this point.
 410:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  *
 411:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  * @param netif netif related to this entry (used for NETIF_ADDRHINT)
 412:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  * @param ipaddr IP address of the inserted ARP entry.
 413:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  * @param ethaddr Ethernet address of the inserted ARP entry.
 414:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  * @param flags See @ref etharp_state
 415:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  *
 416:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  * @return
 417:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  * - ERR_OK Successfully updated ARP cache.
 418:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  * - ERR_MEM If we could not add a new ARP entry when ETHARP_FLAG_TRY_HARD was set.
 419:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  * - ERR_ARG Non-unicast address given, those will not appear in ARP cache.
 420:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  *
 421:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  * @see pbuf_free()
ARM GAS  /tmp/ccUSpX0e.s 			page 16


 422:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  */
 423:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** static err_t
 424:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** etharp_update_arp_entry(struct netif *netif, const ip4_addr_t *ipaddr, struct eth_addr *ethaddr, u8
 425:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** {
 407              		.loc 1 425 0
 408              		.cfi_startproc
 409              		@ args = 0, pretend = 0, frame = 0
 410              		@ frame_needed = 0, uses_anonymous_args = 0
 411              	.LVL51:
 412 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 413              	.LCFI2:
 414              		.cfi_def_cfa_offset 20
 415              		.cfi_offset 4, -20
 416              		.cfi_offset 5, -16
 417              		.cfi_offset 6, -12
 418              		.cfi_offset 7, -8
 419              		.cfi_offset 14, -4
 420 0002 83B0     		sub	sp, sp, #12
 421              	.LCFI3:
 422              		.cfi_def_cfa_offset 32
 423 0004 0446     		mov	r4, r0
 424 0006 0D46     		mov	r5, r1
 425 0008 1646     		mov	r6, r2
 426 000a 1F46     		mov	r7, r3
 426:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   s8_t i;
 427:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   LWIP_ASSERT("netif->hwaddr_len == ETH_HWADDR_LEN", netif->hwaddr_len == ETH_HWADDR_LEN);
 427              		.loc 1 427 0
 428 000c 90F82430 		ldrb	r3, [r0, #36]	@ zero_extendqisi2
 429              	.LVL52:
 430 0010 062B     		cmp	r3, #6
 431 0012 06D0     		beq	.L39
 432              		.loc 1 427 0 is_stmt 0 discriminator 1
 433 0014 284B     		ldr	r3, .L47
 434 0016 40F2AB12 		movw	r2, #427
 435              	.LVL53:
 436 001a 2849     		ldr	r1, .L47+4
 437              	.LVL54:
 438 001c 2848     		ldr	r0, .L47+8
 439              	.LVL55:
 440 001e FFF7FEFF 		bl	printf
 441              	.LVL56:
 442              	.L39:
 428:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   LWIP_DEBUGF(ETHARP_DEBUG | LWIP_DBG_TRACE, ("etharp_update_arp_entry: %"U16_F".%"U16_F".%"U16_F".
 429:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     ip4_addr1_16(ipaddr), ip4_addr2_16(ipaddr), ip4_addr3_16(ipaddr), ip4_addr4_16(ipaddr),
 430:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     (u16_t)ethaddr->addr[0], (u16_t)ethaddr->addr[1], (u16_t)ethaddr->addr[2],
 431:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     (u16_t)ethaddr->addr[3], (u16_t)ethaddr->addr[4], (u16_t)ethaddr->addr[5]));
 432:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   /* non-unicast address? */
 433:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   if (ip4_addr_isany(ipaddr) ||
 443              		.loc 1 433 0 is_stmt 1
 444 0022 002D     		cmp	r5, #0
 445 0024 39D0     		beq	.L41
 446              		.loc 1 433 0 is_stmt 0 discriminator 1
 447 0026 2868     		ldr	r0, [r5]
 448 0028 0028     		cmp	r0, #0
 449 002a 39D0     		beq	.L42
 434:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****       ip4_addr_isbroadcast(ipaddr, netif) ||
 450              		.loc 1 434 0 is_stmt 1 discriminator 2
ARM GAS  /tmp/ccUSpX0e.s 			page 17


 451 002c 2146     		mov	r1, r4
 452 002e FFF7FEFF 		bl	ip4_addr_isbroadcast_u32
 453              	.LVL57:
 433:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****       ip4_addr_isbroadcast(ipaddr, netif) ||
 454              		.loc 1 433 0 discriminator 2
 455 0032 0028     		cmp	r0, #0
 456 0034 37D1     		bne	.L43
 435:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****       ip4_addr_ismulticast(ipaddr)) {
 457              		.loc 1 435 0
 458 0036 2B68     		ldr	r3, [r5]
 459 0038 03F0F003 		and	r3, r3, #240
 434:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****       ip4_addr_isbroadcast(ipaddr, netif) ||
 460              		.loc 1 434 0
 461 003c E02B     		cmp	r3, #224
 462 003e 35D0     		beq	.L44
 436:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     LWIP_DEBUGF(ETHARP_DEBUG | LWIP_DBG_TRACE, ("etharp_update_arp_entry: will not add non-unicast 
 437:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     return ERR_ARG;
 438:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   }
 439:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   /* find or create ARP entry */
 440:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   i = etharp_find_entry(ipaddr, flags, netif);
 463              		.loc 1 440 0
 464 0040 2246     		mov	r2, r4
 465 0042 3946     		mov	r1, r7
 466 0044 2846     		mov	r0, r5
 467 0046 FFF7FEFF 		bl	etharp_find_entry
 468              	.LVL58:
 441:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   /* bail out if no entry could be found */
 442:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   if (i < 0) {
 469              		.loc 1 442 0
 470 004a 0028     		cmp	r0, #0
 471              	.LVL59:
 472 004c 23DB     		blt	.L40
 443:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     return (err_t)i;
 444:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   }
 445:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** 
 446:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** #if ETHARP_SUPPORT_STATIC_ENTRIES
 447:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   if (flags & ETHARP_FLAG_STATIC_ENTRY) {
 448:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     /* record static type */
 449:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     arp_table[i].state = ETHARP_STATE_STATIC;
 450:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   } else if (arp_table[i].state == ETHARP_STATE_STATIC) {
 451:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     /* found entry is a static type, don't overwrite it */
 452:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     return ERR_VAL;
 453:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   } else
 454:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** #endif /* ETHARP_SUPPORT_STATIC_ENTRIES */
 455:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   {
 456:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     /* mark it stable */
 457:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     arp_table[i].state = ETHARP_STATE_STABLE;
 473              		.loc 1 457 0
 474 004e 1D4D     		ldr	r5, .L47+12
 475              	.LVL60:
 476 0050 4200     		lsls	r2, r0, #1
 477 0052 1318     		adds	r3, r2, r0
 478 0054 D900     		lsls	r1, r3, #3
 479 0056 6F18     		adds	r7, r5, r1
 480 0058 0223     		movs	r3, #2
 481 005a 3B75     		strb	r3, [r7, #20]
 458:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   }
ARM GAS  /tmp/ccUSpX0e.s 			page 18


 459:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** 
 460:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   /* record network interface */
 461:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   arp_table[i].netif = netif;
 482              		.loc 1 461 0
 483 005c BC60     		str	r4, [r7, #8]
 462:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   /* insert in SNMP ARP index tree */
 463:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   mib2_add_arp_entry(netif, &arp_table[i].ipaddr);
 464:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** 
 465:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   LWIP_DEBUGF(ETHARP_DEBUG | LWIP_DBG_TRACE, ("etharp_update_arp_entry: updating stable entry %"S16
 466:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   /* update address */
 467:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   ETHADDR32_COPY(&arp_table[i].ethaddr, ethaddr);
 484              		.loc 1 467 0
 485 005e 0B46     		mov	r3, r1
 486 0060 0833     		adds	r3, r3, #8
 487 0062 2B44     		add	r3, r3, r5
 488 0064 3268     		ldr	r2, [r6]	@ unaligned
 489 0066 5A60     		str	r2, [r3, #4]	@ unaligned
 490 0068 B288     		ldrh	r2, [r6, #4]	@ unaligned
 491 006a 1A81     		strh	r2, [r3, #8]	@ unaligned
 468:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   /* reset time stamp */
 469:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   arp_table[i].ctime = 0;
 492              		.loc 1 469 0
 493 006c 0023     		movs	r3, #0
 494 006e 7B82     		strh	r3, [r7, #18]	@ movhi
 470:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   /* this is where we will send out queued packets! */
 471:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** #if ARP_QUEUEING
 472:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   while (arp_table[i].q != NULL) {
 473:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     struct pbuf *p;
 474:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     /* remember remainder of queue */
 475:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     struct etharp_q_entry *q = arp_table[i].q;
 476:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     /* pop first item off the queue */
 477:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     arp_table[i].q = q->next;
 478:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     /* get the packet pointer */
 479:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     p = q->p;
 480:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     /* now queue entry can be freed */
 481:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     memp_free(MEMP_ARP_QUEUE, q);
 482:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** #else /* ARP_QUEUEING */
 483:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   if (arp_table[i].q != NULL) {
 495              		.loc 1 483 0
 496 0070 6D58     		ldr	r5, [r5, r1]
 497 0072 F5B1     		cbz	r5, .L45
 498              	.LVL61:
 499              	.LBB4:
 484:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     struct pbuf *p = arp_table[i].q;
 485:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     arp_table[i].q = NULL;
 500              		.loc 1 485 0
 501 0074 0027     		movs	r7, #0
 502 0076 134A     		ldr	r2, .L47+12
 503 0078 5750     		str	r7, [r2, r1]
 486:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** #endif /* ARP_QUEUEING */
 487:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     /* send the queued IP packet */
 488:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     ethernet_output(netif, p, (struct eth_addr*)(netif->hwaddr), ethaddr, ETHTYPE_IP);
 504              		.loc 1 488 0
 505 007a 4FF40063 		mov	r3, #2048
 506 007e 0093     		str	r3, [sp]
 507 0080 3346     		mov	r3, r6
 508 0082 04F12502 		add	r2, r4, #37
ARM GAS  /tmp/ccUSpX0e.s 			page 19


 509 0086 2946     		mov	r1, r5
 510 0088 2046     		mov	r0, r4
 511 008a FFF7FEFF 		bl	ethernet_output
 512              	.LVL62:
 489:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     /* free the queued IP packet */
 490:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     pbuf_free(p);
 513              		.loc 1 490 0
 514 008e 2846     		mov	r0, r5
 515 0090 FFF7FEFF 		bl	pbuf_free
 516              	.LVL63:
 517              	.LBE4:
 491:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   }
 492:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   return ERR_OK;
 518              		.loc 1 492 0
 519 0094 3846     		mov	r0, r7
 520              	.LVL64:
 521              	.L40:
 493:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** }
 522              		.loc 1 493 0
 523 0096 03B0     		add	sp, sp, #12
 524              	.LCFI4:
 525              		.cfi_remember_state
 526              		.cfi_def_cfa_offset 20
 527              		@ sp needed
 528 0098 F0BD     		pop	{r4, r5, r6, r7, pc}
 529              	.LVL65:
 530              	.L41:
 531              	.LCFI5:
 532              		.cfi_restore_state
 437:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   }
 533              		.loc 1 437 0
 534 009a 6FF00F00 		mvn	r0, #15
 535 009e FAE7     		b	.L40
 536              	.L42:
 537 00a0 6FF00F00 		mvn	r0, #15
 538 00a4 F7E7     		b	.L40
 539              	.L43:
 540 00a6 6FF00F00 		mvn	r0, #15
 541 00aa F4E7     		b	.L40
 542              	.L44:
 543 00ac 6FF00F00 		mvn	r0, #15
 544 00b0 F1E7     		b	.L40
 545              	.LVL66:
 546              	.L45:
 492:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** }
 547              		.loc 1 492 0
 548 00b2 0020     		movs	r0, #0
 549 00b4 EFE7     		b	.L40
 550              	.L48:
 551 00b6 00BF     		.align	2
 552              	.L47:
 553 00b8 00000000 		.word	.LC0
 554 00bc 00000000 		.word	.LC5
 555 00c0 4C000000 		.word	.LC2
 556 00c4 00000000 		.word	.LANCHOR0
 557              		.cfi_endproc
 558              	.LFE161:
ARM GAS  /tmp/ccUSpX0e.s 			page 20


 560              		.section	.text.etharp_raw,"ax",%progbits
 561              		.align	1
 562              		.syntax unified
 563              		.thumb
 564              		.thumb_func
 565              		.fpu fpv5-d16
 567              	etharp_raw:
 568              	.LFB169:
 494:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** 
 495:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** #if ETHARP_SUPPORT_STATIC_ENTRIES
 496:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** /** Add a new static entry to the ARP table. If an entry exists for the
 497:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  * specified IP address, this entry is overwritten.
 498:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  * If packets are queued for the specified IP address, they are sent out.
 499:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  *
 500:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  * @param ipaddr IP address for the new static entry
 501:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  * @param ethaddr ethernet address for the new static entry
 502:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  * @return See return values of etharp_add_static_entry
 503:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  */
 504:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** err_t
 505:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** etharp_add_static_entry(const ip4_addr_t *ipaddr, struct eth_addr *ethaddr)
 506:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** {
 507:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   struct netif *netif;
 508:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   LWIP_DEBUGF(ETHARP_DEBUG | LWIP_DBG_TRACE, ("etharp_add_static_entry: %"U16_F".%"U16_F".%"U16_F".
 509:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     ip4_addr1_16(ipaddr), ip4_addr2_16(ipaddr), ip4_addr3_16(ipaddr), ip4_addr4_16(ipaddr),
 510:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     (u16_t)ethaddr->addr[0], (u16_t)ethaddr->addr[1], (u16_t)ethaddr->addr[2],
 511:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     (u16_t)ethaddr->addr[3], (u16_t)ethaddr->addr[4], (u16_t)ethaddr->addr[5]));
 512:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** 
 513:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   netif = ip4_route(ipaddr);
 514:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   if (netif == NULL) {
 515:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     return ERR_RTE;
 516:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   }
 517:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** 
 518:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   return etharp_update_arp_entry(netif, ipaddr, ethaddr, ETHARP_FLAG_TRY_HARD | ETHARP_FLAG_STATIC_
 519:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** }
 520:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** 
 521:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** /** Remove a static entry from the ARP table previously added with a call to
 522:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  * etharp_add_static_entry.
 523:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  *
 524:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  * @param ipaddr IP address of the static entry to remove
 525:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  * @return ERR_OK: entry removed
 526:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  *         ERR_MEM: entry wasn't found
 527:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  *         ERR_ARG: entry wasn't a static entry but a dynamic one
 528:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  */
 529:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** err_t
 530:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** etharp_remove_static_entry(const ip4_addr_t *ipaddr)
 531:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** {
 532:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   s8_t i;
 533:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   LWIP_DEBUGF(ETHARP_DEBUG | LWIP_DBG_TRACE, ("etharp_remove_static_entry: %"U16_F".%"U16_F".%"U16_
 534:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     ip4_addr1_16(ipaddr), ip4_addr2_16(ipaddr), ip4_addr3_16(ipaddr), ip4_addr4_16(ipaddr)));
 535:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** 
 536:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   /* find or create ARP entry */
 537:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   i = etharp_find_entry(ipaddr, ETHARP_FLAG_FIND_ONLY, NULL);
 538:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   /* bail out if no entry could be found */
 539:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   if (i < 0) {
 540:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     return (err_t)i;
 541:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   }
 542:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** 
ARM GAS  /tmp/ccUSpX0e.s 			page 21


 543:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   if (arp_table[i].state != ETHARP_STATE_STATIC) {
 544:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     /* entry wasn't a static entry, cannot remove it */
 545:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     return ERR_ARG;
 546:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   }
 547:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   /* entry found, free it */
 548:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   etharp_free_entry(i);
 549:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   return ERR_OK;
 550:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** }
 551:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** #endif /* ETHARP_SUPPORT_STATIC_ENTRIES */
 552:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** 
 553:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** /**
 554:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  * Remove all ARP table entries of the specified netif.
 555:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  *
 556:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  * @param netif points to a network interface
 557:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  */
 558:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** void
 559:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** etharp_cleanup_netif(struct netif *netif)
 560:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** {
 561:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   u8_t i;
 562:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** 
 563:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   for (i = 0; i < ARP_TABLE_SIZE; ++i) {
 564:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     u8_t state = arp_table[i].state;
 565:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     if ((state != ETHARP_STATE_EMPTY) && (arp_table[i].netif == netif)) {
 566:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****       etharp_free_entry(i);
 567:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     }
 568:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   }
 569:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** }
 570:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** 
 571:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** /**
 572:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  * Finds (stable) ethernet/IP address pair from ARP table
 573:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  * using interface and IP address index.
 574:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  * @note the addresses in the ARP table are in network order!
 575:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  *
 576:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  * @param netif points to interface index
 577:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  * @param ipaddr points to the (network order) IP address index
 578:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  * @param eth_ret points to return pointer
 579:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  * @param ip_ret points to return pointer
 580:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  * @return table index if found, -1 otherwise
 581:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  */
 582:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** s8_t
 583:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** etharp_find_addr(struct netif *netif, const ip4_addr_t *ipaddr,
 584:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****          struct eth_addr **eth_ret, const ip4_addr_t **ip_ret)
 585:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** {
 586:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   s8_t i;
 587:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** 
 588:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   LWIP_ASSERT("eth_ret != NULL && ip_ret != NULL",
 589:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     eth_ret != NULL && ip_ret != NULL);
 590:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** 
 591:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   LWIP_UNUSED_ARG(netif);
 592:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** 
 593:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   i = etharp_find_entry(ipaddr, ETHARP_FLAG_FIND_ONLY, netif);
 594:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   if ((i >= 0) && (arp_table[i].state >= ETHARP_STATE_STABLE)) {
 595:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****       *eth_ret = &arp_table[i].ethaddr;
 596:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****       *ip_ret = &arp_table[i].ipaddr;
 597:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****       return i;
 598:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   }
 599:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   return -1;
ARM GAS  /tmp/ccUSpX0e.s 			page 22


 600:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** }
 601:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** 
 602:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** /**
 603:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  * Possibility to iterate over stable ARP table entries
 604:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  *
 605:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  * @param i entry number, 0 to ARP_TABLE_SIZE
 606:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  * @param ipaddr return value: IP address
 607:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  * @param netif return value: points to interface
 608:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  * @param eth_ret return value: ETH address
 609:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  * @return 1 on valid index, 0 otherwise
 610:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  */
 611:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** u8_t
 612:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** etharp_get_entry(u8_t i, ip4_addr_t **ipaddr, struct netif **netif, struct eth_addr **eth_ret)
 613:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** {
 614:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   LWIP_ASSERT("ipaddr != NULL", ipaddr != NULL);
 615:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   LWIP_ASSERT("netif != NULL", netif != NULL);
 616:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   LWIP_ASSERT("eth_ret != NULL", eth_ret != NULL);
 617:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** 
 618:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   if((i < ARP_TABLE_SIZE) && (arp_table[i].state >= ETHARP_STATE_STABLE)) {
 619:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     *ipaddr  = &arp_table[i].ipaddr;
 620:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     *netif   = arp_table[i].netif;
 621:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     *eth_ret = &arp_table[i].ethaddr;
 622:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     return 1;
 623:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   } else {
 624:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     return 0;
 625:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   }
 626:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** }
 627:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** 
 628:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** /**
 629:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  * Responds to ARP requests to us. Upon ARP replies to us, add entry to cache
 630:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  * send out queued IP packets. Updates cache with snooped address pairs.
 631:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  *
 632:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  * Should be called for incoming ARP packets. The pbuf in the argument
 633:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  * is freed by this function.
 634:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  *
 635:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  * @param p The ARP packet that arrived on netif. Is freed by this function.
 636:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  * @param netif The lwIP network interface on which the ARP packet pbuf arrived.
 637:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  *
 638:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  * @see pbuf_free()
 639:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  */
 640:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** void
 641:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** etharp_input(struct pbuf *p, struct netif *netif)
 642:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** {
 643:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   struct etharp_hdr *hdr;
 644:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   /* these are aligned properly, whereas the ARP header fields might not be */
 645:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   ip4_addr_t sipaddr, dipaddr;
 646:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   u8_t for_us;
 647:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** 
 648:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   LWIP_ERROR("netif != NULL", (netif != NULL), return;);
 649:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** 
 650:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   hdr = (struct etharp_hdr *)p->payload;
 651:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** 
 652:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   /* RFC 826 "Packet Reception": */
 653:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   if ((hdr->hwtype != PP_HTONS(HWTYPE_ETHERNET)) ||
 654:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****       (hdr->hwlen != ETH_HWADDR_LEN) ||
 655:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****       (hdr->protolen != sizeof(ip4_addr_t)) ||
 656:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****       (hdr->proto != PP_HTONS(ETHTYPE_IP)))  {
ARM GAS  /tmp/ccUSpX0e.s 			page 23


 657:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     LWIP_DEBUGF(ETHARP_DEBUG | LWIP_DBG_TRACE | LWIP_DBG_LEVEL_WARNING,
 658:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****       ("etharp_input: packet dropped, wrong hw type, hwlen, proto, protolen or ethernet type (%"U16
 659:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****       hdr->hwtype, (u16_t)hdr->hwlen, hdr->proto, (u16_t)hdr->protolen));
 660:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     ETHARP_STATS_INC(etharp.proterr);
 661:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     ETHARP_STATS_INC(etharp.drop);
 662:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     pbuf_free(p);
 663:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     return;
 664:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   }
 665:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   ETHARP_STATS_INC(etharp.recv);
 666:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** 
 667:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** #if LWIP_AUTOIP
 668:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   /* We have to check if a host already has configured our random
 669:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****    * created link local address and continuously check if there is
 670:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****    * a host with this IP-address so we can detect collisions */
 671:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   autoip_arp_reply(netif, hdr);
 672:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** #endif /* LWIP_AUTOIP */
 673:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** 
 674:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   /* Copy struct ip4_addr2 to aligned ip4_addr, to support compilers without
 675:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****    * structure packing (not using structure copy which breaks strict-aliasing rules). */
 676:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   IPADDR2_COPY(&sipaddr, &hdr->sipaddr);
 677:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   IPADDR2_COPY(&dipaddr, &hdr->dipaddr);
 678:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** 
 679:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   /* this interface is not configured? */
 680:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   if (ip4_addr_isany_val(*netif_ip4_addr(netif))) {
 681:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     for_us = 0;
 682:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   } else {
 683:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     /* ARP packet directed to us? */
 684:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     for_us = (u8_t)ip4_addr_cmp(&dipaddr, netif_ip4_addr(netif));
 685:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   }
 686:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** 
 687:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   /* ARP message directed to us?
 688:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****       -> add IP address in ARP cache; assume requester wants to talk to us,
 689:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****          can result in directly sending the queued packets for this host.
 690:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****      ARP message not directed to us?
 691:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****       ->  update the source IP address in the cache, if present */
 692:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   etharp_update_arp_entry(netif, &sipaddr, &(hdr->shwaddr),
 693:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****                    for_us ? ETHARP_FLAG_TRY_HARD : ETHARP_FLAG_FIND_ONLY);
 694:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** 
 695:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   /* now act on the message itself */
 696:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   switch (hdr->opcode) {
 697:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   /* ARP request? */
 698:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   case PP_HTONS(ARP_REQUEST):
 699:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     /* ARP request. If it asked for our address, we send out a
 700:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****      * reply. In any case, we time-stamp any existing ARP entry,
 701:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****      * and possibly send out an IP packet that was queued on it. */
 702:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** 
 703:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     LWIP_DEBUGF (ETHARP_DEBUG | LWIP_DBG_TRACE, ("etharp_input: incoming ARP request\n"));
 704:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     /* ARP request for our address? */
 705:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     if (for_us) {
 706:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****       /* send ARP response */
 707:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****       etharp_raw(netif,
 708:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****                  (struct eth_addr *)netif->hwaddr, &hdr->shwaddr,
 709:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****                  (struct eth_addr *)netif->hwaddr, netif_ip4_addr(netif),
 710:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****                  &hdr->shwaddr, &sipaddr,
 711:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****                  ARP_REPLY);
 712:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     /* we are not configured? */
 713:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     } else if (ip4_addr_isany_val(*netif_ip4_addr(netif))) {
ARM GAS  /tmp/ccUSpX0e.s 			page 24


 714:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****       /* { for_us == 0 and netif->ip_addr.addr == 0 } */
 715:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****       LWIP_DEBUGF(ETHARP_DEBUG | LWIP_DBG_TRACE, ("etharp_input: we are unconfigured, ARP request i
 716:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     /* request was not directed to us */
 717:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     } else {
 718:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****       /* { for_us == 0 and netif->ip_addr.addr != 0 } */
 719:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****       LWIP_DEBUGF(ETHARP_DEBUG | LWIP_DBG_TRACE, ("etharp_input: ARP request was not for us.\n"));
 720:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     }
 721:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     break;
 722:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   case PP_HTONS(ARP_REPLY):
 723:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     /* ARP reply. We already updated the ARP cache earlier. */
 724:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     LWIP_DEBUGF(ETHARP_DEBUG | LWIP_DBG_TRACE, ("etharp_input: incoming ARP reply\n"));
 725:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** #if (LWIP_DHCP && DHCP_DOES_ARP_CHECK)
 726:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     /* DHCP wants to know about ARP replies from any host with an
 727:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****      * IP address also offered to us by the DHCP server. We do not
 728:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****      * want to take a duplicate IP address on a single network.
 729:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****      * @todo How should we handle redundant (fail-over) interfaces? */
 730:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     dhcp_arp_reply(netif, &sipaddr);
 731:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** #endif /* (LWIP_DHCP && DHCP_DOES_ARP_CHECK) */
 732:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     break;
 733:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   default:
 734:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     LWIP_DEBUGF(ETHARP_DEBUG | LWIP_DBG_TRACE, ("etharp_input: ARP unknown opcode type %"S16_F"\n",
 735:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     ETHARP_STATS_INC(etharp.err);
 736:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     break;
 737:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   }
 738:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   /* free ARP packet */
 739:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   pbuf_free(p);
 740:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** }
 741:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** 
 742:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** /** Just a small helper function that sends a pbuf to an ethernet address
 743:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  * in the arp_table specified by the index 'arp_idx'.
 744:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  */
 745:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** static err_t
 746:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** etharp_output_to_arp_index(struct netif *netif, struct pbuf *q, u8_t arp_idx)
 747:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** {
 748:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   LWIP_ASSERT("arp_table[arp_idx].state >= ETHARP_STATE_STABLE",
 749:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****               arp_table[arp_idx].state >= ETHARP_STATE_STABLE);
 750:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   /* if arp table entry is about to expire: re-request it,
 751:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****      but only if its state is ETHARP_STATE_STABLE to prevent flooding the
 752:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****      network with ARP requests if this address is used frequently. */
 753:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   if (arp_table[arp_idx].state == ETHARP_STATE_STABLE) {
 754:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     if (arp_table[arp_idx].ctime >= ARP_AGE_REREQUEST_USED_BROADCAST) {
 755:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****       /* issue a standard request using broadcast */
 756:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****       if (etharp_request(netif, &arp_table[arp_idx].ipaddr) == ERR_OK) {
 757:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****         arp_table[arp_idx].state = ETHARP_STATE_STABLE_REREQUESTING_1;
 758:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****       }
 759:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     } else if (arp_table[arp_idx].ctime >= ARP_AGE_REREQUEST_USED_UNICAST) {
 760:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****       /* issue a unicast request (for 15 seconds) to prevent unnecessary broadcast */
 761:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****       if (etharp_request_dst(netif, &arp_table[arp_idx].ipaddr, &arp_table[arp_idx].ethaddr) == ERR
 762:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****         arp_table[arp_idx].state = ETHARP_STATE_STABLE_REREQUESTING_1;
 763:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****       }
 764:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     }
 765:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   }
 766:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** 
 767:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   return ethernet_output(netif, q, (struct eth_addr*)(netif->hwaddr), &arp_table[arp_idx].ethaddr, 
 768:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** }
 769:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** 
 770:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** /**
ARM GAS  /tmp/ccUSpX0e.s 			page 25


 771:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  * Resolve and fill-in Ethernet address header for outgoing IP packet.
 772:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  *
 773:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  * For IP multicast and broadcast, corresponding Ethernet addresses
 774:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  * are selected and the packet is transmitted on the link.
 775:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  *
 776:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  * For unicast addresses, the packet is submitted to etharp_query(). In
 777:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  * case the IP address is outside the local network, the IP address of
 778:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  * the gateway is used.
 779:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  *
 780:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  * @param netif The lwIP network interface which the IP packet will be sent on.
 781:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  * @param q The pbuf(s) containing the IP packet to be sent.
 782:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  * @param ipaddr The IP address of the packet destination.
 783:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  *
 784:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  * @return
 785:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  * - ERR_RTE No route to destination (no gateway to external networks),
 786:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  * or the return type of either etharp_query() or ethernet_output().
 787:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  */
 788:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** err_t
 789:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** etharp_output(struct netif *netif, struct pbuf *q, const ip4_addr_t *ipaddr)
 790:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** {
 791:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   const struct eth_addr *dest;
 792:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   struct eth_addr mcastaddr;
 793:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   const ip4_addr_t *dst_addr = ipaddr;
 794:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** 
 795:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   LWIP_ASSERT("netif != NULL", netif != NULL);
 796:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   LWIP_ASSERT("q != NULL", q != NULL);
 797:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   LWIP_ASSERT("ipaddr != NULL", ipaddr != NULL);
 798:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** 
 799:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   /* Determine on destination hardware address. Broadcasts and multicasts
 800:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****    * are special, other IP addresses are looked up in the ARP table. */
 801:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** 
 802:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   /* broadcast destination IP address? */
 803:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   if (ip4_addr_isbroadcast(ipaddr, netif)) {
 804:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     /* broadcast on Ethernet also */
 805:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     dest = (const struct eth_addr *)&ethbroadcast;
 806:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   /* multicast destination IP address? */
 807:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   } else if (ip4_addr_ismulticast(ipaddr)) {
 808:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     /* Hash IP multicast address to MAC address.*/
 809:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     mcastaddr.addr[0] = LL_IP4_MULTICAST_ADDR_0;
 810:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     mcastaddr.addr[1] = LL_IP4_MULTICAST_ADDR_1;
 811:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     mcastaddr.addr[2] = LL_IP4_MULTICAST_ADDR_2;
 812:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     mcastaddr.addr[3] = ip4_addr2(ipaddr) & 0x7f;
 813:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     mcastaddr.addr[4] = ip4_addr3(ipaddr);
 814:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     mcastaddr.addr[5] = ip4_addr4(ipaddr);
 815:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     /* destination Ethernet address is multicast */
 816:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     dest = &mcastaddr;
 817:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   /* unicast destination IP address? */
 818:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   } else {
 819:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     s8_t i;
 820:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     /* outside local network? if so, this can neither be a global broadcast nor
 821:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****        a subnet broadcast. */
 822:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     if (!ip4_addr_netcmp(ipaddr, netif_ip4_addr(netif), netif_ip4_netmask(netif)) &&
 823:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****         !ip4_addr_islinklocal(ipaddr)) {
 824:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** #if LWIP_AUTOIP
 825:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****       struct ip_hdr *iphdr = LWIP_ALIGNMENT_CAST(struct ip_hdr*, q->payload);
 826:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****       /* According to RFC 3297, chapter 2.6.2 (Forwarding Rules), a packet with
 827:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****          a link-local source address must always be "directly to its destination
ARM GAS  /tmp/ccUSpX0e.s 			page 26


 828:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****          on the same physical link. The host MUST NOT send the packet to any
 829:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****          router for forwarding". */
 830:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****       if (!ip4_addr_islinklocal(&iphdr->src))
 831:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** #endif /* LWIP_AUTOIP */
 832:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****       {
 833:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** #ifdef LWIP_HOOK_ETHARP_GET_GW
 834:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****         /* For advanced routing, a single default gateway might not be enough, so get
 835:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****            the IP address of the gateway to handle the current destination address. */
 836:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****         dst_addr = LWIP_HOOK_ETHARP_GET_GW(netif, ipaddr);
 837:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****         if (dst_addr == NULL)
 838:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** #endif /* LWIP_HOOK_ETHARP_GET_GW */
 839:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****         {
 840:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****           /* interface has default gateway? */
 841:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****           if (!ip4_addr_isany_val(*netif_ip4_gw(netif))) {
 842:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****             /* send to hardware address of default gateway IP address */
 843:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****             dst_addr = netif_ip4_gw(netif);
 844:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****           /* no default gateway available */
 845:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****           } else {
 846:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****             /* no route to destination error (default gateway missing) */
 847:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****             return ERR_RTE;
 848:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****           }
 849:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****         }
 850:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****       }
 851:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     }
 852:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** #if LWIP_NETIF_HWADDRHINT
 853:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     if (netif->addr_hint != NULL) {
 854:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****       /* per-pcb cached entry was given */
 855:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****       u8_t etharp_cached_entry = *(netif->addr_hint);
 856:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****       if (etharp_cached_entry < ARP_TABLE_SIZE) {
 857:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** #endif /* LWIP_NETIF_HWADDRHINT */
 858:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****         if ((arp_table[etharp_cached_entry].state >= ETHARP_STATE_STABLE) &&
 859:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** #if ETHARP_TABLE_MATCH_NETIF
 860:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****             (arp_table[etharp_cached_entry].netif == netif) &&
 861:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** #endif
 862:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****             (ip4_addr_cmp(dst_addr, &arp_table[etharp_cached_entry].ipaddr))) {
 863:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****           /* the per-pcb-cached entry is stable and the right one! */
 864:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****           ETHARP_STATS_INC(etharp.cachehit);
 865:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****           return etharp_output_to_arp_index(netif, q, etharp_cached_entry);
 866:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****         }
 867:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** #if LWIP_NETIF_HWADDRHINT
 868:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****       }
 869:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     }
 870:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** #endif /* LWIP_NETIF_HWADDRHINT */
 871:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** 
 872:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     /* find stable entry: do this here since this is a critical path for
 873:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****        throughput and etharp_find_entry() is kind of slow */
 874:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     for (i = 0; i < ARP_TABLE_SIZE; i++) {
 875:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****       if ((arp_table[i].state >= ETHARP_STATE_STABLE) &&
 876:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** #if ETHARP_TABLE_MATCH_NETIF
 877:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****           (arp_table[i].netif == netif) &&
 878:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** #endif
 879:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****           (ip4_addr_cmp(dst_addr, &arp_table[i].ipaddr))) {
 880:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****         /* found an existing, stable entry */
 881:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****         ETHARP_SET_HINT(netif, i);
 882:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****         return etharp_output_to_arp_index(netif, q, i);
 883:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****       }
 884:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     }
ARM GAS  /tmp/ccUSpX0e.s 			page 27


 885:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     /* no stable entry found, use the (slower) query function:
 886:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****        queue on destination Ethernet address belonging to ipaddr */
 887:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     return etharp_query(netif, dst_addr, q);
 888:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   }
 889:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** 
 890:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   /* continuation for multicast/broadcast destinations */
 891:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   /* obtain source Ethernet address of the given interface */
 892:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   /* send packet directly on the link */
 893:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   return ethernet_output(netif, q, (struct eth_addr*)(netif->hwaddr), dest, ETHTYPE_IP);
 894:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** }
 895:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** 
 896:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** /**
 897:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  * Send an ARP request for the given IP address and/or queue a packet.
 898:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  *
 899:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  * If the IP address was not yet in the cache, a pending ARP cache entry
 900:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  * is added and an ARP request is sent for the given address. The packet
 901:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  * is queued on this entry.
 902:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  *
 903:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  * If the IP address was already pending in the cache, a new ARP request
 904:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  * is sent for the given address. The packet is queued on this entry.
 905:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  *
 906:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  * If the IP address was already stable in the cache, and a packet is
 907:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  * given, it is directly sent and no ARP request is sent out.
 908:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  *
 909:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  * If the IP address was already stable in the cache, and no packet is
 910:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  * given, an ARP request is sent out.
 911:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  *
 912:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  * @param netif The lwIP network interface on which ipaddr
 913:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  * must be queried for.
 914:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  * @param ipaddr The IP address to be resolved.
 915:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  * @param q If non-NULL, a pbuf that must be delivered to the IP address.
 916:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  * q is not freed by this function.
 917:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  *
 918:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  * @note q must only be ONE packet, not a packet queue!
 919:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  *
 920:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  * @return
 921:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  * - ERR_BUF Could not make room for Ethernet header.
 922:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  * - ERR_MEM Hardware address unknown, and no more ARP entries available
 923:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  *   to query for address or queue the packet.
 924:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  * - ERR_MEM Could not queue packet due to memory shortage.
 925:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  * - ERR_RTE No route to destination (no gateway to external networks).
 926:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  * - ERR_ARG Non-unicast address given, those will not appear in ARP cache.
 927:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  *
 928:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  */
 929:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** err_t
 930:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** etharp_query(struct netif *netif, const ip4_addr_t *ipaddr, struct pbuf *q)
 931:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** {
 932:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   struct eth_addr * srcaddr = (struct eth_addr *)netif->hwaddr;
 933:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   err_t result = ERR_MEM;
 934:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   int is_new_entry = 0;
 935:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   s8_t i; /* ARP entry index */
 936:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** 
 937:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   /* non-unicast address? */
 938:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   if (ip4_addr_isbroadcast(ipaddr, netif) ||
 939:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****       ip4_addr_ismulticast(ipaddr) ||
 940:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****       ip4_addr_isany(ipaddr)) {
 941:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     LWIP_DEBUGF(ETHARP_DEBUG | LWIP_DBG_TRACE, ("etharp_query: will not add non-unicast IP address 
ARM GAS  /tmp/ccUSpX0e.s 			page 28


 942:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     return ERR_ARG;
 943:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   }
 944:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** 
 945:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   /* find entry in ARP cache, ask to create entry if queueing packet */
 946:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   i = etharp_find_entry(ipaddr, ETHARP_FLAG_TRY_HARD, netif);
 947:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** 
 948:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   /* could not find or create entry? */
 949:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   if (i < 0) {
 950:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     LWIP_DEBUGF(ETHARP_DEBUG | LWIP_DBG_TRACE, ("etharp_query: could not create ARP entry\n"));
 951:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     if (q) {
 952:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****       LWIP_DEBUGF(ETHARP_DEBUG | LWIP_DBG_TRACE, ("etharp_query: packet dropped\n"));
 953:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****       ETHARP_STATS_INC(etharp.memerr);
 954:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     }
 955:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     return (err_t)i;
 956:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   }
 957:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** 
 958:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   /* mark a fresh entry as pending (we just sent a request) */
 959:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   if (arp_table[i].state == ETHARP_STATE_EMPTY) {
 960:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     is_new_entry = 1;
 961:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     arp_table[i].state = ETHARP_STATE_PENDING;
 962:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     /* record network interface for re-sending arp request in etharp_tmr */
 963:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     arp_table[i].netif = netif;
 964:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   }
 965:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** 
 966:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   /* { i is either a STABLE or (new or existing) PENDING entry } */
 967:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   LWIP_ASSERT("arp_table[i].state == PENDING or STABLE",
 968:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   ((arp_table[i].state == ETHARP_STATE_PENDING) ||
 969:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****    (arp_table[i].state >= ETHARP_STATE_STABLE)));
 970:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** 
 971:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   /* do we have a new entry? or an implicit query request? */
 972:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   if (is_new_entry || (q == NULL)) {
 973:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     /* try to resolve it; send out ARP request */
 974:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     result = etharp_request(netif, ipaddr);
 975:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     if (result != ERR_OK) {
 976:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****       /* ARP request couldn't be sent */
 977:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****       /* We don't re-send arp request in etharp_tmr, but we still queue packets,
 978:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****          since this failure could be temporary, and the next packet calling
 979:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****          etharp_query again could lead to sending the queued packets. */
 980:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     }
 981:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     if (q == NULL) {
 982:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****       return result;
 983:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     }
 984:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   }
 985:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** 
 986:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   /* packet given? */
 987:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   LWIP_ASSERT("q != NULL", q != NULL);
 988:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   /* stable entry? */
 989:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   if (arp_table[i].state >= ETHARP_STATE_STABLE) {
 990:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     /* we have a valid IP->Ethernet address mapping */
 991:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     ETHARP_SET_HINT(netif, i);
 992:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     /* send the packet */
 993:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     result = ethernet_output(netif, q, srcaddr, &(arp_table[i].ethaddr), ETHTYPE_IP);
 994:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   /* pending entry? (either just created or already pending */
 995:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   } else if (arp_table[i].state == ETHARP_STATE_PENDING) {
 996:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     /* entry is still pending, queue the given packet 'q' */
 997:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     struct pbuf *p;
 998:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     int copy_needed = 0;
ARM GAS  /tmp/ccUSpX0e.s 			page 29


 999:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     /* IF q includes a PBUF_REF, PBUF_POOL or PBUF_RAM, we have no choice but
1000:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****      * to copy the whole queue into a new PBUF_RAM (see bug #11400)
1001:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****      * PBUF_ROMs can be left as they are, since ROM must not get changed. */
1002:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     p = q;
1003:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     while (p) {
1004:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****       LWIP_ASSERT("no packet queues allowed!", (p->len != p->tot_len) || (p->next == 0));
1005:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****       if (p->type != PBUF_ROM) {
1006:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****         copy_needed = 1;
1007:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****         break;
1008:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****       }
1009:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****       p = p->next;
1010:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     }
1011:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     if (copy_needed) {
1012:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****       /* copy the whole packet into new pbufs */
1013:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****       p = pbuf_alloc(PBUF_LINK, p->tot_len, PBUF_RAM);
1014:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****       if (p != NULL) {
1015:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****         if (pbuf_copy(p, q) != ERR_OK) {
1016:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****           pbuf_free(p);
1017:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****           p = NULL;
1018:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****         }
1019:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****       }
1020:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     } else {
1021:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****       /* referencing the old pbuf is enough */
1022:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****       p = q;
1023:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****       pbuf_ref(p);
1024:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     }
1025:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     /* packet could be taken over? */
1026:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     if (p != NULL) {
1027:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****       /* queue packet ... */
1028:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** #if ARP_QUEUEING
1029:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****       struct etharp_q_entry *new_entry;
1030:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****       /* allocate a new arp queue entry */
1031:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****       new_entry = (struct etharp_q_entry *)memp_malloc(MEMP_ARP_QUEUE);
1032:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****       if (new_entry != NULL) {
1033:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****         unsigned int qlen = 0;
1034:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****         new_entry->next = 0;
1035:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****         new_entry->p = p;
1036:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****         if (arp_table[i].q != NULL) {
1037:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****           /* queue was already existent, append the new entry to the end */
1038:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****           struct etharp_q_entry *r;
1039:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****           r = arp_table[i].q;
1040:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****           qlen++;
1041:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****           while (r->next != NULL) {
1042:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****             r = r->next;
1043:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****             qlen++;
1044:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****           }
1045:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****           r->next = new_entry;
1046:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****         } else {
1047:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****           /* queue did not exist, first item in queue */
1048:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****           arp_table[i].q = new_entry;
1049:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****         }
1050:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** #if ARP_QUEUE_LEN
1051:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****         if (qlen >= ARP_QUEUE_LEN) {
1052:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****           struct etharp_q_entry *old;
1053:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****           old = arp_table[i].q;
1054:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****           arp_table[i].q = arp_table[i].q->next;
1055:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****           pbuf_free(old->p);
ARM GAS  /tmp/ccUSpX0e.s 			page 30


1056:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****           memp_free(MEMP_ARP_QUEUE, old);
1057:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****         }
1058:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** #endif
1059:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****         LWIP_DEBUGF(ETHARP_DEBUG | LWIP_DBG_TRACE, ("etharp_query: queued packet %p on ARP entry %"
1060:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****         result = ERR_OK;
1061:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****       } else {
1062:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****         /* the pool MEMP_ARP_QUEUE is empty */
1063:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****         pbuf_free(p);
1064:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****         LWIP_DEBUGF(ETHARP_DEBUG | LWIP_DBG_TRACE, ("etharp_query: could not queue a copy of PBUF_R
1065:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****         result = ERR_MEM;
1066:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****       }
1067:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** #else /* ARP_QUEUEING */
1068:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****       /* always queue one packet per ARP request only, freeing a previously queued packet */
1069:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****       if (arp_table[i].q != NULL) {
1070:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****         LWIP_DEBUGF(ETHARP_DEBUG | LWIP_DBG_TRACE, ("etharp_query: dropped previously queued packet
1071:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****         pbuf_free(arp_table[i].q);
1072:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****       }
1073:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****       arp_table[i].q = p;
1074:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****       result = ERR_OK;
1075:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****       LWIP_DEBUGF(ETHARP_DEBUG | LWIP_DBG_TRACE, ("etharp_query: queued packet %p on ARP entry %"S1
1076:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** #endif /* ARP_QUEUEING */
1077:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     } else {
1078:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****       ETHARP_STATS_INC(etharp.memerr);
1079:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****       LWIP_DEBUGF(ETHARP_DEBUG | LWIP_DBG_TRACE, ("etharp_query: could not queue a copy of PBUF_REF
1080:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****       result = ERR_MEM;
1081:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     }
1082:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   }
1083:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   return result;
1084:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** }
1085:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** 
1086:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** /**
1087:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  * Send a raw ARP packet (opcode and all addresses can be modified)
1088:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  *
1089:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  * @param netif the lwip network interface on which to send the ARP packet
1090:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  * @param ethsrc_addr the source MAC address for the ethernet header
1091:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  * @param ethdst_addr the destination MAC address for the ethernet header
1092:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  * @param hwsrc_addr the source MAC address for the ARP protocol header
1093:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  * @param ipsrc_addr the source IP address for the ARP protocol header
1094:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  * @param hwdst_addr the destination MAC address for the ARP protocol header
1095:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  * @param ipdst_addr the destination IP address for the ARP protocol header
1096:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  * @param opcode the type of the ARP packet
1097:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  * @return ERR_OK if the ARP packet has been sent
1098:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  *         ERR_MEM if the ARP packet couldn't be allocated
1099:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  *         any other err_t on failure
1100:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  */
1101:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** static err_t
1102:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** etharp_raw(struct netif *netif, const struct eth_addr *ethsrc_addr,
1103:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****            const struct eth_addr *ethdst_addr,
1104:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****            const struct eth_addr *hwsrc_addr, const ip4_addr_t *ipsrc_addr,
1105:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****            const struct eth_addr *hwdst_addr, const ip4_addr_t *ipdst_addr,
1106:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****            const u16_t opcode)
1107:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** {
 569              		.loc 1 1107 0
 570              		.cfi_startproc
 571              		@ args = 16, pretend = 0, frame = 0
 572              		@ frame_needed = 0, uses_anonymous_args = 0
 573              	.LVL67:
ARM GAS  /tmp/ccUSpX0e.s 			page 31


 574 0000 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
 575              	.LCFI6:
 576              		.cfi_def_cfa_offset 32
 577              		.cfi_offset 4, -32
 578              		.cfi_offset 5, -28
 579              		.cfi_offset 6, -24
 580              		.cfi_offset 7, -20
 581              		.cfi_offset 8, -16
 582              		.cfi_offset 9, -12
 583              		.cfi_offset 10, -8
 584              		.cfi_offset 14, -4
 585 0004 82B0     		sub	sp, sp, #8
 586              	.LCFI7:
 587              		.cfi_def_cfa_offset 40
 588 0006 8946     		mov	r9, r1
 589 0008 9246     		mov	r10, r2
 590 000a 9846     		mov	r8, r3
 591 000c 0B9D     		ldr	r5, [sp, #44]
 592              	.LVL68:
1108:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   struct pbuf *p;
1109:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   err_t result = ERR_OK;
1110:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   struct etharp_hdr *hdr;
1111:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** 
1112:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   LWIP_ASSERT("netif != NULL", netif != NULL);
 593              		.loc 1 1112 0
 594 000e 0746     		mov	r7, r0
 595 0010 0028     		cmp	r0, #0
 596 0012 48D0     		beq	.L56
 597              	.LVL69:
 598              	.L50:
1113:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** 
1114:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   /* allocate a pbuf for the outgoing ARP request packet */
1115:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   p = pbuf_alloc(PBUF_LINK, SIZEOF_ETHARP_HDR, PBUF_RAM);
 599              		.loc 1 1115 0
 600 0014 0022     		movs	r2, #0
 601 0016 1C21     		movs	r1, #28
 602 0018 0220     		movs	r0, #2
 603 001a FFF7FEFF 		bl	pbuf_alloc
 604              	.LVL70:
1116:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   /* could allocate a pbuf for an ARP request? */
1117:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   if (p == NULL) {
 605              		.loc 1 1117 0
 606 001e 0646     		mov	r6, r0
 607 0020 0028     		cmp	r0, #0
 608 0022 50D0     		beq	.L54
1118:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     LWIP_DEBUGF(ETHARP_DEBUG | LWIP_DBG_TRACE | LWIP_DBG_LEVEL_SERIOUS,
1119:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****       ("etharp_raw: could not allocate pbuf for ARP request.\n"));
1120:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     ETHARP_STATS_INC(etharp.memerr);
1121:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     return ERR_MEM;
1122:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   }
1123:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   LWIP_ASSERT("check that first pbuf can hold struct etharp_hdr",
 609              		.loc 1 1123 0
 610 0024 4389     		ldrh	r3, [r0, #10]
 611 0026 1B2B     		cmp	r3, #27
 612 0028 45D9     		bls	.L57
 613              	.LVL71:
 614              	.L52:
ARM GAS  /tmp/ccUSpX0e.s 			page 32


1124:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****               (p->len >= SIZEOF_ETHARP_HDR));
1125:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** 
1126:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   hdr = (struct etharp_hdr *)p->payload;
 615              		.loc 1 1126 0
 616 002a 7468     		ldr	r4, [r6, #4]
 617              	.LVL72:
1127:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   LWIP_DEBUGF(ETHARP_DEBUG | LWIP_DBG_TRACE, ("etharp_raw: sending raw ARP packet.\n"));
1128:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   hdr->opcode = lwip_htons(opcode);
 618              		.loc 1 1128 0
 619 002c BDF83400 		ldrh	r0, [sp, #52]
 620 0030 FFF7FEFF 		bl	lwip_htons
 621              	.LVL73:
 622 0034 E080     		strh	r0, [r4, #6]	@ unaligned
1129:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** 
1130:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   LWIP_ASSERT("netif->hwaddr_len must be the same as ETH_HWADDR_LEN for etharp!",
 623              		.loc 1 1130 0
 624 0036 97F82430 		ldrb	r3, [r7, #36]	@ zero_extendqisi2
 625 003a 062B     		cmp	r3, #6
 626 003c 06D0     		beq	.L53
 627              		.loc 1 1130 0 is_stmt 0 discriminator 1
 628 003e 234B     		ldr	r3, .L58
 629 0040 40F26B42 		movw	r2, #1131
 630 0044 2249     		ldr	r1, .L58+4
 631 0046 2348     		ldr	r0, .L58+8
 632 0048 FFF7FEFF 		bl	printf
 633              	.LVL74:
 634              	.L53:
1131:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****               (netif->hwaddr_len == ETH_HWADDR_LEN));
1132:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** 
1133:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   /* Write the ARP MAC-Addresses */
1134:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   ETHADDR16_COPY(&hdr->shwaddr, hwsrc_addr);
 635              		.loc 1 1134 0 is_stmt 1
 636 004c D8F80030 		ldr	r3, [r8]	@ unaligned
 637 0050 A360     		str	r3, [r4, #8]	@ unaligned
 638 0052 B8F80430 		ldrh	r3, [r8, #4]	@ unaligned
 639 0056 A381     		strh	r3, [r4, #12]	@ unaligned
1135:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   ETHADDR16_COPY(&hdr->dhwaddr, hwdst_addr);
 640              		.loc 1 1135 0
 641 0058 2B68     		ldr	r3, [r5]	@ unaligned
 642 005a C4F81230 		str	r3, [r4, #18]	@ unaligned
 643 005e AB88     		ldrh	r3, [r5, #4]	@ unaligned
 644 0060 E382     		strh	r3, [r4, #22]	@ unaligned
1136:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   /* Copy struct ip4_addr2 to aligned ip4_addr, to support compilers without
1137:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****    * structure packing. */
1138:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   IPADDR2_COPY(&hdr->sipaddr, ipsrc_addr);
 645              		.loc 1 1138 0
 646 0062 0A9B     		ldr	r3, [sp, #40]
 647 0064 1B68     		ldr	r3, [r3]	@ unaligned
 648 0066 C4F80E30 		str	r3, [r4, #14]	@ unaligned
1139:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   IPADDR2_COPY(&hdr->dipaddr, ipdst_addr);
 649              		.loc 1 1139 0
 650 006a 0C9B     		ldr	r3, [sp, #48]
 651 006c 1B68     		ldr	r3, [r3]	@ unaligned
 652 006e A361     		str	r3, [r4, #24]	@ unaligned
1140:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** 
1141:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   hdr->hwtype = PP_HTONS(HWTYPE_ETHERNET);
 653              		.loc 1 1141 0
ARM GAS  /tmp/ccUSpX0e.s 			page 33


 654 0070 0025     		movs	r5, #0
 655 0072 2570     		strb	r5, [r4]
 656 0074 0123     		movs	r3, #1
 657 0076 6370     		strb	r3, [r4, #1]
1142:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   hdr->proto = PP_HTONS(ETHTYPE_IP);
 658              		.loc 1 1142 0
 659 0078 0823     		movs	r3, #8
 660 007a A370     		strb	r3, [r4, #2]
 661 007c E570     		strb	r5, [r4, #3]
1143:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   /* set hwlen and protolen */
1144:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   hdr->hwlen = ETH_HWADDR_LEN;
 662              		.loc 1 1144 0
 663 007e 0623     		movs	r3, #6
 664 0080 2371     		strb	r3, [r4, #4]
1145:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   hdr->protolen = sizeof(ip4_addr_t);
 665              		.loc 1 1145 0
 666 0082 0423     		movs	r3, #4
 667 0084 6371     		strb	r3, [r4, #5]
1146:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** 
1147:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   /* send ARP query */
1148:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** #if LWIP_AUTOIP
1149:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   /* If we are using Link-Local, all ARP packets that contain a Link-Local
1150:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****    * 'sender IP address' MUST be sent using link-layer broadcast instead of
1151:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****    * link-layer unicast. (See RFC3927 Section 2.5, last paragraph) */
1152:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   if(ip4_addr_islinklocal(ipsrc_addr)) {
1153:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     ethernet_output(netif, p, ethsrc_addr, &ethbroadcast, ETHTYPE_ARP);
1154:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   } else
1155:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** #endif /* LWIP_AUTOIP */
1156:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   {
1157:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     ethernet_output(netif, p, ethsrc_addr, ethdst_addr, ETHTYPE_ARP);
 668              		.loc 1 1157 0
 669 0086 40F60603 		movw	r3, #2054
 670 008a 0093     		str	r3, [sp]
 671 008c 5346     		mov	r3, r10
 672 008e 4A46     		mov	r2, r9
 673 0090 3146     		mov	r1, r6
 674 0092 3846     		mov	r0, r7
 675 0094 FFF7FEFF 		bl	ethernet_output
 676              	.LVL75:
1158:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   }
1159:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** 
1160:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   ETHARP_STATS_INC(etharp.xmit);
1161:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   /* free ARP query packet */
1162:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   pbuf_free(p);
 677              		.loc 1 1162 0
 678 0098 3046     		mov	r0, r6
 679 009a FFF7FEFF 		bl	pbuf_free
 680              	.LVL76:
1163:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   p = NULL;
1164:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   /* could not allocate pbuf for ARP request */
1165:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** 
1166:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   return result;
 681              		.loc 1 1166 0
 682 009e 2846     		mov	r0, r5
 683              	.LVL77:
 684              	.L51:
1167:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** }
ARM GAS  /tmp/ccUSpX0e.s 			page 34


 685              		.loc 1 1167 0
 686 00a0 02B0     		add	sp, sp, #8
 687              	.LCFI8:
 688              		.cfi_remember_state
 689              		.cfi_def_cfa_offset 32
 690              		@ sp needed
 691 00a2 BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 692              	.LVL78:
 693              	.L56:
 694              	.LCFI9:
 695              		.cfi_restore_state
1112:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** 
 696              		.loc 1 1112 0 discriminator 1
 697 00a6 094B     		ldr	r3, .L58
 698              	.LVL79:
 699 00a8 4FF48B62 		mov	r2, #1112
 700              	.LVL80:
 701 00ac 0A49     		ldr	r1, .L58+12
 702              	.LVL81:
 703 00ae 0948     		ldr	r0, .L58+8
 704              	.LVL82:
 705 00b0 FFF7FEFF 		bl	printf
 706              	.LVL83:
 707 00b4 AEE7     		b	.L50
 708              	.LVL84:
 709              	.L57:
1123:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****               (p->len >= SIZEOF_ETHARP_HDR));
 710              		.loc 1 1123 0 discriminator 1
 711 00b6 054B     		ldr	r3, .L58
 712 00b8 40F26442 		movw	r2, #1124
 713 00bc 0749     		ldr	r1, .L58+16
 714 00be 0548     		ldr	r0, .L58+8
 715              	.LVL85:
 716 00c0 FFF7FEFF 		bl	printf
 717              	.LVL86:
 718 00c4 B1E7     		b	.L52
 719              	.LVL87:
 720              	.L54:
1121:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   }
 721              		.loc 1 1121 0
 722 00c6 4FF0FF30 		mov	r0, #-1
 723              	.LVL88:
 724 00ca E9E7     		b	.L51
 725              	.L59:
 726              		.align	2
 727              	.L58:
 728 00cc 00000000 		.word	.LC0
 729 00d0 44000000 		.word	.LC8
 730 00d4 4C000000 		.word	.LC2
 731 00d8 00000000 		.word	.LC6
 732 00dc 10000000 		.word	.LC7
 733              		.cfi_endproc
 734              	.LFE169:
 736              		.section	.text.etharp_request_dst,"ax",%progbits
 737              		.align	1
 738              		.syntax unified
 739              		.thumb
ARM GAS  /tmp/ccUSpX0e.s 			page 35


 740              		.thumb_func
 741              		.fpu fpv5-d16
 743              	etharp_request_dst:
 744              	.LFB170:
1168:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** 
1169:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** /**
1170:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  * Send an ARP request packet asking for ipaddr to a specific eth address.
1171:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  * Used to send unicast request to refresh the ARP table just before an entry
1172:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  * times out
1173:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  *
1174:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  * @param netif the lwip network interface on which to send the request
1175:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  * @param ipaddr the IP address for which to ask
1176:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  * @param hw_dst_addr the ethernet address to send this packet to
1177:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  * @return ERR_OK if the request has been sent
1178:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  *         ERR_MEM if the ARP packet couldn't be allocated
1179:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  *         any other err_t on failure
1180:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  */
1181:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** static err_t
1182:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** etharp_request_dst(struct netif *netif, const ip4_addr_t *ipaddr, const struct eth_addr* hw_dst_add
1183:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** {
 745              		.loc 1 1183 0
 746              		.cfi_startproc
 747              		@ args = 0, pretend = 0, frame = 0
 748              		@ frame_needed = 0, uses_anonymous_args = 0
 749              	.LVL89:
 750 0000 30B5     		push	{r4, r5, lr}
 751              	.LCFI10:
 752              		.cfi_def_cfa_offset 12
 753              		.cfi_offset 4, -12
 754              		.cfi_offset 5, -8
 755              		.cfi_offset 14, -4
 756 0002 85B0     		sub	sp, sp, #20
 757              	.LCFI11:
 758              		.cfi_def_cfa_offset 32
 759 0004 0346     		mov	r3, r0
1184:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   return etharp_raw(netif, (struct eth_addr *)netif->hwaddr, hw_dst_addr,
 760              		.loc 1 1184 0
 761 0006 00F12504 		add	r4, r0, #37
1185:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****                     (struct eth_addr *)netif->hwaddr, netif_ip4_addr(netif), &ethzero,
 762              		.loc 1 1185 0
 763 000a 0433     		adds	r3, r3, #4
1184:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   return etharp_raw(netif, (struct eth_addr *)netif->hwaddr, hw_dst_addr,
 764              		.loc 1 1184 0
 765 000c 0125     		movs	r5, #1
 766 000e 0395     		str	r5, [sp, #12]
 767 0010 0291     		str	r1, [sp, #8]
 768 0012 0449     		ldr	r1, .L62
 769              	.LVL90:
 770 0014 0191     		str	r1, [sp, #4]
 771 0016 0093     		str	r3, [sp]
 772 0018 2346     		mov	r3, r4
 773 001a 2146     		mov	r1, r4
 774 001c FFF7FEFF 		bl	etharp_raw
 775              	.LVL91:
1186:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****                     ipaddr, ARP_REQUEST);
1187:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** }
 776              		.loc 1 1187 0
ARM GAS  /tmp/ccUSpX0e.s 			page 36


 777 0020 05B0     		add	sp, sp, #20
 778              	.LCFI12:
 779              		.cfi_def_cfa_offset 12
 780              		@ sp needed
 781 0022 30BD     		pop	{r4, r5, pc}
 782              	.LVL92:
 783              	.L63:
 784              		.align	2
 785              	.L62:
 786 0024 00000000 		.word	ethzero
 787              		.cfi_endproc
 788              	.LFE170:
 790              		.section	.text.etharp_cleanup_netif,"ax",%progbits
 791              		.align	1
 792              		.global	etharp_cleanup_netif
 793              		.syntax unified
 794              		.thumb
 795              		.thumb_func
 796              		.fpu fpv5-d16
 798              	etharp_cleanup_netif:
 799              	.LFB162:
 560:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   u8_t i;
 800              		.loc 1 560 0
 801              		.cfi_startproc
 802              		@ args = 0, pretend = 0, frame = 0
 803              		@ frame_needed = 0, uses_anonymous_args = 0
 804              	.LVL93:
 805 0000 38B5     		push	{r3, r4, r5, lr}
 806              	.LCFI13:
 807              		.cfi_def_cfa_offset 16
 808              		.cfi_offset 3, -16
 809              		.cfi_offset 4, -12
 810              		.cfi_offset 5, -8
 811              		.cfi_offset 14, -4
 812 0002 0546     		mov	r5, r0
 813              	.LVL94:
 563:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     u8_t state = arp_table[i].state;
 814              		.loc 1 563 0
 815 0004 0024     		movs	r4, #0
 816 0006 01E0     		b	.L65
 817              	.LVL95:
 818              	.L66:
 563:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     u8_t state = arp_table[i].state;
 819              		.loc 1 563 0 is_stmt 0 discriminator 2
 820 0008 0134     		adds	r4, r4, #1
 821              	.LVL96:
 822 000a E4B2     		uxtb	r4, r4
 823              	.LVL97:
 824              	.L65:
 563:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     u8_t state = arp_table[i].state;
 825              		.loc 1 563 0 discriminator 1
 826 000c 092C     		cmp	r4, #9
 827 000e 10D8     		bhi	.L69
 828              	.LBB5:
 564:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     if ((state != ETHARP_STATE_EMPTY) && (arp_table[i].netif == netif)) {
 829              		.loc 1 564 0 is_stmt 1
 830 0010 2046     		mov	r0, r4
ARM GAS  /tmp/ccUSpX0e.s 			page 37


 831 0012 04EB4403 		add	r3, r4, r4, lsl #1
 832 0016 DA00     		lsls	r2, r3, #3
 833 0018 064B     		ldr	r3, .L70
 834 001a 1344     		add	r3, r3, r2
 835 001c 1B7D     		ldrb	r3, [r3, #20]	@ zero_extendqisi2
 836              	.LVL98:
 565:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****       etharp_free_entry(i);
 837              		.loc 1 565 0
 838 001e 002B     		cmp	r3, #0
 839 0020 F2D0     		beq	.L66
 565:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****       etharp_free_entry(i);
 840              		.loc 1 565 0 is_stmt 0 discriminator 1
 841 0022 044B     		ldr	r3, .L70
 842              	.LVL99:
 843 0024 1344     		add	r3, r3, r2
 844              	.LVL100:
 845 0026 9B68     		ldr	r3, [r3, #8]
 846              	.LVL101:
 847 0028 AB42     		cmp	r3, r5
 848 002a EDD1     		bne	.L66
 566:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     }
 849              		.loc 1 566 0 is_stmt 1
 850 002c FFF7FEFF 		bl	etharp_free_entry
 851              	.LVL102:
 852 0030 EAE7     		b	.L66
 853              	.L69:
 854              	.LBE5:
 569:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** 
 855              		.loc 1 569 0
 856 0032 38BD     		pop	{r3, r4, r5, pc}
 857              	.LVL103:
 858              	.L71:
 859              		.align	2
 860              	.L70:
 861 0034 00000000 		.word	.LANCHOR0
 862              		.cfi_endproc
 863              	.LFE162:
 865              		.section	.text.etharp_find_addr,"ax",%progbits
 866              		.align	1
 867              		.global	etharp_find_addr
 868              		.syntax unified
 869              		.thumb
 870              		.thumb_func
 871              		.fpu fpv5-d16
 873              	etharp_find_addr:
 874              	.LFB163:
 585:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   s8_t i;
 875              		.loc 1 585 0
 876              		.cfi_startproc
 877              		@ args = 0, pretend = 0, frame = 0
 878              		@ frame_needed = 0, uses_anonymous_args = 0
 879              	.LVL104:
 880 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 881              	.LCFI14:
 882              		.cfi_def_cfa_offset 24
 883              		.cfi_offset 3, -24
 884              		.cfi_offset 4, -20
ARM GAS  /tmp/ccUSpX0e.s 			page 38


 885              		.cfi_offset 5, -16
 886              		.cfi_offset 6, -12
 887              		.cfi_offset 7, -8
 888              		.cfi_offset 14, -4
 889 0002 0746     		mov	r7, r0
 890 0004 0E46     		mov	r6, r1
 588:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     eth_ret != NULL && ip_ret != NULL);
 891              		.loc 1 588 0
 892 0006 1546     		mov	r5, r2
 893 0008 1C46     		mov	r4, r3
 894 000a 002B     		cmp	r3, #0
 895 000c 18BF     		it	ne
 896 000e 002A     		cmpne	r2, #0
 897 0010 1BD0     		beq	.L78
 898              	.LVL105:
 899              	.L73:
 593:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   if ((i >= 0) && (arp_table[i].state >= ETHARP_STATE_STABLE)) {
 900              		.loc 1 593 0
 901 0012 3A46     		mov	r2, r7
 902 0014 0221     		movs	r1, #2
 903 0016 3046     		mov	r0, r6
 904 0018 FFF7FEFF 		bl	etharp_find_entry
 905              	.LVL106:
 594:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****       *eth_ret = &arp_table[i].ethaddr;
 906              		.loc 1 594 0
 907 001c 0028     		cmp	r0, #0
 908              	.LVL107:
 909 001e 1CDB     		blt	.L75
 594:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****       *eth_ret = &arp_table[i].ethaddr;
 910              		.loc 1 594 0 is_stmt 0 discriminator 1
 911 0020 00EB4003 		add	r3, r0, r0, lsl #1
 912 0024 DA00     		lsls	r2, r3, #3
 913 0026 104B     		ldr	r3, .L79
 914 0028 1344     		add	r3, r3, r2
 915 002a 1B7D     		ldrb	r3, [r3, #20]	@ zero_extendqisi2
 916 002c 012B     		cmp	r3, #1
 917 002e 17D9     		bls	.L76
 595:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****       *ip_ret = &arp_table[i].ipaddr;
 918              		.loc 1 595 0 is_stmt 1
 919 0030 0D4A     		ldr	r2, .L79
 920 0032 4100     		lsls	r1, r0, #1
 921 0034 0E18     		adds	r6, r1, r0
 922              	.LVL108:
 923 0036 F300     		lsls	r3, r6, #3
 924 0038 1E46     		mov	r6, r3
 925 003a 0833     		adds	r3, r3, #8
 926 003c 1344     		add	r3, r3, r2
 927 003e 0433     		adds	r3, r3, #4
 928 0040 2B60     		str	r3, [r5]
 596:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****       return i;
 929              		.loc 1 596 0
 930 0042 3244     		add	r2, r2, r6
 931 0044 0432     		adds	r2, r2, #4
 932 0046 2260     		str	r2, [r4]
 597:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   }
 933              		.loc 1 597 0
 934 0048 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
ARM GAS  /tmp/ccUSpX0e.s 			page 39


 935              	.LVL109:
 936              	.L78:
 588:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     eth_ret != NULL && ip_ret != NULL);
 937              		.loc 1 588 0 discriminator 1
 938 004a 084B     		ldr	r3, .L79+4
 939              	.LVL110:
 940 004c 40F24D22 		movw	r2, #589
 941              	.LVL111:
 942 0050 0749     		ldr	r1, .L79+8
 943              	.LVL112:
 944 0052 0848     		ldr	r0, .L79+12
 945              	.LVL113:
 946 0054 FFF7FEFF 		bl	printf
 947              	.LVL114:
 948 0058 DBE7     		b	.L73
 949              	.L75:
 599:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** }
 950              		.loc 1 599 0
 951 005a 4FF0FF30 		mov	r0, #-1
 952 005e F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 953              	.LVL115:
 954              	.L76:
 955 0060 4FF0FF30 		mov	r0, #-1
 600:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** 
 956              		.loc 1 600 0
 957 0064 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 958              	.LVL116:
 959              	.L80:
 960 0066 00BF     		.align	2
 961              	.L79:
 962 0068 00000000 		.word	.LANCHOR0
 963 006c 00000000 		.word	.LC0
 964 0070 00000000 		.word	.LC9
 965 0074 4C000000 		.word	.LC2
 966              		.cfi_endproc
 967              	.LFE163:
 969              		.section	.text.etharp_get_entry,"ax",%progbits
 970              		.align	1
 971              		.global	etharp_get_entry
 972              		.syntax unified
 973              		.thumb
 974              		.thumb_func
 975              		.fpu fpv5-d16
 977              	etharp_get_entry:
 978              	.LFB164:
 613:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   LWIP_ASSERT("ipaddr != NULL", ipaddr != NULL);
 979              		.loc 1 613 0
 980              		.cfi_startproc
 981              		@ args = 0, pretend = 0, frame = 0
 982              		@ frame_needed = 0, uses_anonymous_args = 0
 983              	.LVL117:
 984 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 985              	.LCFI15:
 986              		.cfi_def_cfa_offset 24
 987              		.cfi_offset 3, -24
 988              		.cfi_offset 4, -20
 989              		.cfi_offset 5, -16
ARM GAS  /tmp/ccUSpX0e.s 			page 40


 990              		.cfi_offset 6, -12
 991              		.cfi_offset 7, -8
 992              		.cfi_offset 14, -4
 993 0002 0446     		mov	r4, r0
 994 0004 1646     		mov	r6, r2
 995 0006 1D46     		mov	r5, r3
 614:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   LWIP_ASSERT("netif != NULL", netif != NULL);
 996              		.loc 1 614 0
 997 0008 0F46     		mov	r7, r1
 998 000a E1B1     		cbz	r1, .L89
 999              	.LVL118:
 1000              	.L82:
 615:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   LWIP_ASSERT("eth_ret != NULL", eth_ret != NULL);
 1001              		.loc 1 615 0
 1002 000c 1EB3     		cbz	r6, .L90
 1003              	.L83:
 616:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** 
 1004              		.loc 1 616 0
 1005 000e 55B3     		cbz	r5, .L91
 1006              	.L84:
 618:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     *ipaddr  = &arp_table[i].ipaddr;
 1007              		.loc 1 618 0
 1008 0010 092C     		cmp	r4, #9
 1009 0012 30D8     		bhi	.L86
 618:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     *ipaddr  = &arp_table[i].ipaddr;
 1010              		.loc 1 618 0 is_stmt 0 discriminator 1
 1011 0014 04EB4403 		add	r3, r4, r4, lsl #1
 1012 0018 DA00     		lsls	r2, r3, #3
 1013 001a 194B     		ldr	r3, .L92
 1014 001c 1344     		add	r3, r3, r2
 1015 001e 1B7D     		ldrb	r3, [r3, #20]	@ zero_extendqisi2
 1016 0020 012B     		cmp	r3, #1
 1017 0022 2AD9     		bls	.L87
 619:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     *netif   = arp_table[i].netif;
 1018              		.loc 1 619 0 is_stmt 1
 1019 0024 164B     		ldr	r3, .L92
 1020 0026 6200     		lsls	r2, r4, #1
 1021 0028 1019     		adds	r0, r2, r4
 1022 002a C100     		lsls	r1, r0, #3
 1023 002c 1944     		add	r1, r1, r3
 1024 002e 081D     		adds	r0, r1, #4
 1025 0030 3860     		str	r0, [r7]
 620:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     *eth_ret = &arp_table[i].ethaddr;
 1026              		.loc 1 620 0
 1027 0032 8968     		ldr	r1, [r1, #8]
 1028 0034 3160     		str	r1, [r6]
 621:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     return 1;
 1029              		.loc 1 621 0
 1030 0036 1444     		add	r4, r4, r2
 1031 0038 E200     		lsls	r2, r4, #3
 1032 003a 0832     		adds	r2, r2, #8
 1033 003c 1344     		add	r3, r3, r2
 1034 003e 0433     		adds	r3, r3, #4
 1035 0040 2B60     		str	r3, [r5]
 622:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   } else {
 1036              		.loc 1 622 0
 1037 0042 0120     		movs	r0, #1
ARM GAS  /tmp/ccUSpX0e.s 			page 41


 1038 0044 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 1039              	.LVL119:
 1040              	.L89:
 614:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   LWIP_ASSERT("netif != NULL", netif != NULL);
 1041              		.loc 1 614 0 discriminator 1
 1042 0046 0F4B     		ldr	r3, .L92+4
 1043              	.LVL120:
 1044 0048 40F26622 		movw	r2, #614
 1045              	.LVL121:
 1046 004c 0E49     		ldr	r1, .L92+8
 1047              	.LVL122:
 1048 004e 0F48     		ldr	r0, .L92+12
 1049              	.LVL123:
 1050 0050 FFF7FEFF 		bl	printf
 1051              	.LVL124:
 1052 0054 DAE7     		b	.L82
 1053              	.L90:
 615:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   LWIP_ASSERT("eth_ret != NULL", eth_ret != NULL);
 1054              		.loc 1 615 0 discriminator 1
 1055 0056 0B4B     		ldr	r3, .L92+4
 1056 0058 40F26722 		movw	r2, #615
 1057 005c 0C49     		ldr	r1, .L92+16
 1058 005e 0B48     		ldr	r0, .L92+12
 1059 0060 FFF7FEFF 		bl	printf
 1060              	.LVL125:
 1061 0064 D3E7     		b	.L83
 1062              	.L91:
 616:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** 
 1063              		.loc 1 616 0 discriminator 1
 1064 0066 074B     		ldr	r3, .L92+4
 1065 0068 4FF41A72 		mov	r2, #616
 1066 006c 0949     		ldr	r1, .L92+20
 1067 006e 0748     		ldr	r0, .L92+12
 1068 0070 FFF7FEFF 		bl	printf
 1069              	.LVL126:
 1070 0074 CCE7     		b	.L84
 1071              	.L86:
 624:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   }
 1072              		.loc 1 624 0
 1073 0076 0020     		movs	r0, #0
 1074 0078 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 1075              	.LVL127:
 1076              	.L87:
 1077 007a 0020     		movs	r0, #0
 626:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** 
 1078              		.loc 1 626 0
 1079 007c F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 1080              	.LVL128:
 1081              	.L93:
 1082 007e 00BF     		.align	2
 1083              	.L92:
 1084 0080 00000000 		.word	.LANCHOR0
 1085 0084 00000000 		.word	.LC0
 1086 0088 00000000 		.word	.LC10
 1087 008c 4C000000 		.word	.LC2
 1088 0090 00000000 		.word	.LC6
 1089 0094 10000000 		.word	.LC11
ARM GAS  /tmp/ccUSpX0e.s 			page 42


 1090              		.cfi_endproc
 1091              	.LFE164:
 1093              		.section	.text.etharp_input,"ax",%progbits
 1094              		.align	1
 1095              		.global	etharp_input
 1096              		.syntax unified
 1097              		.thumb
 1098              		.thumb_func
 1099              		.fpu fpv5-d16
 1101              	etharp_input:
 1102              	.LFB165:
 642:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   struct etharp_hdr *hdr;
 1103              		.loc 1 642 0
 1104              		.cfi_startproc
 1105              		@ args = 0, pretend = 0, frame = 8
 1106              		@ frame_needed = 0, uses_anonymous_args = 0
 1107              	.LVL129:
 1108 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 1109              	.LCFI16:
 1110              		.cfi_def_cfa_offset 24
 1111              		.cfi_offset 4, -24
 1112              		.cfi_offset 5, -20
 1113              		.cfi_offset 6, -16
 1114              		.cfi_offset 7, -12
 1115              		.cfi_offset 8, -8
 1116              		.cfi_offset 14, -4
 1117 0004 86B0     		sub	sp, sp, #24
 1118              	.LCFI17:
 1119              		.cfi_def_cfa_offset 48
 648:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** 
 1120              		.loc 1 648 0
 1121 0006 61B1     		cbz	r1, .L107
 1122 0008 0446     		mov	r4, r0
 1123 000a 0E46     		mov	r6, r1
 650:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** 
 1124              		.loc 1 650 0
 1125 000c 4568     		ldr	r5, [r0, #4]
 1126              	.LVL130:
 653:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****       (hdr->hwlen != ETH_HWADDR_LEN) ||
 1127              		.loc 1 653 0
 1128 000e 2B88     		ldrh	r3, [r5]	@ unaligned
 1129 0010 B3F5807F 		cmp	r3, #256
 1130 0014 0DD0     		beq	.L108
 1131              	.L97:
 662:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     return;
 1132              		.loc 1 662 0
 1133 0016 2046     		mov	r0, r4
 1134              	.LVL131:
 1135 0018 FFF7FEFF 		bl	pbuf_free
 1136              	.LVL132:
 1137              	.L94:
 740:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** 
 1138              		.loc 1 740 0
 1139 001c 06B0     		add	sp, sp, #24
 1140              	.LCFI18:
 1141              		.cfi_remember_state
 1142              		.cfi_def_cfa_offset 24
ARM GAS  /tmp/ccUSpX0e.s 			page 43


 1143              		@ sp needed
 1144 001e BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 1145              	.LVL133:
 1146              	.L107:
 1147              	.LCFI19:
 1148              		.cfi_restore_state
 648:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** 
 1149              		.loc 1 648 0 discriminator 1
 1150 0022 204B     		ldr	r3, .L110
 1151 0024 4FF42272 		mov	r2, #648
 1152 0028 1F49     		ldr	r1, .L110+4
 1153              	.LVL134:
 1154 002a 2048     		ldr	r0, .L110+8
 1155              	.LVL135:
 1156 002c FFF7FEFF 		bl	printf
 1157              	.LVL136:
 1158 0030 F4E7     		b	.L94
 1159              	.LVL137:
 1160              	.L108:
 654:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****       (hdr->protolen != sizeof(ip4_addr_t)) ||
 1161              		.loc 1 654 0 discriminator 1
 1162 0032 2B79     		ldrb	r3, [r5, #4]	@ zero_extendqisi2
 653:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****       (hdr->hwlen != ETH_HWADDR_LEN) ||
 1163              		.loc 1 653 0 discriminator 1
 1164 0034 062B     		cmp	r3, #6
 1165 0036 EED1     		bne	.L97
 655:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****       (hdr->proto != PP_HTONS(ETHTYPE_IP)))  {
 1166              		.loc 1 655 0
 1167 0038 6B79     		ldrb	r3, [r5, #5]	@ zero_extendqisi2
 654:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****       (hdr->protolen != sizeof(ip4_addr_t)) ||
 1168              		.loc 1 654 0
 1169 003a 042B     		cmp	r3, #4
 1170 003c EBD1     		bne	.L97
 656:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     LWIP_DEBUGF(ETHARP_DEBUG | LWIP_DBG_TRACE | LWIP_DBG_LEVEL_WARNING,
 1171              		.loc 1 656 0
 1172 003e 6B88     		ldrh	r3, [r5, #2]	@ unaligned
 655:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****       (hdr->proto != PP_HTONS(ETHTYPE_IP)))  {
 1173              		.loc 1 655 0
 1174 0040 082B     		cmp	r3, #8
 1175 0042 E8D1     		bne	.L97
 676:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   IPADDR2_COPY(&dipaddr, &hdr->dipaddr);
 1176              		.loc 1 676 0
 1177 0044 D5F80E30 		ldr	r3, [r5, #14]	@ unaligned
 1178 0048 0593     		str	r3, [sp, #20]
 677:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** 
 1179              		.loc 1 677 0
 1180 004a AF69     		ldr	r7, [r5, #24]	@ unaligned
 680:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     for_us = 0;
 1181              		.loc 1 680 0
 1182 004c 4B68     		ldr	r3, [r1, #4]
 1183 004e ABB1     		cbz	r3, .L104
 684:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   }
 1184              		.loc 1 684 0
 1185 0050 9F42     		cmp	r7, r3
 1186 0052 14BF     		ite	ne
 1187 0054 0027     		movne	r7, #0
 1188 0056 0127     		moveq	r7, #1
ARM GAS  /tmp/ccUSpX0e.s 			page 44


 1189              	.LVL138:
 1190              	.L99:
 692:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****                    for_us ? ETHARP_FLAG_TRY_HARD : ETHARP_FLAG_FIND_ONLY);
 1191              		.loc 1 692 0
 1192 0058 05F10808 		add	r8, r5, #8
 1193 005c 87B1     		cbz	r7, .L105
 1194 005e 0123     		movs	r3, #1
 1195              	.L100:
 692:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****                    for_us ? ETHARP_FLAG_TRY_HARD : ETHARP_FLAG_FIND_ONLY);
 1196              		.loc 1 692 0 is_stmt 0 discriminator 4
 1197 0060 4246     		mov	r2, r8
 1198 0062 05A9     		add	r1, sp, #20
 1199              	.LVL139:
 1200 0064 3046     		mov	r0, r6
 1201              	.LVL140:
 1202 0066 FFF7FEFF 		bl	etharp_update_arp_entry
 1203              	.LVL141:
 696:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   /* ARP request? */
 1204              		.loc 1 696 0 is_stmt 1 discriminator 4
 1205 006a EB88     		ldrh	r3, [r5, #6]	@ unaligned
 1206 006c B3F5807F 		cmp	r3, #256
 1207 0070 00D1     		bne	.L101
 705:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****       /* send ARP response */
 1208              		.loc 1 705 0
 1209 0072 3FB9     		cbnz	r7, .L109
 1210              	.L101:
 739:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** }
 1211              		.loc 1 739 0 discriminator 2
 1212 0074 2046     		mov	r0, r4
 1213 0076 FFF7FEFF 		bl	pbuf_free
 1214              	.LVL142:
 1215 007a CFE7     		b	.L94
 1216              	.LVL143:
 1217              	.L104:
 681:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   } else {
 1218              		.loc 1 681 0
 1219 007c 0027     		movs	r7, #0
 1220 007e EBE7     		b	.L99
 1221              	.LVL144:
 1222              	.L105:
 692:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****                    for_us ? ETHARP_FLAG_TRY_HARD : ETHARP_FLAG_FIND_ONLY);
 1223              		.loc 1 692 0
 1224 0080 0223     		movs	r3, #2
 1225 0082 EDE7     		b	.L100
 1226              	.LVL145:
 1227              	.L109:
 708:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****                  (struct eth_addr *)netif->hwaddr, netif_ip4_addr(netif),
 1228              		.loc 1 708 0
 1229 0084 06F12501 		add	r1, r6, #37
 709:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****                  &hdr->shwaddr, &sipaddr,
 1230              		.loc 1 709 0
 1231 0088 331D     		adds	r3, r6, #4
 707:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****                  (struct eth_addr *)netif->hwaddr, &hdr->shwaddr,
 1232              		.loc 1 707 0
 1233 008a 0222     		movs	r2, #2
 1234 008c 0392     		str	r2, [sp, #12]
 1235 008e 05AA     		add	r2, sp, #20
ARM GAS  /tmp/ccUSpX0e.s 			page 45


 1236 0090 0292     		str	r2, [sp, #8]
 1237 0092 CDF80480 		str	r8, [sp, #4]
 1238 0096 0093     		str	r3, [sp]
 1239 0098 0B46     		mov	r3, r1
 1240 009a 4246     		mov	r2, r8
 1241 009c 3046     		mov	r0, r6
 1242 009e FFF7FEFF 		bl	etharp_raw
 1243              	.LVL146:
 1244 00a2 E7E7     		b	.L101
 1245              	.L111:
 1246              		.align	2
 1247              	.L110:
 1248 00a4 00000000 		.word	.LC0
 1249 00a8 00000000 		.word	.LC6
 1250 00ac 4C000000 		.word	.LC2
 1251              		.cfi_endproc
 1252              	.LFE165:
 1254              		.section	.text.etharp_request,"ax",%progbits
 1255              		.align	1
 1256              		.global	etharp_request
 1257              		.syntax unified
 1258              		.thumb
 1259              		.thumb_func
 1260              		.fpu fpv5-d16
 1262              	etharp_request:
 1263              	.LFB171:
1188:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** 
1189:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** /**
1190:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  * Send an ARP request packet asking for ipaddr.
1191:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  *
1192:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  * @param netif the lwip network interface on which to send the request
1193:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  * @param ipaddr the IP address for which to ask
1194:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  * @return ERR_OK if the request has been sent
1195:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  *         ERR_MEM if the ARP packet couldn't be allocated
1196:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  *         any other err_t on failure
1197:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****  */
1198:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** err_t
1199:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** etharp_request(struct netif *netif, const ip4_addr_t *ipaddr)
1200:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** {
 1264              		.loc 1 1200 0
 1265              		.cfi_startproc
 1266              		@ args = 0, pretend = 0, frame = 0
 1267              		@ frame_needed = 0, uses_anonymous_args = 0
 1268              	.LVL147:
 1269 0000 08B5     		push	{r3, lr}
 1270              	.LCFI20:
 1271              		.cfi_def_cfa_offset 8
 1272              		.cfi_offset 3, -8
 1273              		.cfi_offset 14, -4
1201:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   LWIP_DEBUGF(ETHARP_DEBUG | LWIP_DBG_TRACE, ("etharp_request: sending ARP request.\n"));
1202:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   return etharp_request_dst(netif, ipaddr, &ethbroadcast);
 1274              		.loc 1 1202 0
 1275 0002 024A     		ldr	r2, .L114
 1276 0004 FFF7FEFF 		bl	etharp_request_dst
 1277              	.LVL148:
1203:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** }
 1278              		.loc 1 1203 0
ARM GAS  /tmp/ccUSpX0e.s 			page 46


 1279 0008 08BD     		pop	{r3, pc}
 1280              	.L115:
 1281 000a 00BF     		.align	2
 1282              	.L114:
 1283 000c 00000000 		.word	ethbroadcast
 1284              		.cfi_endproc
 1285              	.LFE171:
 1287              		.section	.text.etharp_tmr,"ax",%progbits
 1288              		.align	1
 1289              		.global	etharp_tmr
 1290              		.syntax unified
 1291              		.thumb
 1292              		.thumb_func
 1293              		.fpu fpv5-d16
 1295              	etharp_tmr:
 1296              	.LFB159:
 200:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   u8_t i;
 1297              		.loc 1 200 0
 1298              		.cfi_startproc
 1299              		@ args = 0, pretend = 0, frame = 0
 1300              		@ frame_needed = 0, uses_anonymous_args = 0
 1301 0000 38B5     		push	{r3, r4, r5, lr}
 1302              	.LCFI21:
 1303              		.cfi_def_cfa_offset 16
 1304              		.cfi_offset 3, -16
 1305              		.cfi_offset 4, -12
 1306              		.cfi_offset 5, -8
 1307              		.cfi_offset 14, -4
 1308              	.LVL149:
 205:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     u8_t state = arp_table[i].state;
 1309              		.loc 1 205 0
 1310 0002 0024     		movs	r4, #0
 1311 0004 05E0     		b	.L117
 1312              	.LVL150:
 1313              	.L126:
 1314              	.LBB6:
 214:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****            (arp_table[i].ctime >= ARP_MAXPENDING))) {
 1315              		.loc 1 214 0
 1316 0006 042B     		cmp	r3, #4
 1317 0008 1DD9     		bls	.L120
 1318              	.LVL151:
 1319              	.L119:
 220:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****       } else if (arp_table[i].state == ETHARP_STATE_STABLE_REREQUESTING_1) {
 1320              		.loc 1 220 0
 1321 000a FFF7FEFF 		bl	etharp_free_entry
 1322              	.LVL152:
 1323              	.L118:
 1324              	.LBE6:
 205:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     u8_t state = arp_table[i].state;
 1325              		.loc 1 205 0 discriminator 2
 1326 000e 0134     		adds	r4, r4, #1
 1327              	.LVL153:
 1328 0010 E4B2     		uxtb	r4, r4
 1329              	.LVL154:
 1330              	.L117:
 205:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     u8_t state = arp_table[i].state;
 1331              		.loc 1 205 0 is_stmt 0 discriminator 1
ARM GAS  /tmp/ccUSpX0e.s 			page 47


 1332 0012 092C     		cmp	r4, #9
 1333 0014 38D8     		bhi	.L125
 1334              	.LBB7:
 206:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     if (state != ETHARP_STATE_EMPTY
 1335              		.loc 1 206 0 is_stmt 1
 1336 0016 2046     		mov	r0, r4
 1337 0018 04EB4403 		add	r3, r4, r4, lsl #1
 1338 001c DA00     		lsls	r2, r3, #3
 1339 001e 1B4B     		ldr	r3, .L129
 1340 0020 1344     		add	r3, r3, r2
 1341 0022 1B7D     		ldrb	r3, [r3, #20]	@ zero_extendqisi2
 1342              	.LVL155:
 207:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** #if ETHARP_SUPPORT_STATIC_ENTRIES
 1343              		.loc 1 207 0
 1344 0024 002B     		cmp	r3, #0
 1345 0026 F2D0     		beq	.L118
 212:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****       if ((arp_table[i].ctime >= ARP_MAXAGE) ||
 1346              		.loc 1 212 0
 1347 0028 1146     		mov	r1, r2
 1348 002a 184A     		ldr	r2, .L129
 1349 002c 0A44     		add	r2, r2, r1
 1350 002e 538A     		ldrh	r3, [r2, #18]
 1351              	.LVL156:
 1352 0030 0133     		adds	r3, r3, #1
 1353 0032 9BB2     		uxth	r3, r3
 1354 0034 5382     		strh	r3, [r2, #18]	@ movhi
 213:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****           ((arp_table[i].state == ETHARP_STATE_PENDING)  &&
 1355              		.loc 1 213 0
 1356 0036 B3F5967F 		cmp	r3, #300
 1357 003a E6D2     		bcs	.L119
 214:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****            (arp_table[i].ctime >= ARP_MAXPENDING))) {
 1358              		.loc 1 214 0 discriminator 1
 1359 003c 134A     		ldr	r2, .L129
 1360              	.LVL157:
 1361 003e 0A44     		add	r2, r2, r1
 1362              	.LVL158:
 1363 0040 127D     		ldrb	r2, [r2, #20]	@ zero_extendqisi2
 1364              	.LVL159:
 213:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****           ((arp_table[i].state == ETHARP_STATE_PENDING)  &&
 1365              		.loc 1 213 0 discriminator 1
 1366 0042 012A     		cmp	r2, #1
 1367 0044 DFD0     		beq	.L126
 1368              	.L120:
 221:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****         /* Don't send more than one request every 2 seconds. */
 1369              		.loc 1 221 0
 1370 0046 032A     		cmp	r2, #3
 1371 0048 0ED0     		beq	.L127
 224:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****         /* Reset state to stable, so that the next transmitted packet will
 1372              		.loc 1 224 0
 1373 004a 042A     		cmp	r2, #4
 1374 004c 14D0     		beq	.L128
 228:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****         /* still pending, resend an ARP query */
 1375              		.loc 1 228 0
 1376 004e 012A     		cmp	r2, #1
 1377 0050 DDD1     		bne	.L118
 230:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****       }
 1378              		.loc 1 230 0
ARM GAS  /tmp/ccUSpX0e.s 			page 48


 1379 0052 0E4A     		ldr	r2, .L129
 1380              	.LVL160:
 1381 0054 4300     		lsls	r3, r0, #1
 1382 0056 1D18     		adds	r5, r3, r0
 1383 0058 E900     		lsls	r1, r5, #3
 1384              	.LVL161:
 1385 005a 1144     		add	r1, r1, r2
 1386 005c 0A46     		mov	r2, r1
 1387              	.LVL162:
 1388 005e 0431     		adds	r1, r1, #4
 1389 0060 9068     		ldr	r0, [r2, #8]
 1390              	.LVL163:
 1391 0062 FFF7FEFF 		bl	etharp_request
 1392              	.LVL164:
 1393 0066 D2E7     		b	.L118
 1394              	.LVL165:
 1395              	.L127:
 223:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****       } else if (arp_table[i].state == ETHARP_STATE_STABLE_REREQUESTING_2) {
 1396              		.loc 1 223 0
 1397 0068 00EB4000 		add	r0, r0, r0, lsl #1
 1398 006c C200     		lsls	r2, r0, #3
 1399              	.LVL166:
 1400 006e 074B     		ldr	r3, .L129
 1401              	.LVL167:
 1402 0070 1344     		add	r3, r3, r2
 1403              	.LVL168:
 1404 0072 0422     		movs	r2, #4
 1405 0074 1A75     		strb	r2, [r3, #20]
 1406              	.LVL169:
 1407 0076 CAE7     		b	.L118
 1408              	.LVL170:
 1409              	.L128:
 227:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****       } else if (arp_table[i].state == ETHARP_STATE_PENDING) {
 1410              		.loc 1 227 0
 1411 0078 00EB4000 		add	r0, r0, r0, lsl #1
 1412 007c C200     		lsls	r2, r0, #3
 1413              	.LVL171:
 1414 007e 034B     		ldr	r3, .L129
 1415              	.LVL172:
 1416 0080 1344     		add	r3, r3, r2
 1417              	.LVL173:
 1418 0082 0222     		movs	r2, #2
 1419 0084 1A75     		strb	r2, [r3, #20]
 1420              	.LVL174:
 1421 0086 C2E7     		b	.L118
 1422              	.L125:
 1423              	.LBE7:
 234:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** 
 1424              		.loc 1 234 0
 1425 0088 38BD     		pop	{r3, r4, r5, pc}
 1426              	.LVL175:
 1427              	.L130:
 1428 008a 00BF     		.align	2
 1429              	.L129:
 1430 008c 00000000 		.word	.LANCHOR0
 1431              		.cfi_endproc
 1432              	.LFE159:
ARM GAS  /tmp/ccUSpX0e.s 			page 49


 1434              		.section	.text.etharp_output_to_arp_index,"ax",%progbits
 1435              		.align	1
 1436              		.syntax unified
 1437              		.thumb
 1438              		.thumb_func
 1439              		.fpu fpv5-d16
 1441              	etharp_output_to_arp_index:
 1442              	.LFB166:
 747:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   LWIP_ASSERT("arp_table[arp_idx].state >= ETHARP_STATE_STABLE",
 1443              		.loc 1 747 0
 1444              		.cfi_startproc
 1445              		@ args = 0, pretend = 0, frame = 0
 1446              		@ frame_needed = 0, uses_anonymous_args = 0
 1447              	.LVL176:
 1448 0000 70B5     		push	{r4, r5, r6, lr}
 1449              	.LCFI22:
 1450              		.cfi_def_cfa_offset 16
 1451              		.cfi_offset 4, -16
 1452              		.cfi_offset 5, -12
 1453              		.cfi_offset 6, -8
 1454              		.cfi_offset 14, -4
 1455 0002 82B0     		sub	sp, sp, #8
 1456              	.LCFI23:
 1457              		.cfi_def_cfa_offset 24
 1458 0004 0546     		mov	r5, r0
 1459 0006 0E46     		mov	r6, r1
 1460 0008 1446     		mov	r4, r2
 748:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****               arp_table[arp_idx].state >= ETHARP_STATE_STABLE);
 1461              		.loc 1 748 0
 1462 000a 02EB4203 		add	r3, r2, r2, lsl #1
 1463 000e DA00     		lsls	r2, r3, #3
 1464              	.LVL177:
 1465 0010 2C4B     		ldr	r3, .L139
 1466 0012 1344     		add	r3, r3, r2
 1467 0014 1B7D     		ldrb	r3, [r3, #20]	@ zero_extendqisi2
 1468 0016 012B     		cmp	r3, #1
 1469 0018 19D9     		bls	.L136
 1470              	.LVL178:
 1471              	.L132:
 753:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     if (arp_table[arp_idx].ctime >= ARP_AGE_REREQUEST_USED_BROADCAST) {
 1472              		.loc 1 753 0
 1473 001a 04EB4403 		add	r3, r4, r4, lsl #1
 1474 001e DA00     		lsls	r2, r3, #3
 1475 0020 284B     		ldr	r3, .L139
 1476 0022 1344     		add	r3, r3, r2
 1477 0024 1B7D     		ldrb	r3, [r3, #20]	@ zero_extendqisi2
 1478 0026 022B     		cmp	r3, #2
 1479 0028 19D0     		beq	.L137
 1480              	.L133:
 767:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** }
 1481              		.loc 1 767 0
 1482 002a 04EB4404 		add	r4, r4, r4, lsl #1
 1483 002e E300     		lsls	r3, r4, #3
 1484 0030 0833     		adds	r3, r3, #8
 1485 0032 244A     		ldr	r2, .L139
 1486 0034 1344     		add	r3, r3, r2
 1487 0036 4FF40062 		mov	r2, #2048
ARM GAS  /tmp/ccUSpX0e.s 			page 50


 1488 003a 0092     		str	r2, [sp]
 1489 003c 0433     		adds	r3, r3, #4
 1490 003e 05F12502 		add	r2, r5, #37
 1491 0042 3146     		mov	r1, r6
 1492 0044 2846     		mov	r0, r5
 1493 0046 FFF7FEFF 		bl	ethernet_output
 1494              	.LVL179:
 768:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** 
 1495              		.loc 1 768 0
 1496 004a 02B0     		add	sp, sp, #8
 1497              	.LCFI24:
 1498              		.cfi_remember_state
 1499              		.cfi_def_cfa_offset 16
 1500              		@ sp needed
 1501 004c 70BD     		pop	{r4, r5, r6, pc}
 1502              	.LVL180:
 1503              	.L136:
 1504              	.LCFI25:
 1505              		.cfi_restore_state
 748:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****               arp_table[arp_idx].state >= ETHARP_STATE_STABLE);
 1506              		.loc 1 748 0 discriminator 1
 1507 004e 1E4B     		ldr	r3, .L139+4
 1508 0050 40F2ED22 		movw	r2, #749
 1509 0054 1D49     		ldr	r1, .L139+8
 1510              	.LVL181:
 1511 0056 1E48     		ldr	r0, .L139+12
 1512              	.LVL182:
 1513 0058 FFF7FEFF 		bl	printf
 1514              	.LVL183:
 1515 005c DDE7     		b	.L132
 1516              	.L137:
 754:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****       /* issue a standard request using broadcast */
 1517              		.loc 1 754 0
 1518 005e 194B     		ldr	r3, .L139
 1519 0060 1344     		add	r3, r3, r2
 1520 0062 5B8A     		ldrh	r3, [r3, #18]
 1521 0064 B3F58E7F 		cmp	r3, #284
 1522 0068 19D8     		bhi	.L138
 759:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****       /* issue a unicast request (for 15 seconds) to prevent unnecessary broadcast */
 1523              		.loc 1 759 0
 1524 006a B3F5877F 		cmp	r3, #270
 1525 006e DCD3     		bcc	.L133
 761:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****         arp_table[arp_idx].state = ETHARP_STATE_STABLE_REREQUESTING_1;
 1526              		.loc 1 761 0
 1527 0070 144A     		ldr	r2, .L139
 1528 0072 6300     		lsls	r3, r4, #1
 1529 0074 1819     		adds	r0, r3, r4
 1530 0076 C100     		lsls	r1, r0, #3
 1531 0078 0846     		mov	r0, r1
 1532 007a 1144     		add	r1, r1, r2
 1533 007c 0830     		adds	r0, r0, #8
 1534 007e 0244     		add	r2, r2, r0
 1535 0080 0432     		adds	r2, r2, #4
 1536 0082 0431     		adds	r1, r1, #4
 1537 0084 2846     		mov	r0, r5
 1538 0086 FFF7FEFF 		bl	etharp_request_dst
 1539              	.LVL184:
ARM GAS  /tmp/ccUSpX0e.s 			page 51


 1540 008a 0028     		cmp	r0, #0
 1541 008c CDD1     		bne	.L133
 762:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****       }
 1542              		.loc 1 762 0
 1543 008e 04EB4403 		add	r3, r4, r4, lsl #1
 1544 0092 DA00     		lsls	r2, r3, #3
 1545 0094 0B4B     		ldr	r3, .L139
 1546 0096 1344     		add	r3, r3, r2
 1547 0098 0322     		movs	r2, #3
 1548 009a 1A75     		strb	r2, [r3, #20]
 1549 009c C5E7     		b	.L133
 1550              	.L138:
 756:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****         arp_table[arp_idx].state = ETHARP_STATE_STABLE_REREQUESTING_1;
 1551              		.loc 1 756 0
 1552 009e 04EB4402 		add	r2, r4, r4, lsl #1
 1553 00a2 D300     		lsls	r3, r2, #3
 1554 00a4 0749     		ldr	r1, .L139
 1555 00a6 1944     		add	r1, r1, r3
 1556 00a8 0431     		adds	r1, r1, #4
 1557 00aa 2846     		mov	r0, r5
 1558 00ac FFF7FEFF 		bl	etharp_request
 1559              	.LVL185:
 1560 00b0 0028     		cmp	r0, #0
 1561 00b2 BAD1     		bne	.L133
 757:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****       }
 1562              		.loc 1 757 0
 1563 00b4 04EB4403 		add	r3, r4, r4, lsl #1
 1564 00b8 DA00     		lsls	r2, r3, #3
 1565 00ba 024B     		ldr	r3, .L139
 1566 00bc 1344     		add	r3, r3, r2
 1567 00be 0322     		movs	r2, #3
 1568 00c0 1A75     		strb	r2, [r3, #20]
 1569 00c2 B2E7     		b	.L133
 1570              	.L140:
 1571              		.align	2
 1572              	.L139:
 1573 00c4 00000000 		.word	.LANCHOR0
 1574 00c8 00000000 		.word	.LC0
 1575 00cc 00000000 		.word	.LC12
 1576 00d0 4C000000 		.word	.LC2
 1577              		.cfi_endproc
 1578              	.LFE166:
 1580              		.section	.text.etharp_query,"ax",%progbits
 1581              		.align	1
 1582              		.global	etharp_query
 1583              		.syntax unified
 1584              		.thumb
 1585              		.thumb_func
 1586              		.fpu fpv5-d16
 1588              	etharp_query:
 1589              	.LFB168:
 931:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   struct eth_addr * srcaddr = (struct eth_addr *)netif->hwaddr;
 1590              		.loc 1 931 0
 1591              		.cfi_startproc
 1592              		@ args = 0, pretend = 0, frame = 0
 1593              		@ frame_needed = 0, uses_anonymous_args = 0
 1594              	.LVL186:
ARM GAS  /tmp/ccUSpX0e.s 			page 52


 1595 0000 2DE9F043 		push	{r4, r5, r6, r7, r8, r9, lr}
 1596              	.LCFI26:
 1597              		.cfi_def_cfa_offset 28
 1598              		.cfi_offset 4, -28
 1599              		.cfi_offset 5, -24
 1600              		.cfi_offset 6, -20
 1601              		.cfi_offset 7, -16
 1602              		.cfi_offset 8, -12
 1603              		.cfi_offset 9, -8
 1604              		.cfi_offset 14, -4
 1605 0004 83B0     		sub	sp, sp, #12
 1606              	.LCFI27:
 1607              		.cfi_def_cfa_offset 40
 1608 0006 0646     		mov	r6, r0
 1609 0008 0C46     		mov	r4, r1
 1610 000a 9046     		mov	r8, r2
 932:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   err_t result = ERR_MEM;
 1611              		.loc 1 932 0
 1612 000c 00F12509 		add	r9, r0, #37
 1613              	.LVL187:
 938:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****       ip4_addr_ismulticast(ipaddr) ||
 1614              		.loc 1 938 0
 1615 0010 0146     		mov	r1, r0
 1616              	.LVL188:
 1617 0012 2068     		ldr	r0, [r4]
 1618              	.LVL189:
 1619 0014 FFF7FEFF 		bl	ip4_addr_isbroadcast_u32
 1620              	.LVL190:
 1621 0018 0028     		cmp	r0, #0
 1622 001a 40F0AC80 		bne	.L155
 939:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****       ip4_addr_isany(ipaddr)) {
 1623              		.loc 1 939 0 discriminator 1
 1624 001e 2368     		ldr	r3, [r4]
 1625 0020 03F0F002 		and	r2, r3, #240
 938:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****       ip4_addr_ismulticast(ipaddr) ||
 1626              		.loc 1 938 0 discriminator 1
 1627 0024 E02A     		cmp	r2, #224
 1628 0026 00F0A980 		beq	.L156
 939:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****       ip4_addr_isany(ipaddr)) {
 1629              		.loc 1 939 0
 1630 002a 002C     		cmp	r4, #0
 1631 002c 00F0A980 		beq	.L157
 940:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     LWIP_DEBUGF(ETHARP_DEBUG | LWIP_DBG_TRACE, ("etharp_query: will not add non-unicast IP address 
 1632              		.loc 1 940 0
 1633 0030 002B     		cmp	r3, #0
 1634 0032 00F0A980 		beq	.L158
 946:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** 
 1635              		.loc 1 946 0
 1636 0036 3246     		mov	r2, r6
 1637 0038 0121     		movs	r1, #1
 1638 003a 2046     		mov	r0, r4
 1639 003c FFF7FEFF 		bl	etharp_find_entry
 1640              	.LVL191:
 949:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     LWIP_DEBUGF(ETHARP_DEBUG | LWIP_DBG_TRACE, ("etharp_query: could not create ARP entry\n"));
 1641              		.loc 1 949 0
 1642 0040 051E     		subs	r5, r0, #0
 1643 0042 C0F2A480 		blt	.L159
ARM GAS  /tmp/ccUSpX0e.s 			page 53


 959:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     is_new_entry = 1;
 1644              		.loc 1 959 0
 1645 0046 05EB4503 		add	r3, r5, r5, lsl #1
 1646 004a DA00     		lsls	r2, r3, #3
 1647 004c 524B     		ldr	r3, .L171
 1648 004e 1344     		add	r3, r3, r2
 1649 0050 1B7D     		ldrb	r3, [r3, #20]	@ zero_extendqisi2
 1650 0052 2BBB     		cbnz	r3, .L160
 1651              	.LVL192:
 961:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     /* record network interface for re-sending arp request in etharp_tmr */
 1652              		.loc 1 961 0
 1653 0054 6A00     		lsls	r2, r5, #1
 1654 0056 2A44     		add	r2, r2, r5
 1655 0058 D100     		lsls	r1, r2, #3
 1656 005a 4F4B     		ldr	r3, .L171
 1657 005c 0B44     		add	r3, r3, r1
 1658 005e 0127     		movs	r7, #1
 1659 0060 1F75     		strb	r7, [r3, #20]
 963:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   }
 1660              		.loc 1 963 0
 1661 0062 9E60     		str	r6, [r3, #8]
 1662              	.LVL193:
 1663              	.L143:
 967:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   ((arp_table[i].state == ETHARP_STATE_PENDING) ||
 1664              		.loc 1 967 0
 1665 0064 05EB4503 		add	r3, r5, r5, lsl #1
 1666 0068 DA00     		lsls	r2, r3, #3
 1667 006a 4B4B     		ldr	r3, .L171
 1668 006c 1344     		add	r3, r3, r2
 1669 006e 1B7D     		ldrb	r3, [r3, #20]	@ zero_extendqisi2
 1670 0070 C3B1     		cbz	r3, .L166
 1671              	.LVL194:
 1672              	.L144:
 972:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     /* try to resolve it; send out ARP request */
 1673              		.loc 1 972 0
 1674 0072 B8F1000F 		cmp	r8, #0
 1675 0076 08BF     		it	eq
 1676 0078 47F00107 		orreq	r7, r7, #1
 1677              	.LVL195:
 1678 007c D7B9     		cbnz	r7, .L167
 933:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   int is_new_entry = 0;
 1679              		.loc 1 933 0
 1680 007e 4FF0FF34 		mov	r4, #-1
 1681              	.LVL196:
 1682              	.L145:
 987:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   /* stable entry? */
 1683              		.loc 1 987 0
 1684 0082 B8F1000F 		cmp	r8, #0
 1685 0086 1ED0     		beq	.L168
 1686              	.L146:
 989:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     /* we have a valid IP->Ethernet address mapping */
 1687              		.loc 1 989 0
 1688 0088 05EB4503 		add	r3, r5, r5, lsl #1
 1689 008c DA00     		lsls	r2, r3, #3
 1690 008e 424B     		ldr	r3, .L171
 1691 0090 1344     		add	r3, r3, r2
 1692 0092 1B7D     		ldrb	r3, [r3, #20]	@ zero_extendqisi2
ARM GAS  /tmp/ccUSpX0e.s 			page 54


 1693 0094 012B     		cmp	r3, #1
 1694 0096 1ED8     		bhi	.L169
 995:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     /* entry is still pending, queue the given packet 'q' */
 1695              		.loc 1 995 0
 1696 0098 012B     		cmp	r3, #1
 1697 009a 2CD1     		bne	.L142
 1698 009c 4446     		mov	r4, r8
 1699              	.LVL197:
 1700 009e 32E0     		b	.L148
 1701              	.LVL198:
 1702              	.L160:
 934:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   s8_t i; /* ARP entry index */
 1703              		.loc 1 934 0
 1704 00a0 0027     		movs	r7, #0
 1705 00a2 DFE7     		b	.L143
 1706              	.LVL199:
 1707              	.L166:
 967:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   ((arp_table[i].state == ETHARP_STATE_PENDING) ||
 1708              		.loc 1 967 0 discriminator 1
 1709 00a4 3D4B     		ldr	r3, .L171+4
 1710 00a6 40F2C932 		movw	r2, #969
 1711 00aa 3D49     		ldr	r1, .L171+8
 1712 00ac 3D48     		ldr	r0, .L171+12
 1713              	.LVL200:
 1714 00ae FFF7FEFF 		bl	printf
 1715              	.LVL201:
 1716 00b2 DEE7     		b	.L144
 1717              	.LVL202:
 1718              	.L167:
 974:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     if (result != ERR_OK) {
 1719              		.loc 1 974 0
 1720 00b4 2146     		mov	r1, r4
 1721 00b6 3046     		mov	r0, r6
 1722 00b8 FFF7FEFF 		bl	etharp_request
 1723              	.LVL203:
 1724 00bc 0446     		mov	r4, r0
 1725              	.LVL204:
 981:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****       return result;
 1726              		.loc 1 981 0
 1727 00be B8F1000F 		cmp	r8, #0
 1728 00c2 DED1     		bne	.L145
 1729 00c4 17E0     		b	.L142
 1730              	.L168:
 987:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   /* stable entry? */
 1731              		.loc 1 987 0 discriminator 1
 1732 00c6 354B     		ldr	r3, .L171+4
 1733 00c8 40F2DB32 		movw	r2, #987
 1734 00cc 3649     		ldr	r1, .L171+16
 1735 00ce 3548     		ldr	r0, .L171+12
 1736 00d0 FFF7FEFF 		bl	printf
 1737              	.LVL205:
 1738 00d4 D8E7     		b	.L146
 1739              	.L169:
 991:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     /* send the packet */
 1740              		.loc 1 991 0
 1741 00d6 354B     		ldr	r3, .L171+20
 1742 00d8 1D70     		strb	r5, [r3]
ARM GAS  /tmp/ccUSpX0e.s 			page 55


 993:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   /* pending entry? (either just created or already pending */
 1743              		.loc 1 993 0
 1744 00da 1346     		mov	r3, r2
 1745 00dc 0833     		adds	r3, r3, #8
 1746 00de 2E4A     		ldr	r2, .L171
 1747 00e0 1344     		add	r3, r3, r2
 1748 00e2 4FF40062 		mov	r2, #2048
 1749 00e6 0092     		str	r2, [sp]
 1750 00e8 0433     		adds	r3, r3, #4
 1751 00ea 4A46     		mov	r2, r9
 1752 00ec 4146     		mov	r1, r8
 1753 00ee 3046     		mov	r0, r6
 1754 00f0 FFF7FEFF 		bl	ethernet_output
 1755              	.LVL206:
 1756 00f4 0446     		mov	r4, r0
 1757              	.LVL207:
 1758              	.L142:
1084:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** 
 1759              		.loc 1 1084 0
 1760 00f6 2046     		mov	r0, r4
 1761 00f8 03B0     		add	sp, sp, #12
 1762              	.LCFI28:
 1763              		.cfi_remember_state
 1764              		.cfi_def_cfa_offset 28
 1765              		@ sp needed
 1766 00fa BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 1767              	.LVL208:
 1768              	.L149:
 1769              	.LCFI29:
 1770              		.cfi_restore_state
 1771              	.LBB8:
1005:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****         copy_needed = 1;
 1772              		.loc 1 1005 0
 1773 00fe 237B     		ldrb	r3, [r4, #12]	@ zero_extendqisi2
 1774 0100 012B     		cmp	r3, #1
 1775 0102 22D1     		bne	.L163
1009:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     }
 1776              		.loc 1 1009 0
 1777 0104 2468     		ldr	r4, [r4]
 1778              	.LVL209:
 1779              	.L148:
1003:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****       LWIP_ASSERT("no packet queues allowed!", (p->len != p->tot_len) || (p->next == 0));
 1780              		.loc 1 1003 0
 1781 0106 74B1     		cbz	r4, .L170
1004:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****       if (p->type != PBUF_ROM) {
 1782              		.loc 1 1004 0
 1783 0108 6289     		ldrh	r2, [r4, #10]
 1784 010a 2389     		ldrh	r3, [r4, #8]
 1785 010c 9A42     		cmp	r2, r3
 1786 010e F6D1     		bne	.L149
1004:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****       if (p->type != PBUF_ROM) {
 1787              		.loc 1 1004 0 is_stmt 0 discriminator 1
 1788 0110 2368     		ldr	r3, [r4]
 1789 0112 002B     		cmp	r3, #0
 1790 0114 F3D0     		beq	.L149
1004:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****       if (p->type != PBUF_ROM) {
 1791              		.loc 1 1004 0 discriminator 2
ARM GAS  /tmp/ccUSpX0e.s 			page 56


 1792 0116 214B     		ldr	r3, .L171+4
 1793 0118 4FF47B72 		mov	r2, #1004
 1794 011c 2449     		ldr	r1, .L171+24
 1795 011e 2148     		ldr	r0, .L171+12
 1796 0120 FFF7FEFF 		bl	printf
 1797              	.LVL210:
 1798 0124 EBE7     		b	.L149
 1799              	.L170:
 998:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     /* IF q includes a PBUF_REF, PBUF_POOL or PBUF_RAM, we have no choice but
 1800              		.loc 1 998 0 is_stmt 1
 1801 0126 0023     		movs	r3, #0
 1802              	.L150:
 1803              	.LVL211:
1011:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****       /* copy the whole packet into new pbufs */
 1804              		.loc 1 1011 0
 1805 0128 8BB1     		cbz	r3, .L152
1013:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****       if (p != NULL) {
 1806              		.loc 1 1013 0
 1807 012a 0022     		movs	r2, #0
 1808 012c 2189     		ldrh	r1, [r4, #8]
 1809 012e 0220     		movs	r0, #2
 1810 0130 FFF7FEFF 		bl	pbuf_alloc
 1811              	.LVL212:
1014:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****         if (pbuf_copy(p, q) != ERR_OK) {
 1812              		.loc 1 1014 0
 1813 0134 0446     		mov	r4, r0
 1814 0136 70B1     		cbz	r0, .L153
1015:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****           pbuf_free(p);
 1815              		.loc 1 1015 0
 1816 0138 4146     		mov	r1, r8
 1817 013a FFF7FEFF 		bl	pbuf_copy
 1818              	.LVL213:
 1819 013e 50B1     		cbz	r0, .L153
1016:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****           p = NULL;
 1820              		.loc 1 1016 0
 1821 0140 2046     		mov	r0, r4
 1822 0142 FFF7FEFF 		bl	pbuf_free
 1823              	.LVL214:
1017:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****         }
 1824              		.loc 1 1017 0
 1825 0146 0024     		movs	r4, #0
 1826 0148 05E0     		b	.L153
 1827              	.LVL215:
 1828              	.L163:
1006:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****         break;
 1829              		.loc 1 1006 0
 1830 014a 0123     		movs	r3, #1
 1831 014c ECE7     		b	.L150
 1832              	.LVL216:
 1833              	.L152:
1023:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     }
 1834              		.loc 1 1023 0
 1835 014e 4046     		mov	r0, r8
 1836 0150 FFF7FEFF 		bl	pbuf_ref
 1837              	.LVL217:
1022:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****       pbuf_ref(p);
 1838              		.loc 1 1022 0
ARM GAS  /tmp/ccUSpX0e.s 			page 57


 1839 0154 4446     		mov	r4, r8
 1840              	.LVL218:
 1841              	.L153:
1026:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****       /* queue packet ... */
 1842              		.loc 1 1026 0
 1843 0156 E4B1     		cbz	r4, .L164
1069:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****         LWIP_DEBUGF(ETHARP_DEBUG | LWIP_DBG_TRACE, ("etharp_query: dropped previously queued packet
 1844              		.loc 1 1069 0
 1845 0158 05EB4502 		add	r2, r5, r5, lsl #1
 1846 015c D300     		lsls	r3, r2, #3
 1847 015e 0E4A     		ldr	r2, .L171
 1848 0160 D058     		ldr	r0, [r2, r3]
 1849 0162 08B1     		cbz	r0, .L154
1071:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****       }
 1850              		.loc 1 1071 0
 1851 0164 FFF7FEFF 		bl	pbuf_free
 1852              	.LVL219:
 1853              	.L154:
1073:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****       result = ERR_OK;
 1854              		.loc 1 1073 0
 1855 0168 05EB4505 		add	r5, r5, r5, lsl #1
 1856 016c EB00     		lsls	r3, r5, #3
 1857 016e 0A4A     		ldr	r2, .L171
 1858 0170 D450     		str	r4, [r2, r3]
 1859              	.LVL220:
1074:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****       LWIP_DEBUGF(ETHARP_DEBUG | LWIP_DBG_TRACE, ("etharp_query: queued packet %p on ARP entry %"S1
 1860              		.loc 1 1074 0
 1861 0172 0024     		movs	r4, #0
 1862              	.LVL221:
 1863 0174 BFE7     		b	.L142
 1864              	.LVL222:
 1865              	.L155:
 1866              	.LBE8:
 942:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   }
 1867              		.loc 1 942 0
 1868 0176 6FF00F04 		mvn	r4, #15
 1869              	.LVL223:
 1870 017a BCE7     		b	.L142
 1871              	.LVL224:
 1872              	.L156:
 1873 017c 6FF00F04 		mvn	r4, #15
 1874              	.LVL225:
 1875 0180 B9E7     		b	.L142
 1876              	.LVL226:
 1877              	.L157:
 1878 0182 6FF00F04 		mvn	r4, #15
 1879              	.LVL227:
 1880 0186 B6E7     		b	.L142
 1881              	.LVL228:
 1882              	.L158:
 1883 0188 6FF00F04 		mvn	r4, #15
 1884              	.LVL229:
 1885 018c B3E7     		b	.L142
 1886              	.LVL230:
 1887              	.L159:
 955:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   }
 1888              		.loc 1 955 0
ARM GAS  /tmp/ccUSpX0e.s 			page 58


 1889 018e 2C46     		mov	r4, r5
 1890              	.LVL231:
 1891 0190 B1E7     		b	.L142
 1892              	.LVL232:
 1893              	.L164:
 1894              	.LBB9:
1080:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     }
 1895              		.loc 1 1080 0
 1896 0192 4FF0FF34 		mov	r4, #-1
 1897              	.LVL233:
 1898 0196 AEE7     		b	.L142
 1899              	.L172:
 1900              		.align	2
 1901              	.L171:
 1902 0198 00000000 		.word	.LANCHOR0
 1903 019c 00000000 		.word	.LC0
 1904 01a0 00000000 		.word	.LC13
 1905 01a4 4C000000 		.word	.LC2
 1906 01a8 28000000 		.word	.LC14
 1907 01ac 00000000 		.word	.LANCHOR1
 1908 01b0 34000000 		.word	.LC15
 1909              	.LBE9:
 1910              		.cfi_endproc
 1911              	.LFE168:
 1913              		.section	.text.etharp_output,"ax",%progbits
 1914              		.align	1
 1915              		.global	etharp_output
 1916              		.syntax unified
 1917              		.thumb
 1918              		.thumb_func
 1919              		.fpu fpv5-d16
 1921              	etharp_output:
 1922              	.LFB167:
 790:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   const struct eth_addr *dest;
 1923              		.loc 1 790 0
 1924              		.cfi_startproc
 1925              		@ args = 0, pretend = 0, frame = 8
 1926              		@ frame_needed = 0, uses_anonymous_args = 0
 1927              	.LVL234:
 1928 0000 70B5     		push	{r4, r5, r6, lr}
 1929              	.LCFI30:
 1930              		.cfi_def_cfa_offset 16
 1931              		.cfi_offset 4, -16
 1932              		.cfi_offset 5, -12
 1933              		.cfi_offset 6, -8
 1934              		.cfi_offset 14, -4
 1935 0002 84B0     		sub	sp, sp, #16
 1936              	.LCFI31:
 1937              		.cfi_def_cfa_offset 32
 1938 0004 0E46     		mov	r6, r1
 1939 0006 1446     		mov	r4, r2
 1940              	.LVL235:
 795:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   LWIP_ASSERT("q != NULL", q != NULL);
 1941              		.loc 1 795 0
 1942 0008 0546     		mov	r5, r0
 1943 000a 0028     		cmp	r0, #0
 1944 000c 2FD0     		beq	.L189
ARM GAS  /tmp/ccUSpX0e.s 			page 59


 1945              	.LVL236:
 1946              	.L174:
 796:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   LWIP_ASSERT("ipaddr != NULL", ipaddr != NULL);
 1947              		.loc 1 796 0
 1948 000e 002E     		cmp	r6, #0
 1949 0010 35D0     		beq	.L190
 1950              	.L175:
 797:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** 
 1951              		.loc 1 797 0
 1952 0012 002C     		cmp	r4, #0
 1953 0014 3BD0     		beq	.L191
 1954              	.L176:
 803:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     /* broadcast on Ethernet also */
 1955              		.loc 1 803 0
 1956 0016 2946     		mov	r1, r5
 1957 0018 2068     		ldr	r0, [r4]
 1958 001a FFF7FEFF 		bl	ip4_addr_isbroadcast_u32
 1959              	.LVL237:
 1960 001e 0028     		cmp	r0, #0
 1961 0020 7AD1     		bne	.L184
 807:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     /* Hash IP multicast address to MAC address.*/
 1962              		.loc 1 807 0
 1963 0022 2368     		ldr	r3, [r4]
 1964 0024 03F0F002 		and	r2, r3, #240
 1965 0028 E02A     		cmp	r2, #224
 1966 002a 38D0     		beq	.L192
 1967              	.LBB10:
 822:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****         !ip4_addr_islinklocal(ipaddr)) {
 1968              		.loc 1 822 0
 1969 002c 6A68     		ldr	r2, [r5, #4]
 1970 002e A968     		ldr	r1, [r5, #8]
 1971 0030 5A40     		eors	r2, r2, r3
 1972 0032 0A42     		tst	r2, r1
 1973 0034 09D0     		beq	.L179
 823:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** #if LWIP_AUTOIP
 1974              		.loc 1 823 0 discriminator 1
 1975 0036 9BB2     		uxth	r3, r3
 822:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****         !ip4_addr_islinklocal(ipaddr)) {
 1976              		.loc 1 822 0 discriminator 1
 1977 0038 4FF6A962 		movw	r2, #65193
 1978 003c 9342     		cmp	r3, r2
 1979 003e 04D0     		beq	.L179
 841:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****             /* send to hardware address of default gateway IP address */
 1980              		.loc 1 841 0
 1981 0040 EB68     		ldr	r3, [r5, #12]
 1982 0042 002B     		cmp	r3, #0
 1983 0044 74D0     		beq	.L185
 843:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****           /* no default gateway available */
 1984              		.loc 1 843 0
 1985 0046 05F10C04 		add	r4, r5, #12
 1986              	.LVL238:
 1987              	.L179:
 858:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** #if ETHARP_TABLE_MATCH_NETIF
 1988              		.loc 1 858 0
 1989 004a 3B4B     		ldr	r3, .L195
 1990 004c 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 1991 004e 02EB4203 		add	r3, r2, r2, lsl #1
ARM GAS  /tmp/ccUSpX0e.s 			page 60


 1992 0052 D900     		lsls	r1, r3, #3
 1993 0054 394B     		ldr	r3, .L195+4
 1994 0056 0B44     		add	r3, r3, r1
 1995 0058 1B7D     		ldrb	r3, [r3, #20]	@ zero_extendqisi2
 1996 005a 012B     		cmp	r3, #1
 1997 005c 54D9     		bls	.L186
 862:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****           /* the per-pcb-cached entry is stable and the right one! */
 1998              		.loc 1 862 0 discriminator 1
 1999 005e 2068     		ldr	r0, [r4]
 2000 0060 364B     		ldr	r3, .L195+4
 2001 0062 0B44     		add	r3, r3, r1
 2002 0064 5B68     		ldr	r3, [r3, #4]
 858:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** #if ETHARP_TABLE_MATCH_NETIF
 2003              		.loc 1 858 0 discriminator 1
 2004 0066 9842     		cmp	r0, r3
 2005 0068 2FD0     		beq	.L193
 2006 006a 0022     		movs	r2, #0
 2007 006c 34E0     		b	.L181
 2008              	.LVL239:
 2009              	.L189:
 2010              	.LBE10:
 795:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   LWIP_ASSERT("q != NULL", q != NULL);
 2011              		.loc 1 795 0 discriminator 1
 2012 006e 344B     		ldr	r3, .L195+8
 2013 0070 40F21B32 		movw	r2, #795
 2014              	.LVL240:
 2015 0074 3349     		ldr	r1, .L195+12
 2016              	.LVL241:
 2017 0076 3448     		ldr	r0, .L195+16
 2018              	.LVL242:
 2019 0078 FFF7FEFF 		bl	printf
 2020              	.LVL243:
 2021 007c C7E7     		b	.L174
 2022              	.L190:
 796:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   LWIP_ASSERT("ipaddr != NULL", ipaddr != NULL);
 2023              		.loc 1 796 0 discriminator 1
 2024 007e 304B     		ldr	r3, .L195+8
 2025 0080 4FF44772 		mov	r2, #796
 2026 0084 3149     		ldr	r1, .L195+20
 2027 0086 3048     		ldr	r0, .L195+16
 2028 0088 FFF7FEFF 		bl	printf
 2029              	.LVL244:
 2030 008c C1E7     		b	.L175
 2031              	.L191:
 797:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** 
 2032              		.loc 1 797 0 discriminator 1
 2033 008e 2C4B     		ldr	r3, .L195+8
 2034 0090 40F21D32 		movw	r2, #797
 2035 0094 2E49     		ldr	r1, .L195+24
 2036 0096 2C48     		ldr	r0, .L195+16
 2037 0098 FFF7FEFF 		bl	printf
 2038              	.LVL245:
 2039 009c BBE7     		b	.L176
 2040              	.L192:
 809:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     mcastaddr.addr[1] = LL_IP4_MULTICAST_ADDR_1;
 2041              		.loc 1 809 0
 2042 009e 0123     		movs	r3, #1
ARM GAS  /tmp/ccUSpX0e.s 			page 61


 2043 00a0 8DF80830 		strb	r3, [sp, #8]
 810:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     mcastaddr.addr[2] = LL_IP4_MULTICAST_ADDR_2;
 2044              		.loc 1 810 0
 2045 00a4 0023     		movs	r3, #0
 2046 00a6 8DF80930 		strb	r3, [sp, #9]
 811:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     mcastaddr.addr[3] = ip4_addr2(ipaddr) & 0x7f;
 2047              		.loc 1 811 0
 2048 00aa 5E23     		movs	r3, #94
 2049 00ac 8DF80A30 		strb	r3, [sp, #10]
 812:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     mcastaddr.addr[4] = ip4_addr3(ipaddr);
 2050              		.loc 1 812 0
 2051 00b0 6378     		ldrb	r3, [r4, #1]	@ zero_extendqisi2
 2052 00b2 03F07F03 		and	r3, r3, #127
 2053 00b6 8DF80B30 		strb	r3, [sp, #11]
 813:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     mcastaddr.addr[5] = ip4_addr4(ipaddr);
 2054              		.loc 1 813 0
 2055 00ba A378     		ldrb	r3, [r4, #2]	@ zero_extendqisi2
 2056 00bc 8DF80C30 		strb	r3, [sp, #12]
 814:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****     /* destination Ethernet address is multicast */
 2057              		.loc 1 814 0
 2058 00c0 E378     		ldrb	r3, [r4, #3]	@ zero_extendqisi2
 2059 00c2 8DF80D30 		strb	r3, [sp, #13]
 2060              	.LVL246:
 816:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   /* unicast destination IP address? */
 2061              		.loc 1 816 0
 2062 00c6 02AB     		add	r3, sp, #8
 2063              	.LVL247:
 2064 00c8 27E0     		b	.L177
 2065              	.LVL248:
 2066              	.L193:
 2067              	.LBB11:
 865:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****         }
 2068              		.loc 1 865 0
 2069 00ca 3146     		mov	r1, r6
 2070 00cc 2846     		mov	r0, r5
 2071 00ce FFF7FEFF 		bl	etharp_output_to_arp_index
 2072              	.LVL249:
 2073 00d2 2BE0     		b	.L180
 2074              	.LVL250:
 2075              	.L182:
 874:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****       if ((arp_table[i].state >= ETHARP_STATE_STABLE) &&
 2076              		.loc 1 874 0 discriminator 2
 2077 00d4 0132     		adds	r2, r2, #1
 2078              	.LVL251:
 2079 00d6 52B2     		sxtb	r2, r2
 2080              	.LVL252:
 2081              	.L181:
 874:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****       if ((arp_table[i].state >= ETHARP_STATE_STABLE) &&
 2082              		.loc 1 874 0 is_stmt 0 discriminator 1
 2083 00d8 092A     		cmp	r2, #9
 2084 00da 17DC     		bgt	.L194
 875:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** #if ETHARP_TABLE_MATCH_NETIF
 2085              		.loc 1 875 0 is_stmt 1
 2086 00dc 02EB4203 		add	r3, r2, r2, lsl #1
 2087 00e0 D900     		lsls	r1, r3, #3
 2088 00e2 164B     		ldr	r3, .L195+4
 2089 00e4 0B44     		add	r3, r3, r1
ARM GAS  /tmp/ccUSpX0e.s 			page 62


 2090 00e6 1B7D     		ldrb	r3, [r3, #20]	@ zero_extendqisi2
 2091 00e8 012B     		cmp	r3, #1
 2092 00ea F3D9     		bls	.L182
 879:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****         /* found an existing, stable entry */
 2093              		.loc 1 879 0 discriminator 1
 2094 00ec 2068     		ldr	r0, [r4]
 2095 00ee 134B     		ldr	r3, .L195+4
 2096 00f0 0B44     		add	r3, r3, r1
 2097 00f2 5B68     		ldr	r3, [r3, #4]
 875:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** #if ETHARP_TABLE_MATCH_NETIF
 2098              		.loc 1 875 0 discriminator 1
 2099 00f4 9842     		cmp	r0, r3
 2100 00f6 EDD1     		bne	.L182
 881:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****         return etharp_output_to_arp_index(netif, q, i);
 2101              		.loc 1 881 0
 2102 00f8 D2B2     		uxtb	r2, r2
 2103 00fa 0F4B     		ldr	r3, .L195
 2104 00fc 1A70     		strb	r2, [r3]
 882:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****       }
 2105              		.loc 1 882 0
 2106 00fe 3146     		mov	r1, r6
 2107 0100 2846     		mov	r0, r5
 2108 0102 FFF7FEFF 		bl	etharp_output_to_arp_index
 2109              	.LVL253:
 2110 0106 11E0     		b	.L180
 2111              	.L186:
 2112 0108 0022     		movs	r2, #0
 2113 010a E5E7     		b	.L181
 2114              	.LVL254:
 2115              	.L194:
 887:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   }
 2116              		.loc 1 887 0
 2117 010c 3246     		mov	r2, r6
 2118              	.LVL255:
 2119 010e 2146     		mov	r1, r4
 2120 0110 2846     		mov	r0, r5
 2121 0112 FFF7FEFF 		bl	etharp_query
 2122              	.LVL256:
 2123 0116 09E0     		b	.L180
 2124              	.LVL257:
 2125              	.L184:
 2126              	.LBE11:
 805:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****   /* multicast destination IP address? */
 2127              		.loc 1 805 0
 2128 0118 0E4B     		ldr	r3, .L195+28
 2129              	.L177:
 2130              	.LVL258:
 893:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** }
 2131              		.loc 1 893 0
 2132 011a 4FF40062 		mov	r2, #2048
 2133 011e 0092     		str	r2, [sp]
 2134 0120 05F12502 		add	r2, r5, #37
 2135 0124 3146     		mov	r1, r6
 2136 0126 2846     		mov	r0, r5
 2137 0128 FFF7FEFF 		bl	ethernet_output
 2138              	.LVL259:
 2139              	.L180:
ARM GAS  /tmp/ccUSpX0e.s 			page 63


 894:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c **** 
 2140              		.loc 1 894 0
 2141 012c 04B0     		add	sp, sp, #16
 2142              	.LCFI32:
 2143              		.cfi_remember_state
 2144              		.cfi_def_cfa_offset 16
 2145              		@ sp needed
 2146 012e 70BD     		pop	{r4, r5, r6, pc}
 2147              	.LVL260:
 2148              	.L185:
 2149              	.LCFI33:
 2150              		.cfi_restore_state
 2151              	.LBB12:
 847:Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c ****           }
 2152              		.loc 1 847 0
 2153 0130 6FF00300 		mvn	r0, #3
 2154 0134 FAE7     		b	.L180
 2155              	.L196:
 2156 0136 00BF     		.align	2
 2157              	.L195:
 2158 0138 00000000 		.word	.LANCHOR1
 2159 013c 00000000 		.word	.LANCHOR0
 2160 0140 00000000 		.word	.LC0
 2161 0144 00000000 		.word	.LC6
 2162 0148 4C000000 		.word	.LC2
 2163 014c 28000000 		.word	.LC14
 2164 0150 00000000 		.word	.LC10
 2165 0154 00000000 		.word	ethbroadcast
 2166              	.LBE12:
 2167              		.cfi_endproc
 2168              	.LFE167:
 2170              		.section	.bss.arp_table,"aw",%nobits
 2171              		.align	2
 2172              		.set	.LANCHOR0,. + 0
 2175              	arp_table:
 2176 0000 00000000 		.space	240
 2176      00000000 
 2176      00000000 
 2176      00000000 
 2176      00000000 
 2177              		.section	.bss.etharp_cached_entry,"aw",%nobits
 2178              		.set	.LANCHOR1,. + 0
 2181              	etharp_cached_entry:
 2182 0000 00       		.space	1
 2183              		.section	.rodata.etharp_find_addr.str1.4,"aMS",%progbits,1
 2184              		.align	2
 2185              	.LC9:
 2186 0000 6574685F 		.ascii	"eth_ret != NULL && ip_ret != NULL\000"
 2186      72657420 
 2186      213D204E 
 2186      554C4C20 
 2186      26262069 
 2187              		.section	.rodata.etharp_find_entry.str1.4,"aMS",%progbits,1
 2188              		.align	2
 2189              	.LC0:
 2190 0000 4D696464 		.ascii	"Middlewares/Third_Party/LwIP/src/core/ipv4/etharp.c"
 2190      6C657761 
ARM GAS  /tmp/ccUSpX0e.s 			page 64


 2190      7265732F 
 2190      54686972 
 2190      645F5061 
 2191 0033 00       		.ascii	"\000"
 2192              	.LC1:
 2193 0034 6172705F 		.ascii	"arp_table[i].q == NULL\000"
 2193      7461626C 
 2193      655B695D 
 2193      2E71203D 
 2193      3D204E55 
 2194 004b 00       		.space	1
 2195              	.LC2:
 2196 004c 41737365 		.ascii	"Assertion \"%s\" failed at line %d in %s\012\000"
 2196      7274696F 
 2196      6E202225 
 2196      73222066 
 2196      61696C65 
 2197              	.LC3:
 2198 0074 69203C20 		.ascii	"i < ARP_TABLE_SIZE\000"
 2198      4152505F 
 2198      5441424C 
 2198      455F5349 
 2198      5A4500
 2199 0087 00       		.space	1
 2200              	.LC4:
 2201 0088 6172705F 		.ascii	"arp_table[i].state == ETHARP_STATE_EMPTY\000"
 2201      7461626C 
 2201      655B695D 
 2201      2E737461 
 2201      7465203D 
 2202              		.section	.rodata.etharp_get_entry.str1.4,"aMS",%progbits,1
 2203              		.align	2
 2204              	.LC10:
 2205 0000 69706164 		.ascii	"ipaddr != NULL\000"
 2205      64722021 
 2205      3D204E55 
 2205      4C4C00
 2206 000f 00       		.space	1
 2207              	.LC11:
 2208 0010 6574685F 		.ascii	"eth_ret != NULL\000"
 2208      72657420 
 2208      213D204E 
 2208      554C4C00 
 2209              		.section	.rodata.etharp_output_to_arp_index.str1.4,"aMS",%progbits,1
 2210              		.align	2
 2211              	.LC12:
 2212 0000 6172705F 		.ascii	"arp_table[arp_idx].state >= ETHARP_STATE_STABLE\000"
 2212      7461626C 
 2212      655B6172 
 2212      705F6964 
 2212      785D2E73 
 2213              		.section	.rodata.etharp_query.str1.4,"aMS",%progbits,1
 2214              		.align	2
 2215              	.LC13:
 2216 0000 6172705F 		.ascii	"arp_table[i].state == PENDING or STABLE\000"
 2216      7461626C 
 2216      655B695D 
ARM GAS  /tmp/ccUSpX0e.s 			page 65


 2216      2E737461 
 2216      7465203D 
 2217              	.LC14:
 2218 0028 7120213D 		.ascii	"q != NULL\000"
 2218      204E554C 
 2218      4C00
 2219 0032 0000     		.space	2
 2220              	.LC15:
 2221 0034 6E6F2070 		.ascii	"no packet queues allowed!\000"
 2221      61636B65 
 2221      74207175 
 2221      65756573 
 2221      20616C6C 
 2222              		.section	.rodata.etharp_raw.str1.4,"aMS",%progbits,1
 2223              		.align	2
 2224              	.LC6:
 2225 0000 6E657469 		.ascii	"netif != NULL\000"
 2225      6620213D 
 2225      204E554C 
 2225      4C00
 2226 000e 0000     		.space	2
 2227              	.LC7:
 2228 0010 63686563 		.ascii	"check that first pbuf can hold struct etharp_hdr\000"
 2228      6B207468 
 2228      61742066 
 2228      69727374 
 2228      20706275 
 2229 0041 000000   		.space	3
 2230              	.LC8:
 2231 0044 6E657469 		.ascii	"netif->hwaddr_len must be the same as ETH_HWADDR_LE"
 2231      662D3E68 
 2231      77616464 
 2231      725F6C65 
 2231      6E206D75 
 2232 0077 4E20666F 		.ascii	"N for etharp!\000"
 2232      72206574 
 2232      68617270 
 2232      2100
 2233              		.section	.rodata.etharp_update_arp_entry.str1.4,"aMS",%progbits,1
 2234              		.align	2
 2235              	.LC5:
 2236 0000 6E657469 		.ascii	"netif->hwaddr_len == ETH_HWADDR_LEN\000"
 2236      662D3E68 
 2236      77616464 
 2236      725F6C65 
 2236      6E203D3D 
 2237              		.text
 2238              	.Letext0:
 2239              		.file 2 "/usr/include/newlib/machine/_default_types.h"
 2240              		.file 3 "/usr/include/newlib/sys/_stdint.h"
 2241              		.file 4 "Drivers/CMSIS/Include/core_cm7.h"
 2242              		.file 5 "Drivers/CMSIS/Device/ST/STM32H7xx/Include/system_stm32h7xx.h"
 2243              		.file 6 "/usr/include/newlib/sys/lock.h"
 2244              		.file 7 "/usr/include/newlib/sys/_types.h"
 2245              		.file 8 "/usr/lib/gcc/arm-none-eabi/6.3.1/include/stddef.h"
 2246              		.file 9 "/usr/include/newlib/sys/reent.h"
 2247              		.file 10 "/usr/include/newlib/math.h"
ARM GAS  /tmp/ccUSpX0e.s 			page 66


 2248              		.file 11 "Drivers/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal_def.h"
 2249              		.file 12 "Drivers/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal_flash.h"
 2250              		.file 13 "Drivers/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal.h"
 2251              		.file 14 "/usr/include/newlib/stdlib.h"
 2252              		.file 15 "/usr/include/newlib/time.h"
 2253              		.file 16 "Middlewares/Third_Party/LwIP/src/include/lwip/arch.h"
 2254              		.file 17 "Middlewares/Third_Party/LwIP/src/include/lwip/err.h"
 2255              		.file 18 "Middlewares/Third_Party/LwIP/src/include/lwip/pbuf.h"
 2256              		.file 19 "Middlewares/Third_Party/LwIP/src/include/lwip/ip4_addr.h"
 2257              		.file 20 "Middlewares/Third_Party/LwIP/src/include/lwip/ip_addr.h"
 2258              		.file 21 "Middlewares/Third_Party/LwIP/src/include/lwip/memp.h"
 2259              		.file 22 "Middlewares/Third_Party/LwIP/src/include/lwip/priv/memp_priv.h"
 2260              		.file 23 "Middlewares/Third_Party/LwIP/src/include/lwip/netif.h"
 2261              		.file 24 "Middlewares/Third_Party/LwIP/src/include/lwip/prot/ethernet.h"
 2262              		.file 25 "Middlewares/Third_Party/LwIP/src/include/lwip/prot/etharp.h"
 2263              		.file 26 "Middlewares/Third_Party/LwIP/src/include/netif/ethernet.h"
 2264              		.file 27 "Middlewares/Third_Party/LwIP/src/include/lwip/def.h"
 2265              		.file 28 "/usr/include/newlib/stdio.h"
ARM GAS  /tmp/ccUSpX0e.s 			page 67


DEFINED SYMBOLS
                            *ABS*:0000000000000000 etharp.c
     /tmp/ccUSpX0e.s:17     .text.etharp_free_entry:0000000000000000 $t
     /tmp/ccUSpX0e.s:23     .text.etharp_free_entry:0000000000000000 etharp_free_entry
     /tmp/ccUSpX0e.s:66     .text.etharp_free_entry:0000000000000030 $d
     /tmp/ccUSpX0e.s:71     .text.etharp_find_entry:0000000000000000 $t
     /tmp/ccUSpX0e.s:77     .text.etharp_find_entry:0000000000000000 etharp_find_entry
     /tmp/ccUSpX0e.s:389    .text.etharp_find_entry:0000000000000194 $d
     /tmp/ccUSpX0e.s:399    .text.etharp_update_arp_entry:0000000000000000 $t
     /tmp/ccUSpX0e.s:405    .text.etharp_update_arp_entry:0000000000000000 etharp_update_arp_entry
     /tmp/ccUSpX0e.s:553    .text.etharp_update_arp_entry:00000000000000b8 $d
     /tmp/ccUSpX0e.s:561    .text.etharp_raw:0000000000000000 $t
     /tmp/ccUSpX0e.s:567    .text.etharp_raw:0000000000000000 etharp_raw
     /tmp/ccUSpX0e.s:728    .text.etharp_raw:00000000000000cc $d
     /tmp/ccUSpX0e.s:737    .text.etharp_request_dst:0000000000000000 $t
     /tmp/ccUSpX0e.s:743    .text.etharp_request_dst:0000000000000000 etharp_request_dst
     /tmp/ccUSpX0e.s:786    .text.etharp_request_dst:0000000000000024 $d
     /tmp/ccUSpX0e.s:791    .text.etharp_cleanup_netif:0000000000000000 $t
     /tmp/ccUSpX0e.s:798    .text.etharp_cleanup_netif:0000000000000000 etharp_cleanup_netif
     /tmp/ccUSpX0e.s:861    .text.etharp_cleanup_netif:0000000000000034 $d
     /tmp/ccUSpX0e.s:866    .text.etharp_find_addr:0000000000000000 $t
     /tmp/ccUSpX0e.s:873    .text.etharp_find_addr:0000000000000000 etharp_find_addr
     /tmp/ccUSpX0e.s:962    .text.etharp_find_addr:0000000000000068 $d
     /tmp/ccUSpX0e.s:970    .text.etharp_get_entry:0000000000000000 $t
     /tmp/ccUSpX0e.s:977    .text.etharp_get_entry:0000000000000000 etharp_get_entry
     /tmp/ccUSpX0e.s:1084   .text.etharp_get_entry:0000000000000080 $d
     /tmp/ccUSpX0e.s:1094   .text.etharp_input:0000000000000000 $t
     /tmp/ccUSpX0e.s:1101   .text.etharp_input:0000000000000000 etharp_input
     /tmp/ccUSpX0e.s:1248   .text.etharp_input:00000000000000a4 $d
     /tmp/ccUSpX0e.s:1255   .text.etharp_request:0000000000000000 $t
     /tmp/ccUSpX0e.s:1262   .text.etharp_request:0000000000000000 etharp_request
     /tmp/ccUSpX0e.s:1283   .text.etharp_request:000000000000000c $d
     /tmp/ccUSpX0e.s:1288   .text.etharp_tmr:0000000000000000 $t
     /tmp/ccUSpX0e.s:1295   .text.etharp_tmr:0000000000000000 etharp_tmr
     /tmp/ccUSpX0e.s:1430   .text.etharp_tmr:000000000000008c $d
     /tmp/ccUSpX0e.s:1435   .text.etharp_output_to_arp_index:0000000000000000 $t
     /tmp/ccUSpX0e.s:1441   .text.etharp_output_to_arp_index:0000000000000000 etharp_output_to_arp_index
     /tmp/ccUSpX0e.s:1573   .text.etharp_output_to_arp_index:00000000000000c4 $d
     /tmp/ccUSpX0e.s:1581   .text.etharp_query:0000000000000000 $t
     /tmp/ccUSpX0e.s:1588   .text.etharp_query:0000000000000000 etharp_query
     /tmp/ccUSpX0e.s:1902   .text.etharp_query:0000000000000198 $d
     /tmp/ccUSpX0e.s:1914   .text.etharp_output:0000000000000000 $t
     /tmp/ccUSpX0e.s:1921   .text.etharp_output:0000000000000000 etharp_output
     /tmp/ccUSpX0e.s:2158   .text.etharp_output:0000000000000138 $d
     /tmp/ccUSpX0e.s:2171   .bss.arp_table:0000000000000000 $d
     /tmp/ccUSpX0e.s:2175   .bss.arp_table:0000000000000000 arp_table
     /tmp/ccUSpX0e.s:2181   .bss.etharp_cached_entry:0000000000000000 etharp_cached_entry
     /tmp/ccUSpX0e.s:2182   .bss.etharp_cached_entry:0000000000000000 $d
     /tmp/ccUSpX0e.s:2184   .rodata.etharp_find_addr.str1.4:0000000000000000 $d
     /tmp/ccUSpX0e.s:2188   .rodata.etharp_find_entry.str1.4:0000000000000000 $d
     /tmp/ccUSpX0e.s:2203   .rodata.etharp_get_entry.str1.4:0000000000000000 $d
     /tmp/ccUSpX0e.s:2210   .rodata.etharp_output_to_arp_index.str1.4:0000000000000000 $d
     /tmp/ccUSpX0e.s:2214   .rodata.etharp_query.str1.4:0000000000000000 $d
     /tmp/ccUSpX0e.s:2223   .rodata.etharp_raw.str1.4:0000000000000000 $d
     /tmp/ccUSpX0e.s:2234   .rodata.etharp_update_arp_entry.str1.4:0000000000000000 $d
                     .debug_frame:0000000000000010 $d

ARM GAS  /tmp/ccUSpX0e.s 			page 68


UNDEFINED SYMBOLS
pbuf_free
printf
ip4_addr_isbroadcast_u32
ethernet_output
pbuf_alloc
lwip_htons
ethzero
ethbroadcast
pbuf_copy
pbuf_ref
