ARM GAS  /tmp/ccR3k5BT.s 			page 1


   1              		.cpu cortex-m7
   2              		.eabi_attribute 28, 1
   3              		.eabi_attribute 20, 1
   4              		.eabi_attribute 21, 1
   5              		.eabi_attribute 23, 3
   6              		.eabi_attribute 24, 1
   7              		.eabi_attribute 25, 1
   8              		.eabi_attribute 26, 1
   9              		.eabi_attribute 30, 1
  10              		.eabi_attribute 34, 1
  11              		.eabi_attribute 18, 4
  12              		.file	"pbuf.c"
  13              		.text
  14              	.Ltext0:
  15              		.cfi_sections	.debug_frame
  16              		.section	.text.pbuf_pool_is_empty,"ax",%progbits
  17              		.align	1
  18              		.syntax unified
  19              		.thumb
  20              		.thumb_func
  21              		.fpu fpv5-d16
  23              	pbuf_pool_is_empty:
  24              	.LFB159:
  25              		.file 1 "Middlewares/Third_Party/LwIP/src/core/pbuf.c"
   1:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** /**
   2:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @file
   3:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Packet buffer management
   4:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  */
   5:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
   6:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** /**
   7:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @defgroup pbuf Packet buffers (PBUF)
   8:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @ingroup infrastructure
   9:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
  10:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Packets are built from the pbuf data structure. It supports dynamic
  11:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * memory allocation for packet contents or can reference externally
  12:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * managed packet contents both in RAM and ROM. Quick allocation for
  13:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * incoming packets is provided through pools with fixed sized pbufs.
  14:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
  15:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * A packet may span over multiple pbufs, chained as a singly linked
  16:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * list. This is called a "pbuf chain".
  17:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
  18:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Multiple packets may be queued, also using this singly linked list.
  19:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * This is called a "packet queue".
  20:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
  21:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * So, a packet queue consists of one or more pbuf chains, each of
  22:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * which consist of one or more pbufs. CURRENTLY, PACKET QUEUES ARE
  23:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * NOT SUPPORTED!!! Use helper structs to queue multiple packets.
  24:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
  25:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * The differences between a pbuf chain and a packet queue are very
  26:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * precise but subtle.
  27:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
  28:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * The last pbuf of a packet has a ->tot_len field that equals the
  29:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * ->len field. It can be found by traversing the list. If the last
  30:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * pbuf of a packet has a ->next field other than NULL, more packets
  31:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * are on the queue.
  32:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
  33:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Therefore, looping through a pbuf of a single packet, has an
ARM GAS  /tmp/ccR3k5BT.s 			page 2


  34:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * loop end condition (tot_len == p->len), NOT (next == NULL).
  35:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
  36:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Example of custom pbuf usage for zero-copy RX:
  37:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   @code{.c}
  38:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** typedef struct my_custom_pbuf
  39:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** {
  40:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****    struct pbuf_custom p;
  41:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****    void* dma_descriptor;
  42:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** } my_custom_pbuf_t;
  43:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
  44:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** LWIP_MEMPOOL_DECLARE(RX_POOL, 10, sizeof(my_custom_pbuf_t), "Zero-copy RX PBUF pool");
  45:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
  46:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** void my_pbuf_free_custom(void* p)
  47:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** {
  48:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   my_custom_pbuf_t* my_puf = (my_custom_pbuf_t*)p;
  49:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
  50:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   LOCK_INTERRUPTS();
  51:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   free_rx_dma_descriptor(my_pbuf->dma_descriptor);
  52:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   LWIP_MEMPOOL_FREE(RX_POOL, my_pbuf);
  53:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   UNLOCK_INTERRUPTS();
  54:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
  55:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
  56:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** void eth_rx_irq()
  57:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** {
  58:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   dma_descriptor*   dma_desc = get_RX_DMA_descriptor_from_ethernet();
  59:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   my_custom_pbuf_t* my_pbuf  = (my_custom_pbuf_t*)LWIP_MEMPOOL_ALLOC(RX_POOL);
  60:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
  61:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   my_pbuf->p.custom_free_function = my_pbuf_free_custom;
  62:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   my_pbuf->dma_descriptor         = dma_desc;
  63:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
  64:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   invalidate_cpu_cache(dma_desc->rx_data, dma_desc->rx_length);
  65:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   
  66:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   struct pbuf* p = pbuf_alloced_custom(PBUF_RAW,
  67:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****      dma_desc->rx_length,
  68:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****      PBUF_REF,
  69:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****      &my_pbuf->p,
  70:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****      dma_desc->rx_data,
  71:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****      dma_desc->max_buffer_size);
  72:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
  73:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   if(netif->input(p, netif) != ERR_OK) {
  74:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     pbuf_free(p);
  75:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
  76:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
  77:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   @endcode
  78:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  */
  79:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
  80:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** /*
  81:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Copyright (c) 2001-2004 Swedish Institute of Computer Science.
  82:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * All rights reserved.
  83:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
  84:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Redistribution and use in source and binary forms, with or without modification,
  85:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * are permitted provided that the following conditions are met:
  86:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
  87:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * 1. Redistributions of source code must retain the above copyright notice,
  88:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *    this list of conditions and the following disclaimer.
  89:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * 2. Redistributions in binary form must reproduce the above copyright notice,
  90:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *    this list of conditions and the following disclaimer in the documentation
ARM GAS  /tmp/ccR3k5BT.s 			page 3


  91:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *    and/or other materials provided with the distribution.
  92:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * 3. The name of the author may not be used to endorse or promote products
  93:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *    derived from this software without specific prior written permission.
  94:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
  95:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * THIS SOFTWARE IS PROVIDED BY THE AUTHOR ``AS IS'' AND ANY EXPRESS OR IMPLIED
  96:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
  97:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT
  98:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * SHALL THE AUTHOR BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  99:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT
 100:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
 101:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
 102:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING
 103:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY
 104:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * OF SUCH DAMAGE.
 105:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 106:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * This file is part of the lwIP TCP/IP stack.
 107:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 108:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Author: Adam Dunkels <adam@sics.se>
 109:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 110:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  */
 111:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 112:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #include "lwip/opt.h"
 113:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 114:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #include "lwip/stats.h"
 115:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #include "lwip/def.h"
 116:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #include "lwip/mem.h"
 117:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #include "lwip/memp.h"
 118:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #include "lwip/pbuf.h"
 119:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #include "lwip/sys.h"
 120:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #if LWIP_TCP && TCP_QUEUE_OOSEQ
 121:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #include "lwip/priv/tcp_priv.h"
 122:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #endif
 123:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #if LWIP_CHECKSUM_ON_COPY
 124:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #include "lwip/inet_chksum.h"
 125:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #endif
 126:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 127:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #include <string.h>
 128:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 129:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #define SIZEOF_STRUCT_PBUF        LWIP_MEM_ALIGN_SIZE(sizeof(struct pbuf))
 130:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** /* Since the pool is created in memp, PBUF_POOL_BUFSIZE will be automatically
 131:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****    aligned there. Therefore, PBUF_POOL_BUFSIZE_ALIGNED can be used here. */
 132:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #define PBUF_POOL_BUFSIZE_ALIGNED LWIP_MEM_ALIGN_SIZE(PBUF_POOL_BUFSIZE)
 133:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 134:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #if !LWIP_TCP || !TCP_QUEUE_OOSEQ || !PBUF_POOL_FREE_OOSEQ
 135:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #define PBUF_POOL_IS_EMPTY()
 136:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #else /* !LWIP_TCP || !TCP_QUEUE_OOSEQ || !PBUF_POOL_FREE_OOSEQ */
 137:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 138:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #if !NO_SYS
 139:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #ifndef PBUF_POOL_FREE_OOSEQ_QUEUE_CALL
 140:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #include "lwip/tcpip.h"
 141:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #define PBUF_POOL_FREE_OOSEQ_QUEUE_CALL()  do { \
 142:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   if (tcpip_callback_with_block(pbuf_free_ooseq_callback, NULL, 0) != ERR_OK) { \
 143:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       SYS_ARCH_PROTECT(old_level); \
 144:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       pbuf_free_ooseq_pending = 0; \
 145:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       SYS_ARCH_UNPROTECT(old_level); \
 146:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   } } while(0)
 147:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #endif /* PBUF_POOL_FREE_OOSEQ_QUEUE_CALL */
ARM GAS  /tmp/ccR3k5BT.s 			page 4


 148:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #endif /* !NO_SYS */
 149:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 150:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** volatile u8_t pbuf_free_ooseq_pending;
 151:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #define PBUF_POOL_IS_EMPTY() pbuf_pool_is_empty()
 152:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 153:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** /**
 154:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Attempt to reclaim some memory from queued out-of-sequence TCP segments
 155:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * if we run out of pool pbufs. It's better to give priority to new packets
 156:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * if we're running out.
 157:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 158:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * This must be done in the correct thread context therefore this function
 159:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * can only be used with NO_SYS=0 and through tcpip_callback.
 160:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  */
 161:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #if !NO_SYS
 162:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** static
 163:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #endif /* !NO_SYS */
 164:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** void
 165:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** pbuf_free_ooseq(void)
 166:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** {
 167:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   struct tcp_pcb* pcb;
 168:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   SYS_ARCH_SET(pbuf_free_ooseq_pending, 0);
 169:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 170:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   for (pcb = tcp_active_pcbs; NULL != pcb; pcb = pcb->next) {
 171:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     if (NULL != pcb->ooseq) {
 172:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /** Free the ooseq pbufs of one PCB only */
 173:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       LWIP_DEBUGF(PBUF_DEBUG | LWIP_DBG_TRACE, ("pbuf_free_ooseq: freeing out-of-sequence pbufs\n")
 174:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       tcp_segs_free(pcb->ooseq);
 175:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       pcb->ooseq = NULL;
 176:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       return;
 177:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     }
 178:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
 179:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
 180:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 181:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #if !NO_SYS
 182:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** /**
 183:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Just a callback function for tcpip_callback() that calls pbuf_free_ooseq().
 184:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  */
 185:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** static void
 186:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** pbuf_free_ooseq_callback(void *arg)
 187:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** {
 188:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   LWIP_UNUSED_ARG(arg);
 189:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   pbuf_free_ooseq();
 190:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
 191:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #endif /* !NO_SYS */
 192:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 193:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** /** Queue a call to pbuf_free_ooseq if not already queued. */
 194:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** static void
 195:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** pbuf_pool_is_empty(void)
 196:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** {
  26              		.loc 1 196 0
  27              		.cfi_startproc
  28              		@ args = 0, pretend = 0, frame = 0
  29              		@ frame_needed = 0, uses_anonymous_args = 0
  30              		@ link register save eliminated.
 197:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #ifndef PBUF_POOL_FREE_OOSEQ_QUEUE_CALL
 198:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   SYS_ARCH_SET(pbuf_free_ooseq_pending, 1);
  31              		.loc 1 198 0
ARM GAS  /tmp/ccR3k5BT.s 			page 5


  32 0000 0122     		movs	r2, #1
  33 0002 014B     		ldr	r3, .L2
  34 0004 1A70     		strb	r2, [r3]
  35 0006 7047     		bx	lr
  36              	.L3:
  37              		.align	2
  38              	.L2:
  39 0008 00000000 		.word	pbuf_free_ooseq_pending
  40              		.cfi_endproc
  41              	.LFE159:
  43              		.section	.text.pbuf_skip_const,"ax",%progbits
  44              		.align	1
  45              		.syntax unified
  46              		.thumb
  47              		.thumb_func
  48              		.fpu fpv5-d16
  50              	pbuf_skip_const:
  51              	.LFB174:
 199:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #else /* PBUF_POOL_FREE_OOSEQ_QUEUE_CALL */
 200:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   u8_t queued;
 201:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   SYS_ARCH_DECL_PROTECT(old_level);
 202:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   SYS_ARCH_PROTECT(old_level);
 203:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   queued = pbuf_free_ooseq_pending;
 204:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   pbuf_free_ooseq_pending = 1;
 205:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   SYS_ARCH_UNPROTECT(old_level);
 206:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 207:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   if (!queued) {
 208:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* queue a call to pbuf_free_ooseq if not already queued */
 209:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     PBUF_POOL_FREE_OOSEQ_QUEUE_CALL();
 210:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
 211:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #endif /* PBUF_POOL_FREE_OOSEQ_QUEUE_CALL */
 212:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
 213:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #endif /* !LWIP_TCP || !TCP_QUEUE_OOSEQ || !PBUF_POOL_FREE_OOSEQ */
 214:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 215:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** /**
 216:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @ingroup pbuf
 217:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Allocates a pbuf of the given type (possibly a chain for PBUF_POOL type).
 218:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 219:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * The actual memory allocated for the pbuf is determined by the
 220:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * layer at which the pbuf is allocated and the requested size
 221:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * (from the size parameter).
 222:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 223:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param layer flag to define header size
 224:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param length size of the pbuf's payload
 225:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param type this parameter decides how and where the pbuf
 226:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * should be allocated as follows:
 227:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 228:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * - PBUF_RAM: buffer memory for pbuf is allocated as one large
 229:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *             chunk. This includes protocol headers as well.
 230:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * - PBUF_ROM: no buffer memory is allocated for the pbuf, even for
 231:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *             protocol headers. Additional headers must be prepended
 232:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *             by allocating another pbuf and chain in to the front of
 233:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *             the ROM pbuf. It is assumed that the memory used is really
 234:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *             similar to ROM in that it is immutable and will not be
 235:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *             changed. Memory which is dynamic should generally not
 236:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *             be attached to PBUF_ROM pbufs. Use PBUF_REF instead.
 237:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * - PBUF_REF: no buffer memory is allocated for the pbuf, even for
ARM GAS  /tmp/ccR3k5BT.s 			page 6


 238:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *             protocol headers. It is assumed that the pbuf is only
 239:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *             being used in a single thread. If the pbuf gets queued,
 240:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *             then pbuf_take should be called to copy the buffer.
 241:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * - PBUF_POOL: the pbuf is allocated as a pbuf chain, with pbufs from
 242:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *              the pbuf pool that is allocated during pbuf_init().
 243:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 244:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @return the allocated pbuf. If multiple pbufs where allocated, this
 245:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * is the first pbuf of a pbuf chain.
 246:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  */
 247:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** struct pbuf *
 248:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** pbuf_alloc(pbuf_layer layer, u16_t length, pbuf_type type)
 249:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** {
 250:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   struct pbuf *p, *q, *r;
 251:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   u16_t offset;
 252:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   s32_t rem_len; /* remaining length */
 253:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   LWIP_DEBUGF(PBUF_DEBUG | LWIP_DBG_TRACE, ("pbuf_alloc(length=%"U16_F")\n", length));
 254:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 255:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* determine header offset */
 256:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   switch (layer) {
 257:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   case PBUF_TRANSPORT:
 258:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* add room for transport (often TCP) layer header */
 259:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     offset = PBUF_LINK_ENCAPSULATION_HLEN + PBUF_LINK_HLEN + PBUF_IP_HLEN + PBUF_TRANSPORT_HLEN;
 260:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     break;
 261:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   case PBUF_IP:
 262:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* add room for IP layer header */
 263:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     offset = PBUF_LINK_ENCAPSULATION_HLEN + PBUF_LINK_HLEN + PBUF_IP_HLEN;
 264:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     break;
 265:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   case PBUF_LINK:
 266:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* add room for link layer header */
 267:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     offset = PBUF_LINK_ENCAPSULATION_HLEN + PBUF_LINK_HLEN;
 268:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     break;
 269:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   case PBUF_RAW_TX:
 270:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* add room for encapsulating link layer headers (e.g. 802.11) */
 271:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     offset = PBUF_LINK_ENCAPSULATION_HLEN;
 272:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     break;
 273:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   case PBUF_RAW:
 274:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* no offset (e.g. RX buffers or chain successors) */
 275:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     offset = 0;
 276:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     break;
 277:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   default:
 278:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     LWIP_ASSERT("pbuf_alloc: bad pbuf layer", 0);
 279:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     return NULL;
 280:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
 281:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 282:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   switch (type) {
 283:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   case PBUF_POOL:
 284:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* allocate head of pbuf chain into p */
 285:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     p = (struct pbuf *)memp_malloc(MEMP_PBUF_POOL);
 286:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     LWIP_DEBUGF(PBUF_DEBUG | LWIP_DBG_TRACE, ("pbuf_alloc: allocated pbuf %p\n", (void *)p));
 287:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     if (p == NULL) {
 288:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       PBUF_POOL_IS_EMPTY();
 289:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       return NULL;
 290:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     }
 291:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     p->type = type;
 292:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     p->next = NULL;
 293:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 294:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* make the payload pointer point 'offset' bytes into pbuf data memory */
ARM GAS  /tmp/ccR3k5BT.s 			page 7


 295:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     p->payload = LWIP_MEM_ALIGN((void *)((u8_t *)p + (SIZEOF_STRUCT_PBUF + offset)));
 296:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     LWIP_ASSERT("pbuf_alloc: pbuf p->payload properly aligned",
 297:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****             ((mem_ptr_t)p->payload % MEM_ALIGNMENT) == 0);
 298:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* the total length of the pbuf chain is the requested size */
 299:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     p->tot_len = length;
 300:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* set the length of the first pbuf in the chain */
 301:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     p->len = LWIP_MIN(length, PBUF_POOL_BUFSIZE_ALIGNED - LWIP_MEM_ALIGN_SIZE(offset));
 302:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     LWIP_ASSERT("check p->payload + p->len does not overflow pbuf",
 303:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****                 ((u8_t*)p->payload + p->len <=
 304:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****                  (u8_t*)p + SIZEOF_STRUCT_PBUF + PBUF_POOL_BUFSIZE_ALIGNED));
 305:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     LWIP_ASSERT("PBUF_POOL_BUFSIZE must be bigger than MEM_ALIGNMENT",
 306:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       (PBUF_POOL_BUFSIZE_ALIGNED - LWIP_MEM_ALIGN_SIZE(offset)) > 0 );
 307:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* set reference count (needed here in case we fail) */
 308:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     p->ref = 1;
 309:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 310:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* now allocate the tail of the pbuf chain */
 311:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 312:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* remember first pbuf for linkage in next iteration */
 313:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     r = p;
 314:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* remaining length to be allocated */
 315:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     rem_len = length - p->len;
 316:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* any remaining pbufs to be allocated? */
 317:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     while (rem_len > 0) {
 318:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       q = (struct pbuf *)memp_malloc(MEMP_PBUF_POOL);
 319:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       if (q == NULL) {
 320:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****         PBUF_POOL_IS_EMPTY();
 321:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****         /* free chain so far allocated */
 322:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****         pbuf_free(p);
 323:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****         /* bail out unsuccessfully */
 324:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****         return NULL;
 325:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       }
 326:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       q->type = type;
 327:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       q->flags = 0;
 328:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       q->next = NULL;
 329:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* make previous pbuf point to this pbuf */
 330:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       r->next = q;
 331:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* set total length of this pbuf and next in chain */
 332:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       LWIP_ASSERT("rem_len < max_u16_t", rem_len < 0xffff);
 333:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       q->tot_len = (u16_t)rem_len;
 334:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* this pbuf length is pool size, unless smaller sized tail */
 335:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       q->len = LWIP_MIN((u16_t)rem_len, PBUF_POOL_BUFSIZE_ALIGNED);
 336:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       q->payload = (void *)((u8_t *)q + SIZEOF_STRUCT_PBUF);
 337:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       LWIP_ASSERT("pbuf_alloc: pbuf q->payload properly aligned",
 338:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****               ((mem_ptr_t)q->payload % MEM_ALIGNMENT) == 0);
 339:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       LWIP_ASSERT("check p->payload + p->len does not overflow pbuf",
 340:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****                   ((u8_t*)p->payload + p->len <=
 341:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****                    (u8_t*)p + SIZEOF_STRUCT_PBUF + PBUF_POOL_BUFSIZE_ALIGNED));
 342:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       q->ref = 1;
 343:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* calculate remaining length to be allocated */
 344:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       rem_len -= q->len;
 345:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* remember this pbuf for linkage in next iteration */
 346:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       r = q;
 347:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     }
 348:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* end of chain */
 349:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /*r->next = NULL;*/
 350:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 351:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     break;
ARM GAS  /tmp/ccR3k5BT.s 			page 8


 352:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   case PBUF_RAM:
 353:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     {
 354:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       mem_size_t alloc_len = LWIP_MEM_ALIGN_SIZE(SIZEOF_STRUCT_PBUF + offset) + LWIP_MEM_ALIGN_SIZE
 355:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       
 356:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* bug #50040: Check for integer overflow when calculating alloc_len */
 357:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       if (alloc_len < LWIP_MEM_ALIGN_SIZE(length)) {
 358:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****         return NULL;
 359:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       }
 360:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     
 361:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* If pbuf is to be allocated in RAM, allocate memory for it. */
 362:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       p = (struct pbuf*)mem_malloc(alloc_len);
 363:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     }
 364:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 365:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     if (p == NULL) {
 366:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       return NULL;
 367:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     }
 368:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* Set up internal structure of the pbuf. */
 369:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     p->payload = LWIP_MEM_ALIGN((void *)((u8_t *)p + SIZEOF_STRUCT_PBUF + offset));
 370:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     p->len = p->tot_len = length;
 371:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     p->next = NULL;
 372:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     p->type = type;
 373:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 374:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     LWIP_ASSERT("pbuf_alloc: pbuf->payload properly aligned",
 375:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****            ((mem_ptr_t)p->payload % MEM_ALIGNMENT) == 0);
 376:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     break;
 377:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* pbuf references existing (non-volatile static constant) ROM payload? */
 378:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   case PBUF_ROM:
 379:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* pbuf references existing (externally allocated) RAM payload? */
 380:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   case PBUF_REF:
 381:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* only allocate memory for the pbuf structure */
 382:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     p = (struct pbuf *)memp_malloc(MEMP_PBUF);
 383:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     if (p == NULL) {
 384:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       LWIP_DEBUGF(PBUF_DEBUG | LWIP_DBG_LEVEL_SERIOUS,
 385:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****                   ("pbuf_alloc: Could not allocate MEMP_PBUF for PBUF_%s.\n",
 386:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****                   (type == PBUF_ROM) ? "ROM" : "REF"));
 387:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       return NULL;
 388:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     }
 389:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* caller must set this field properly, afterwards */
 390:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     p->payload = NULL;
 391:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     p->len = p->tot_len = length;
 392:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     p->next = NULL;
 393:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     p->type = type;
 394:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     break;
 395:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   default:
 396:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     LWIP_ASSERT("pbuf_alloc: erroneous type", 0);
 397:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     return NULL;
 398:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
 399:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* set reference count */
 400:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   p->ref = 1;
 401:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* set flags */
 402:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   p->flags = 0;
 403:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   LWIP_DEBUGF(PBUF_DEBUG | LWIP_DBG_TRACE, ("pbuf_alloc(length=%"U16_F") == %p\n", length, (void *)
 404:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   return p;
 405:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
 406:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 407:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #if LWIP_SUPPORT_CUSTOM_PBUF
 408:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** /**
ARM GAS  /tmp/ccR3k5BT.s 			page 9


 409:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @ingroup pbuf
 410:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Initialize a custom pbuf (already allocated).
 411:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 412:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param l flag to define header size
 413:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param length size of the pbuf's payload
 414:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param type type of the pbuf (only used to treat the pbuf accordingly, as
 415:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *        this function allocates no memory)
 416:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param p pointer to the custom pbuf to initialize (already allocated)
 417:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param payload_mem pointer to the buffer that is used for payload and headers,
 418:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *        must be at least big enough to hold 'length' plus the header size,
 419:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *        may be NULL if set later.
 420:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *        ATTENTION: The caller is responsible for correct alignment of this buffer!!
 421:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param payload_mem_len the size of the 'payload_mem' buffer, must be at least
 422:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *        big enough to hold 'length' plus the header size
 423:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  */
 424:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** struct pbuf*
 425:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** pbuf_alloced_custom(pbuf_layer l, u16_t length, pbuf_type type, struct pbuf_custom *p,
 426:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****                     void *payload_mem, u16_t payload_mem_len)
 427:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** {
 428:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   u16_t offset;
 429:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   LWIP_DEBUGF(PBUF_DEBUG | LWIP_DBG_TRACE, ("pbuf_alloced_custom(length=%"U16_F")\n", length));
 430:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 431:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* determine header offset */
 432:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   switch (l) {
 433:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   case PBUF_TRANSPORT:
 434:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* add room for transport (often TCP) layer header */
 435:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     offset = PBUF_LINK_ENCAPSULATION_HLEN + PBUF_LINK_HLEN + PBUF_IP_HLEN + PBUF_TRANSPORT_HLEN;
 436:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     break;
 437:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   case PBUF_IP:
 438:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* add room for IP layer header */
 439:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     offset = PBUF_LINK_ENCAPSULATION_HLEN + PBUF_LINK_HLEN + PBUF_IP_HLEN;
 440:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     break;
 441:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   case PBUF_LINK:
 442:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* add room for link layer header */
 443:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     offset = PBUF_LINK_ENCAPSULATION_HLEN + PBUF_LINK_HLEN;
 444:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     break;
 445:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   case PBUF_RAW_TX:
 446:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* add room for encapsulating link layer headers (e.g. 802.11) */
 447:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     offset = PBUF_LINK_ENCAPSULATION_HLEN;
 448:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     break;
 449:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   case PBUF_RAW:
 450:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     offset = 0;
 451:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     break;
 452:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   default:
 453:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     LWIP_ASSERT("pbuf_alloced_custom: bad pbuf layer", 0);
 454:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     return NULL;
 455:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
 456:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 457:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   if (LWIP_MEM_ALIGN_SIZE(offset) + length > payload_mem_len) {
 458:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     LWIP_DEBUGF(PBUF_DEBUG | LWIP_DBG_LEVEL_WARNING, ("pbuf_alloced_custom(length=%"U16_F") buffer 
 459:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     return NULL;
 460:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
 461:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 462:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   p->pbuf.next = NULL;
 463:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   if (payload_mem != NULL) {
 464:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     p->pbuf.payload = (u8_t *)payload_mem + LWIP_MEM_ALIGN_SIZE(offset);
 465:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   } else {
ARM GAS  /tmp/ccR3k5BT.s 			page 10


 466:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     p->pbuf.payload = NULL;
 467:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
 468:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   p->pbuf.flags = PBUF_FLAG_IS_CUSTOM;
 469:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   p->pbuf.len = p->pbuf.tot_len = length;
 470:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   p->pbuf.type = type;
 471:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   p->pbuf.ref = 1;
 472:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   return &p->pbuf;
 473:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
 474:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #endif /* LWIP_SUPPORT_CUSTOM_PBUF */
 475:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 476:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** /**
 477:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @ingroup pbuf
 478:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Shrink a pbuf chain to a desired length.
 479:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 480:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param p pbuf to shrink.
 481:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param new_len desired new length of pbuf chain
 482:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 483:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Depending on the desired length, the first few pbufs in a chain might
 484:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * be skipped and left unchanged. The new last pbuf in the chain will be
 485:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * resized, and any remaining pbufs will be freed.
 486:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 487:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @note If the pbuf is ROM/REF, only the ->tot_len and ->len fields are adjusted.
 488:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @note May not be called on a packet queue.
 489:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 490:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @note Despite its name, pbuf_realloc cannot grow the size of a pbuf (chain).
 491:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  */
 492:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** void
 493:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** pbuf_realloc(struct pbuf *p, u16_t new_len)
 494:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** {
 495:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   struct pbuf *q;
 496:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   u16_t rem_len; /* remaining length */
 497:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   s32_t grow;
 498:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 499:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   LWIP_ASSERT("pbuf_realloc: p != NULL", p != NULL);
 500:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   LWIP_ASSERT("pbuf_realloc: sane p->type", p->type == PBUF_POOL ||
 501:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****               p->type == PBUF_ROM ||
 502:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****               p->type == PBUF_RAM ||
 503:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****               p->type == PBUF_REF);
 504:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 505:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* desired length larger than current length? */
 506:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   if (new_len >= p->tot_len) {
 507:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* enlarging not yet supported */
 508:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     return;
 509:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
 510:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 511:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* the pbuf chain grows by (new_len - p->tot_len) bytes
 512:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****    * (which may be negative in case of shrinking) */
 513:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   grow = new_len - p->tot_len;
 514:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 515:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* first, step over any pbufs that should remain in the chain */
 516:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   rem_len = new_len;
 517:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   q = p;
 518:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* should this pbuf be kept? */
 519:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   while (rem_len > q->len) {
 520:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* decrease remaining length by pbuf length */
 521:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     rem_len -= q->len;
 522:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* decrease total length indicator */
ARM GAS  /tmp/ccR3k5BT.s 			page 11


 523:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     LWIP_ASSERT("grow < max_u16_t", grow < 0xffff);
 524:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     q->tot_len += (u16_t)grow;
 525:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* proceed to next pbuf in chain */
 526:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     q = q->next;
 527:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     LWIP_ASSERT("pbuf_realloc: q != NULL", q != NULL);
 528:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
 529:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* we have now reached the new last pbuf (in q) */
 530:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* rem_len == desired length for pbuf q */
 531:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 532:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* shrink allocated memory for PBUF_RAM */
 533:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* (other types merely adjust their length fields */
 534:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   if ((q->type == PBUF_RAM) && (rem_len != q->len)
 535:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #if LWIP_SUPPORT_CUSTOM_PBUF
 536:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       && ((q->flags & PBUF_FLAG_IS_CUSTOM) == 0)
 537:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #endif /* LWIP_SUPPORT_CUSTOM_PBUF */
 538:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****      ) {
 539:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* reallocate and adjust the length of the pbuf that will be split */
 540:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     q = (struct pbuf *)mem_trim(q, (u16_t)((u8_t *)q->payload - (u8_t *)q) + rem_len);
 541:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     LWIP_ASSERT("mem_trim returned q == NULL", q != NULL);
 542:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
 543:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* adjust length fields for new last pbuf */
 544:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   q->len = rem_len;
 545:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   q->tot_len = q->len;
 546:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 547:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* any remaining pbufs in chain? */
 548:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   if (q->next != NULL) {
 549:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* free remaining pbufs in chain */
 550:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     pbuf_free(q->next);
 551:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
 552:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* q is last packet in chain */
 553:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   q->next = NULL;
 554:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 555:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
 556:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 557:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** /**
 558:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Adjusts the payload pointer to hide or reveal headers in the payload.
 559:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @see pbuf_header.
 560:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 561:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param p pbuf to change the header size.
 562:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param header_size_increment Number of bytes to increment header size.
 563:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param force Allow 'header_size_increment > 0' for PBUF_REF/PBUF_ROM types
 564:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 565:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @return non-zero on failure, zero on success.
 566:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 567:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  */
 568:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** static u8_t
 569:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** pbuf_header_impl(struct pbuf *p, s16_t header_size_increment, u8_t force)
 570:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** {
 571:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   u16_t type;
 572:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   void *payload;
 573:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   u16_t increment_magnitude;
 574:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 575:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   LWIP_ASSERT("p != NULL", p != NULL);
 576:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   if ((header_size_increment == 0) || (p == NULL)) {
 577:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     return 0;
 578:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
 579:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
ARM GAS  /tmp/ccR3k5BT.s 			page 12


 580:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   if (header_size_increment < 0) {
 581:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     increment_magnitude = (u16_t)-header_size_increment;
 582:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* Check that we aren't going to move off the end of the pbuf */
 583:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     LWIP_ERROR("increment_magnitude <= p->len", (increment_magnitude <= p->len), return 1;);
 584:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   } else {
 585:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     increment_magnitude = (u16_t)header_size_increment;
 586:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #if 0
 587:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* Can't assert these as some callers speculatively call
 588:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****          pbuf_header() to see if it's OK.  Will return 1 below instead. */
 589:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* Check that we've got the correct type of pbuf to work with */
 590:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     LWIP_ASSERT("p->type == PBUF_RAM || p->type == PBUF_POOL",
 591:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****                 p->type == PBUF_RAM || p->type == PBUF_POOL);
 592:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* Check that we aren't going to move off the beginning of the pbuf */
 593:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     LWIP_ASSERT("p->payload - increment_magnitude >= p + SIZEOF_STRUCT_PBUF",
 594:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****                 (u8_t *)p->payload - increment_magnitude >= (u8_t *)p + SIZEOF_STRUCT_PBUF);
 595:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #endif
 596:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
 597:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 598:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   type = p->type;
 599:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* remember current payload pointer */
 600:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   payload = p->payload;
 601:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 602:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* pbuf types containing payloads? */
 603:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   if (type == PBUF_RAM || type == PBUF_POOL) {
 604:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* set new payload pointer */
 605:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     p->payload = (u8_t *)p->payload - header_size_increment;
 606:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* boundary check fails? */
 607:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     if ((u8_t *)p->payload < (u8_t *)p + SIZEOF_STRUCT_PBUF) {
 608:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       LWIP_DEBUGF( PBUF_DEBUG | LWIP_DBG_TRACE,
 609:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****         ("pbuf_header: failed as %p < %p (not enough space for new header size)\n",
 610:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****         (void *)p->payload, (void *)((u8_t *)p + SIZEOF_STRUCT_PBUF)));
 611:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* restore old payload pointer */
 612:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       p->payload = payload;
 613:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* bail out unsuccessfully */
 614:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       return 1;
 615:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     }
 616:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* pbuf types referring to external payloads? */
 617:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   } else if (type == PBUF_REF || type == PBUF_ROM) {
 618:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* hide a header in the payload? */
 619:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     if ((header_size_increment < 0) && (increment_magnitude <= p->len)) {
 620:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* increase payload pointer */
 621:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       p->payload = (u8_t *)p->payload - header_size_increment;
 622:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     } else if ((header_size_increment > 0) && force) {
 623:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       p->payload = (u8_t *)p->payload - header_size_increment;
 624:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     } else {
 625:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* cannot expand payload to front (yet!)
 626:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****        * bail out unsuccessfully */
 627:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       return 1;
 628:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     }
 629:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   } else {
 630:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* Unknown type */
 631:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     LWIP_ASSERT("bad pbuf type", 0);
 632:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     return 1;
 633:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
 634:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* modify pbuf length fields */
 635:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   p->len += header_size_increment;
 636:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   p->tot_len += header_size_increment;
ARM GAS  /tmp/ccR3k5BT.s 			page 13


 637:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 638:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   LWIP_DEBUGF(PBUF_DEBUG | LWIP_DBG_TRACE, ("pbuf_header: old %p new %p (%"S16_F")\n",
 639:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     (void *)payload, (void *)p->payload, header_size_increment));
 640:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 641:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   return 0;
 642:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
 643:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 644:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** /**
 645:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Adjusts the payload pointer to hide or reveal headers in the payload.
 646:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 647:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Adjusts the ->payload pointer so that space for a header
 648:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * (dis)appears in the pbuf payload.
 649:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 650:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * The ->payload, ->tot_len and ->len fields are adjusted.
 651:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 652:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param p pbuf to change the header size.
 653:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param header_size_increment Number of bytes to increment header size which
 654:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * increases the size of the pbuf. New space is on the front.
 655:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * (Using a negative value decreases the header size.)
 656:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * If hdr_size_inc is 0, this function does nothing and returns successful.
 657:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 658:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * PBUF_ROM and PBUF_REF type buffers cannot have their sizes increased, so
 659:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * the call will fail. A check is made that the increase in header size does
 660:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * not move the payload pointer in front of the start of the buffer.
 661:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @return non-zero on failure, zero on success.
 662:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 663:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  */
 664:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** u8_t
 665:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** pbuf_header(struct pbuf *p, s16_t header_size_increment)
 666:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** {
 667:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****    return pbuf_header_impl(p, header_size_increment, 0);
 668:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
 669:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 670:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** /**
 671:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Same as pbuf_header but does not check if 'header_size > 0' is allowed.
 672:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * This is used internally only, to allow PBUF_REF for RX.
 673:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  */
 674:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** u8_t
 675:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** pbuf_header_force(struct pbuf *p, s16_t header_size_increment)
 676:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** {
 677:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****    return pbuf_header_impl(p, header_size_increment, 1);
 678:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
 679:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 680:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** /**
 681:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @ingroup pbuf
 682:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Dereference a pbuf chain or queue and deallocate any no-longer-used
 683:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * pbufs at the head of this chain or queue.
 684:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 685:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Decrements the pbuf reference count. If it reaches zero, the pbuf is
 686:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * deallocated.
 687:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 688:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * For a pbuf chain, this is repeated for each pbuf in the chain,
 689:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * up to the first pbuf which has a non-zero reference count after
 690:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * decrementing. So, when all reference counts are one, the whole
 691:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * chain is free'd.
 692:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 693:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param p The pbuf (chain) to be dereferenced.
ARM GAS  /tmp/ccR3k5BT.s 			page 14


 694:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 695:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @return the number of pbufs that were de-allocated
 696:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * from the head of the chain.
 697:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 698:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @note MUST NOT be called on a packet queue (Not verified to work yet).
 699:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @note the reference counter of a pbuf equals the number of pointers
 700:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * that refer to the pbuf (or into the pbuf).
 701:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 702:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @internal examples:
 703:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 704:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Assuming existing chains a->b->c with the following reference
 705:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * counts, calling pbuf_free(a) results in:
 706:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 707:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * 1->2->3 becomes ...1->3
 708:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * 3->3->3 becomes 2->3->3
 709:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * 1->1->2 becomes ......1
 710:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * 2->1->1 becomes 1->1->1
 711:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * 1->1->1 becomes .......
 712:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 713:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  */
 714:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** u8_t
 715:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** pbuf_free(struct pbuf *p)
 716:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** {
 717:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   u16_t type;
 718:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   struct pbuf *q;
 719:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   u8_t count;
 720:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 721:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   if (p == NULL) {
 722:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     LWIP_ASSERT("p != NULL", p != NULL);
 723:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* if assertions are disabled, proceed with debug output */
 724:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     LWIP_DEBUGF(PBUF_DEBUG | LWIP_DBG_LEVEL_SERIOUS,
 725:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       ("pbuf_free(p == NULL) was called.\n"));
 726:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     return 0;
 727:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
 728:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   LWIP_DEBUGF(PBUF_DEBUG | LWIP_DBG_TRACE, ("pbuf_free(%p)\n", (void *)p));
 729:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 730:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   PERF_START;
 731:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 732:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   LWIP_ASSERT("pbuf_free: sane type",
 733:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     p->type == PBUF_RAM || p->type == PBUF_ROM ||
 734:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     p->type == PBUF_REF || p->type == PBUF_POOL);
 735:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 736:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   count = 0;
 737:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* de-allocate all consecutive pbufs from the head of the chain that
 738:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****    * obtain a zero reference count after decrementing*/
 739:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   while (p != NULL) {
 740:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     u16_t ref;
 741:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     SYS_ARCH_DECL_PROTECT(old_level);
 742:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* Since decrementing ref cannot be guaranteed to be a single machine operation
 743:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****      * we must protect it. We put the new ref into a local variable to prevent
 744:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****      * further protection. */
 745:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     SYS_ARCH_PROTECT(old_level);
 746:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* all pbufs in a chain are referenced at least once */
 747:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     LWIP_ASSERT("pbuf_free: p->ref > 0", p->ref > 0);
 748:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* decrease reference count (number of pointers to pbuf) */
 749:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     ref = --(p->ref);
 750:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     SYS_ARCH_UNPROTECT(old_level);
ARM GAS  /tmp/ccR3k5BT.s 			page 15


 751:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* this pbuf is no longer referenced to? */
 752:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     if (ref == 0) {
 753:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* remember next pbuf in chain for next iteration */
 754:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       q = p->next;
 755:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       LWIP_DEBUGF( PBUF_DEBUG | LWIP_DBG_TRACE, ("pbuf_free: deallocating %p\n", (void *)p));
 756:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       type = p->type;
 757:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #if LWIP_SUPPORT_CUSTOM_PBUF
 758:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* is this a custom pbuf? */
 759:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       if ((p->flags & PBUF_FLAG_IS_CUSTOM) != 0) {
 760:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****         struct pbuf_custom *pc = (struct pbuf_custom*)p;
 761:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****         LWIP_ASSERT("pc->custom_free_function != NULL", pc->custom_free_function != NULL);
 762:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****         pc->custom_free_function(p);
 763:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       } else
 764:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #endif /* LWIP_SUPPORT_CUSTOM_PBUF */
 765:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       {
 766:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****         /* is this a pbuf from the pool? */
 767:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****         if (type == PBUF_POOL) {
 768:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****           memp_free(MEMP_PBUF_POOL, p);
 769:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****         /* is this a ROM or RAM referencing pbuf? */
 770:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****         } else if (type == PBUF_ROM || type == PBUF_REF) {
 771:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****           memp_free(MEMP_PBUF, p);
 772:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****         /* type == PBUF_RAM */
 773:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****         } else {
 774:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****           mem_free(p);
 775:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****         }
 776:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       }
 777:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       count++;
 778:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* proceed to next pbuf */
 779:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       p = q;
 780:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* p->ref > 0, this pbuf is still referenced to */
 781:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* (and so the remaining pbufs in chain as well) */
 782:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     } else {
 783:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       LWIP_DEBUGF( PBUF_DEBUG | LWIP_DBG_TRACE, ("pbuf_free: %p has ref %"U16_F", ending here.\n", 
 784:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* stop walking through the chain */
 785:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       p = NULL;
 786:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     }
 787:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
 788:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   PERF_STOP("pbuf_free");
 789:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* return number of de-allocated pbufs */
 790:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   return count;
 791:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
 792:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 793:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** /**
 794:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Count number of pbufs in a chain
 795:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 796:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param p first pbuf of chain
 797:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @return the number of pbufs in a chain
 798:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  */
 799:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** u16_t
 800:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** pbuf_clen(const struct pbuf *p)
 801:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** {
 802:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   u16_t len;
 803:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 804:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   len = 0;
 805:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   while (p != NULL) {
 806:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     ++len;
 807:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     p = p->next;
ARM GAS  /tmp/ccR3k5BT.s 			page 16


 808:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
 809:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   return len;
 810:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
 811:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 812:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** /**
 813:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @ingroup pbuf
 814:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Increment the reference count of the pbuf.
 815:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 816:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param p pbuf to increase reference counter of
 817:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 818:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  */
 819:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** void
 820:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** pbuf_ref(struct pbuf *p)
 821:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** {
 822:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* pbuf given? */
 823:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   if (p != NULL) {
 824:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     SYS_ARCH_INC(p->ref, 1);
 825:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     LWIP_ASSERT("pbuf ref overflow", p->ref > 0);
 826:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
 827:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
 828:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 829:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** /**
 830:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @ingroup pbuf
 831:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Concatenate two pbufs (each may be a pbuf chain) and take over
 832:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * the caller's reference of the tail pbuf.
 833:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 834:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @note The caller MAY NOT reference the tail pbuf afterwards.
 835:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Use pbuf_chain() for that purpose.
 836:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 837:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @see pbuf_chain()
 838:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  */
 839:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** void
 840:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** pbuf_cat(struct pbuf *h, struct pbuf *t)
 841:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** {
 842:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   struct pbuf *p;
 843:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 844:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   LWIP_ERROR("(h != NULL) && (t != NULL) (programmer violates API)",
 845:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****              ((h != NULL) && (t != NULL)), return;);
 846:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 847:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* proceed to last pbuf of chain */
 848:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   for (p = h; p->next != NULL; p = p->next) {
 849:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* add total length of second chain to all totals of first chain */
 850:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     p->tot_len += t->tot_len;
 851:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
 852:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* { p is last pbuf of first h chain, p->next == NULL } */
 853:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   LWIP_ASSERT("p->tot_len == p->len (of last pbuf in chain)", p->tot_len == p->len);
 854:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   LWIP_ASSERT("p->next == NULL", p->next == NULL);
 855:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* add total length of second chain to last pbuf total of first chain */
 856:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   p->tot_len += t->tot_len;
 857:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* chain last pbuf of head (p) with first of tail (t) */
 858:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   p->next = t;
 859:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* p->next now references t, but the caller will drop its reference to t,
 860:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****    * so netto there is no change to the reference count of t.
 861:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****    */
 862:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
 863:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 864:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** /**
ARM GAS  /tmp/ccR3k5BT.s 			page 17


 865:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @ingroup pbuf
 866:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Chain two pbufs (or pbuf chains) together.
 867:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 868:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * The caller MUST call pbuf_free(t) once it has stopped
 869:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * using it. Use pbuf_cat() instead if you no longer use t.
 870:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 871:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param h head pbuf (chain)
 872:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param t tail pbuf (chain)
 873:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @note The pbufs MUST belong to the same packet.
 874:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @note MAY NOT be called on a packet queue.
 875:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 876:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * The ->tot_len fields of all pbufs of the head chain are adjusted.
 877:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * The ->next field of the last pbuf of the head chain is adjusted.
 878:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * The ->ref field of the first pbuf of the tail chain is adjusted.
 879:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 880:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  */
 881:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** void
 882:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** pbuf_chain(struct pbuf *h, struct pbuf *t)
 883:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** {
 884:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   pbuf_cat(h, t);
 885:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* t is now referenced by h */
 886:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   pbuf_ref(t);
 887:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   LWIP_DEBUGF(PBUF_DEBUG | LWIP_DBG_TRACE, ("pbuf_chain: %p references %p\n", (void *)h, (void *)t)
 888:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
 889:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 890:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** /**
 891:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Dechains the first pbuf from its succeeding pbufs in the chain.
 892:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 893:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Makes p->tot_len field equal to p->len.
 894:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param p pbuf to dechain
 895:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @return remainder of the pbuf chain, or NULL if it was de-allocated.
 896:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @note May not be called on a packet queue.
 897:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  */
 898:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** struct pbuf *
 899:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** pbuf_dechain(struct pbuf *p)
 900:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** {
 901:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   struct pbuf *q;
 902:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   u8_t tail_gone = 1;
 903:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* tail */
 904:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   q = p->next;
 905:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* pbuf has successor in chain? */
 906:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   if (q != NULL) {
 907:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* assert tot_len invariant: (p->tot_len == p->len + (p->next? p->next->tot_len: 0) */
 908:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     LWIP_ASSERT("p->tot_len == p->len + q->tot_len", q->tot_len == p->tot_len - p->len);
 909:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* enforce invariant if assertion is disabled */
 910:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     q->tot_len = p->tot_len - p->len;
 911:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* decouple pbuf from remainder */
 912:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     p->next = NULL;
 913:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* total length of pbuf p is its own length only */
 914:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     p->tot_len = p->len;
 915:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* q is no longer referenced by p, free it */
 916:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     LWIP_DEBUGF(PBUF_DEBUG | LWIP_DBG_TRACE, ("pbuf_dechain: unreferencing %p\n", (void *)q));
 917:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     tail_gone = pbuf_free(q);
 918:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     if (tail_gone > 0) {
 919:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       LWIP_DEBUGF(PBUF_DEBUG | LWIP_DBG_TRACE,
 920:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****                   ("pbuf_dechain: deallocated %p (as it is no longer referenced)\n", (void *)q));
 921:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     }
ARM GAS  /tmp/ccR3k5BT.s 			page 18


 922:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* return remaining tail or NULL if deallocated */
 923:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
 924:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* assert tot_len invariant: (p->tot_len == p->len + (p->next? p->next->tot_len: 0) */
 925:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   LWIP_ASSERT("p->tot_len == p->len", p->tot_len == p->len);
 926:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   return ((tail_gone > 0) ? NULL : q);
 927:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
 928:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 929:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** /**
 930:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @ingroup pbuf
 931:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Create PBUF_RAM copies of pbufs.
 932:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 933:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Used to queue packets on behalf of the lwIP stack, such as
 934:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * ARP based queueing.
 935:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 936:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @note You MUST explicitly use p = pbuf_take(p);
 937:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 938:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @note Only one packet is copied, no packet queue!
 939:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 940:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param p_to pbuf destination of the copy
 941:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param p_from pbuf source of the copy
 942:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 943:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @return ERR_OK if pbuf was copied
 944:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *         ERR_ARG if one of the pbufs is NULL or p_to is not big
 945:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *                 enough to hold p_from
 946:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  */
 947:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** err_t
 948:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** pbuf_copy(struct pbuf *p_to, const struct pbuf *p_from)
 949:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** {
 950:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   u16_t offset_to=0, offset_from=0, len;
 951:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 952:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   LWIP_DEBUGF(PBUF_DEBUG | LWIP_DBG_TRACE, ("pbuf_copy(%p, %p)\n",
 953:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     (const void*)p_to, (const void*)p_from));
 954:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 955:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* is the target big enough to hold the source? */
 956:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   LWIP_ERROR("pbuf_copy: target not big enough to hold source", ((p_to != NULL) &&
 957:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****              (p_from != NULL) && (p_to->tot_len >= p_from->tot_len)), return ERR_ARG;);
 958:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 959:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* iterate through pbuf chain */
 960:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   do
 961:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   {
 962:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* copy one part of the original chain */
 963:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     if ((p_to->len - offset_to) >= (p_from->len - offset_from)) {
 964:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* complete current p_from fits into current p_to */
 965:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       len = p_from->len - offset_from;
 966:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     } else {
 967:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* current p_from does not fit into current p_to */
 968:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       len = p_to->len - offset_to;
 969:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     }
 970:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     MEMCPY((u8_t*)p_to->payload + offset_to, (u8_t*)p_from->payload + offset_from, len);
 971:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     offset_to += len;
 972:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     offset_from += len;
 973:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     LWIP_ASSERT("offset_to <= p_to->len", offset_to <= p_to->len);
 974:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     LWIP_ASSERT("offset_from <= p_from->len", offset_from <= p_from->len);
 975:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     if (offset_from >= p_from->len) {
 976:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* on to next p_from (if any) */
 977:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       offset_from = 0;
 978:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       p_from = p_from->next;
ARM GAS  /tmp/ccR3k5BT.s 			page 19


 979:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     }
 980:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     if (offset_to == p_to->len) {
 981:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* on to next p_to (if any) */
 982:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       offset_to = 0;
 983:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       p_to = p_to->next;
 984:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       LWIP_ERROR("p_to != NULL", (p_to != NULL) || (p_from == NULL) , return ERR_ARG;);
 985:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     }
 986:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 987:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     if ((p_from != NULL) && (p_from->len == p_from->tot_len)) {
 988:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* don't copy more than one packet! */
 989:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       LWIP_ERROR("pbuf_copy() does not allow packet queues!",
 990:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****                  (p_from->next == NULL), return ERR_VAL;);
 991:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     }
 992:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     if ((p_to != NULL) && (p_to->len == p_to->tot_len)) {
 993:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* don't copy more than one packet! */
 994:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       LWIP_ERROR("pbuf_copy() does not allow packet queues!",
 995:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****                   (p_to->next == NULL), return ERR_VAL;);
 996:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     }
 997:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   } while (p_from);
 998:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   LWIP_DEBUGF(PBUF_DEBUG | LWIP_DBG_TRACE, ("pbuf_copy: end of chain reached.\n"));
 999:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   return ERR_OK;
1000:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
1001:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
1002:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** /**
1003:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @ingroup pbuf
1004:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Copy (part of) the contents of a packet buffer
1005:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * to an application supplied buffer.
1006:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
1007:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param buf the pbuf from which to copy data
1008:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param dataptr the application supplied buffer
1009:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param len length of data to copy (dataptr must be big enough). No more
1010:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * than buf->tot_len will be copied, irrespective of len
1011:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param offset offset into the packet buffer from where to begin copying len bytes
1012:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @return the number of bytes copied, or 0 on failure
1013:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  */
1014:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** u16_t
1015:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** pbuf_copy_partial(const struct pbuf *buf, void *dataptr, u16_t len, u16_t offset)
1016:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** {
1017:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   const struct pbuf *p;
1018:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   u16_t left;
1019:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   u16_t buf_copy_len;
1020:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   u16_t copied_total = 0;
1021:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
1022:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   LWIP_ERROR("pbuf_copy_partial: invalid buf", (buf != NULL), return 0;);
1023:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   LWIP_ERROR("pbuf_copy_partial: invalid dataptr", (dataptr != NULL), return 0;);
1024:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
1025:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   left = 0;
1026:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
1027:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   if ((buf == NULL) || (dataptr == NULL)) {
1028:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     return 0;
1029:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
1030:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
1031:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* Note some systems use byte copy if dataptr or one of the pbuf payload pointers are unaligned. 
1032:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   for (p = buf; len != 0 && p != NULL; p = p->next) {
1033:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     if ((offset != 0) && (offset >= p->len)) {
1034:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* don't copy from this buffer -> on to the next */
1035:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       offset -= p->len;
ARM GAS  /tmp/ccR3k5BT.s 			page 20


1036:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     } else {
1037:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* copy from this buffer. maybe only partially. */
1038:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       buf_copy_len = p->len - offset;
1039:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       if (buf_copy_len > len) {
1040:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****         buf_copy_len = len;
1041:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       }
1042:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* copy the necessary parts of the buffer */
1043:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       MEMCPY(&((char*)dataptr)[left], &((char*)p->payload)[offset], buf_copy_len);
1044:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       copied_total += buf_copy_len;
1045:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       left += buf_copy_len;
1046:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       len -= buf_copy_len;
1047:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       offset = 0;
1048:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     }
1049:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
1050:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   return copied_total;
1051:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
1052:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
1053:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #if LWIP_TCP && TCP_QUEUE_OOSEQ && LWIP_WND_SCALE
1054:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** /**
1055:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * This method modifies a 'pbuf chain', so that its total length is
1056:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * smaller than 64K. The remainder of the original pbuf chain is stored
1057:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * in *rest.
1058:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * This function never creates new pbufs, but splits an existing chain
1059:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * in two parts. The tot_len of the modified packet queue will likely be
1060:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * smaller than 64K.
1061:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * 'packet queues' are not supported by this function.
1062:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
1063:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param p the pbuf queue to be split
1064:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param rest pointer to store the remainder (after the first 64K)
1065:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  */
1066:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** void pbuf_split_64k(struct pbuf *p, struct pbuf **rest)
1067:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** {
1068:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   *rest = NULL;
1069:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   if ((p != NULL) && (p->next != NULL)) {
1070:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     u16_t tot_len_front = p->len;
1071:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     struct pbuf *i = p;
1072:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     struct pbuf *r = p->next;
1073:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
1074:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* continue until the total length (summed up as u16_t) overflows */
1075:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     while ((r != NULL) && ((u16_t)(tot_len_front + r->len) > tot_len_front)) {
1076:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       tot_len_front += r->len;
1077:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       i = r;
1078:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       r = r->next;
1079:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     }
1080:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* i now points to last packet of the first segment. Set next
1081:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****        pointer to NULL */
1082:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     i->next = NULL;
1083:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
1084:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     if (r != NULL) {
1085:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* Update the tot_len field in the first part */
1086:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       for (i = p; i != NULL; i = i->next) {
1087:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****         i->tot_len -= r->tot_len;
1088:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****         LWIP_ASSERT("tot_len/len mismatch in last pbuf",
1089:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****                     (i->next != NULL) || (i->tot_len == i->len));
1090:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       }
1091:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       if (p->flags & PBUF_FLAG_TCP_FIN) {
1092:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****         r->flags |= PBUF_FLAG_TCP_FIN;
ARM GAS  /tmp/ccR3k5BT.s 			page 21


1093:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       }
1094:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
1095:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* tot_len field in rest does not need modifications */
1096:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* reference counters do not need modifications */
1097:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       *rest = r;
1098:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     }
1099:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
1100:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
1101:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #endif /* LWIP_TCP && TCP_QUEUE_OOSEQ && LWIP_WND_SCALE */
1102:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
1103:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** /* Actual implementation of pbuf_skip() but returning const pointer... */
1104:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** static const struct pbuf*
1105:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** pbuf_skip_const(const struct pbuf* in, u16_t in_offset, u16_t* out_offset)
1106:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** {
  52              		.loc 1 1106 0
  53              		.cfi_startproc
  54              		@ args = 0, pretend = 0, frame = 0
  55              		@ frame_needed = 0, uses_anonymous_args = 0
  56              		@ link register save eliminated.
  57              	.LVL0:
1107:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   u16_t offset_left = in_offset;
1108:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   const struct pbuf* q = in;
1109:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
1110:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* get the correct pbuf */
1111:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   while ((q != NULL) && (q->len <= offset_left)) {
  58              		.loc 1 1111 0
  59 0000 02E0     		b	.L5
  60              	.LVL1:
  61              	.L7:
1112:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     offset_left -= q->len;
  62              		.loc 1 1112 0
  63 0002 C91A     		subs	r1, r1, r3
  64              	.LVL2:
  65 0004 89B2     		uxth	r1, r1
  66              	.LVL3:
1113:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     q = q->next;
  67              		.loc 1 1113 0
  68 0006 0068     		ldr	r0, [r0]
  69              	.LVL4:
  70              	.L5:
1111:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     offset_left -= q->len;
  71              		.loc 1 1111 0
  72 0008 10B1     		cbz	r0, .L6
1111:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     offset_left -= q->len;
  73              		.loc 1 1111 0 is_stmt 0 discriminator 1
  74 000a 4389     		ldrh	r3, [r0, #10]
  75 000c 9942     		cmp	r1, r3
  76 000e F8D2     		bcs	.L7
  77              	.L6:
1114:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
1115:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   if (out_offset != NULL) {
  78              		.loc 1 1115 0 is_stmt 1
  79 0010 02B1     		cbz	r2, .L8
1116:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     *out_offset = offset_left;
  80              		.loc 1 1116 0
  81 0012 1180     		strh	r1, [r2]	@ movhi
  82              	.L8:
ARM GAS  /tmp/ccR3k5BT.s 			page 22


1117:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
1118:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   return q;
1119:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
  83              		.loc 1 1119 0
  84 0014 7047     		bx	lr
  85              		.cfi_endproc
  86              	.LFE174:
  88              		.section	.text.pbuf_header_impl,"ax",%progbits
  89              		.align	1
  90              		.syntax unified
  91              		.thumb
  92              		.thumb_func
  93              		.fpu fpv5-d16
  95              	pbuf_header_impl:
  96              	.LFB163:
 570:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   u16_t type;
  97              		.loc 1 570 0
  98              		.cfi_startproc
  99              		@ args = 0, pretend = 0, frame = 0
 100              		@ frame_needed = 0, uses_anonymous_args = 0
 101              	.LVL5:
 102 0000 70B5     		push	{r4, r5, r6, lr}
 103              	.LCFI0:
 104              		.cfi_def_cfa_offset 16
 105              		.cfi_offset 4, -16
 106              		.cfi_offset 5, -12
 107              		.cfi_offset 6, -8
 108              		.cfi_offset 14, -4
 109 0002 0C46     		mov	r4, r1
 110 0004 1646     		mov	r6, r2
 575:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   if ((header_size_increment == 0) || (p == NULL)) {
 111              		.loc 1 575 0
 112 0006 0546     		mov	r5, r0
 113 0008 D8B1     		cbz	r0, .L21
 114              	.LVL6:
 115              	.L10:
 576:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     return 0;
 116              		.loc 1 576 0
 117 000a 002D     		cmp	r5, #0
 118 000c 18BF     		it	ne
 119 000e 002C     		cmpne	r4, #0
 120 0010 4DD0     		beq	.L18
 580:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     increment_magnitude = (u16_t)-header_size_increment;
 121              		.loc 1 580 0
 122 0012 002C     		cmp	r4, #0
 123 0014 1DDB     		blt	.L22
 585:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #if 0
 124              		.loc 1 585 0
 125 0016 A2B2     		uxth	r2, r4
 126              	.LVL7:
 127              	.L13:
 598:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* remember current payload pointer */
 128              		.loc 1 598 0
 129 0018 2B7B     		ldrb	r3, [r5, #12]	@ zero_extendqisi2
 130              	.LVL8:
 600:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 131              		.loc 1 600 0
ARM GAS  /tmp/ccR3k5BT.s 			page 23


 132 001a 6968     		ldr	r1, [r5, #4]
 133              	.LVL9:
 603:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* set new payload pointer */
 134              		.loc 1 603 0
 135 001c 032B     		cmp	r3, #3
 136 001e 18BF     		it	ne
 137 0020 002B     		cmpne	r3, #0
 138 0022 28D1     		bne	.L14
 605:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* boundary check fails? */
 139              		.loc 1 605 0
 140 0024 0B1B     		subs	r3, r1, r4
 141              	.LVL10:
 142 0026 6B60     		str	r3, [r5, #4]
 607:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       LWIP_DEBUGF( PBUF_DEBUG | LWIP_DBG_TRACE,
 143              		.loc 1 607 0
 144 0028 05F11002 		add	r2, r5, #16
 145              	.LVL11:
 146 002c 9342     		cmp	r3, r2
 147 002e 1FD3     		bcc	.L23
 148              	.LVL12:
 149              	.L15:
 635:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   p->tot_len += header_size_increment;
 150              		.loc 1 635 0
 151 0030 A4B2     		uxth	r4, r4
 152 0032 6B89     		ldrh	r3, [r5, #10]
 153 0034 2344     		add	r3, r3, r4
 154 0036 6B81     		strh	r3, [r5, #10]	@ movhi
 636:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 155              		.loc 1 636 0
 156 0038 2B89     		ldrh	r3, [r5, #8]
 157 003a 1C44     		add	r4, r4, r3
 158 003c 2C81     		strh	r4, [r5, #8]	@ movhi
 641:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
 159              		.loc 1 641 0
 160 003e 0020     		movs	r0, #0
 161 0040 70BD     		pop	{r4, r5, r6, pc}
 162              	.LVL13:
 163              	.L21:
 575:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   if ((header_size_increment == 0) || (p == NULL)) {
 164              		.loc 1 575 0 discriminator 1
 165 0042 1D4B     		ldr	r3, .L25
 166 0044 40F23F22 		movw	r2, #575
 167              	.LVL14:
 168 0048 1C49     		ldr	r1, .L25+4
 169              	.LVL15:
 170 004a 1D48     		ldr	r0, .L25+8
 171              	.LVL16:
 172 004c FFF7FEFF 		bl	printf
 173              	.LVL17:
 174 0050 DBE7     		b	.L10
 175              	.L22:
 581:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* Check that we aren't going to move off the end of the pbuf */
 176              		.loc 1 581 0
 177 0052 A2B2     		uxth	r2, r4
 178 0054 5242     		negs	r2, r2
 179 0056 92B2     		uxth	r2, r2
 180              	.LVL18:
ARM GAS  /tmp/ccR3k5BT.s 			page 24


 583:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   } else {
 181              		.loc 1 583 0
 182 0058 6B89     		ldrh	r3, [r5, #10]
 183 005a 9A42     		cmp	r2, r3
 184 005c DCD9     		bls	.L13
 583:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   } else {
 185              		.loc 1 583 0 is_stmt 0 discriminator 1
 186 005e 164B     		ldr	r3, .L25
 187 0060 40F24722 		movw	r2, #583
 188              	.LVL19:
 189 0064 1749     		ldr	r1, .L25+12
 190 0066 1648     		ldr	r0, .L25+8
 191 0068 FFF7FEFF 		bl	printf
 192              	.LVL20:
 193 006c 0120     		movs	r0, #1
 194 006e 70BD     		pop	{r4, r5, r6, pc}
 195              	.LVL21:
 196              	.L23:
 612:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* bail out unsuccessfully */
 197              		.loc 1 612 0 is_stmt 1
 198 0070 6960     		str	r1, [r5, #4]
 614:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     }
 199              		.loc 1 614 0
 200 0072 0120     		movs	r0, #1
 201 0074 70BD     		pop	{r4, r5, r6, pc}
 202              	.LVL22:
 203              	.L14:
 617:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* hide a header in the payload? */
 204              		.loc 1 617 0
 205 0076 013B     		subs	r3, r3, #1
 206              	.LVL23:
 207 0078 9BB2     		uxth	r3, r3
 208              	.LVL24:
 209 007a 012B     		cmp	r3, #1
 210 007c 0ED8     		bhi	.L16
 619:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* increase payload pointer */
 211              		.loc 1 619 0
 212 007e 002C     		cmp	r4, #0
 213 0080 06DB     		blt	.L24
 214              	.L17:
 622:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       p->payload = (u8_t *)p->payload - header_size_increment;
 215              		.loc 1 622 0
 216 0082 002E     		cmp	r6, #0
 217 0084 18BF     		it	ne
 218 0086 002C     		cmpne	r4, #0
 219 0088 13DD     		ble	.L19
 623:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     } else {
 220              		.loc 1 623 0
 221 008a 091B     		subs	r1, r1, r4
 222              	.LVL25:
 223 008c 6960     		str	r1, [r5, #4]
 224              	.LVL26:
 225 008e CFE7     		b	.L15
 226              	.LVL27:
 227              	.L24:
 619:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* increase payload pointer */
 228              		.loc 1 619 0 discriminator 1
ARM GAS  /tmp/ccR3k5BT.s 			page 25


 229 0090 6B89     		ldrh	r3, [r5, #10]
 230 0092 9A42     		cmp	r2, r3
 231 0094 F5D8     		bhi	.L17
 621:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     } else if ((header_size_increment > 0) && force) {
 232              		.loc 1 621 0
 233 0096 091B     		subs	r1, r1, r4
 234              	.LVL28:
 235 0098 6960     		str	r1, [r5, #4]
 236              	.LVL29:
 237 009a C9E7     		b	.L15
 238              	.LVL30:
 239              	.L16:
 631:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     return 1;
 240              		.loc 1 631 0 discriminator 1
 241 009c 064B     		ldr	r3, .L25
 242 009e 40F27722 		movw	r2, #631
 243              	.LVL31:
 244 00a2 0949     		ldr	r1, .L25+16
 245              	.LVL32:
 246 00a4 0648     		ldr	r0, .L25+8
 247 00a6 FFF7FEFF 		bl	printf
 248              	.LVL33:
 632:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
 249              		.loc 1 632 0 discriminator 1
 250 00aa 0120     		movs	r0, #1
 251 00ac 70BD     		pop	{r4, r5, r6, pc}
 252              	.LVL34:
 253              	.L18:
 577:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
 254              		.loc 1 577 0
 255 00ae 0020     		movs	r0, #0
 256 00b0 70BD     		pop	{r4, r5, r6, pc}
 257              	.LVL35:
 258              	.L19:
 627:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     }
 259              		.loc 1 627 0
 260 00b2 0120     		movs	r0, #1
 642:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 261              		.loc 1 642 0
 262 00b4 70BD     		pop	{r4, r5, r6, pc}
 263              	.LVL36:
 264              	.L26:
 265 00b6 00BF     		.align	2
 266              	.L25:
 267 00b8 00000000 		.word	.LC0
 268 00bc 30000000 		.word	.LC1
 269 00c0 3C000000 		.word	.LC2
 270 00c4 64000000 		.word	.LC3
 271 00c8 84000000 		.word	.LC4
 272              		.cfi_endproc
 273              	.LFE163:
 275              		.section	.text.pbuf_free_ooseq,"ax",%progbits
 276              		.align	1
 277              		.global	pbuf_free_ooseq
 278              		.syntax unified
 279              		.thumb
 280              		.thumb_func
ARM GAS  /tmp/ccR3k5BT.s 			page 26


 281              		.fpu fpv5-d16
 283              	pbuf_free_ooseq:
 284              	.LFB158:
 166:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   struct tcp_pcb* pcb;
 285              		.loc 1 166 0
 286              		.cfi_startproc
 287              		@ args = 0, pretend = 0, frame = 0
 288              		@ frame_needed = 0, uses_anonymous_args = 0
 289 0000 10B5     		push	{r4, lr}
 290              	.LCFI1:
 291              		.cfi_def_cfa_offset 8
 292              		.cfi_offset 4, -8
 293              		.cfi_offset 14, -4
 168:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 294              		.loc 1 168 0
 295 0002 0022     		movs	r2, #0
 296 0004 074B     		ldr	r3, .L35
 297 0006 1A70     		strb	r2, [r3]
 170:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     if (NULL != pcb->ooseq) {
 298              		.loc 1 170 0
 299 0008 074B     		ldr	r3, .L35+4
 300 000a 1C68     		ldr	r4, [r3]
 301              	.LVL37:
 302              	.L28:
 170:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     if (NULL != pcb->ooseq) {
 303              		.loc 1 170 0 is_stmt 0 discriminator 1
 304 000c 44B1     		cbz	r4, .L33
 171:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /** Free the ooseq pbufs of one PCB only */
 305              		.loc 1 171 0 is_stmt 1
 306 000e 206F     		ldr	r0, [r4, #112]
 307 0010 08B9     		cbnz	r0, .L34
 170:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     if (NULL != pcb->ooseq) {
 308              		.loc 1 170 0 discriminator 2
 309 0012 E468     		ldr	r4, [r4, #12]
 310              	.LVL38:
 311 0014 FAE7     		b	.L28
 312              	.L34:
 174:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       pcb->ooseq = NULL;
 313              		.loc 1 174 0
 314 0016 FFF7FEFF 		bl	tcp_segs_free
 315              	.LVL39:
 175:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       return;
 316              		.loc 1 175 0
 317 001a 0023     		movs	r3, #0
 318 001c 2367     		str	r3, [r4, #112]
 176:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     }
 319              		.loc 1 176 0
 320 001e 10BD     		pop	{r4, pc}
 321              	.LVL40:
 322              	.L33:
 323 0020 10BD     		pop	{r4, pc}
 324              	.LVL41:
 325              	.L36:
 326 0022 00BF     		.align	2
 327              	.L35:
 328 0024 00000000 		.word	pbuf_free_ooseq_pending
 329 0028 00000000 		.word	tcp_active_pcbs
ARM GAS  /tmp/ccR3k5BT.s 			page 27


 330              		.cfi_endproc
 331              	.LFE158:
 333              		.section	.text.pbuf_alloced_custom,"ax",%progbits
 334              		.align	1
 335              		.global	pbuf_alloced_custom
 336              		.syntax unified
 337              		.thumb
 338              		.thumb_func
 339              		.fpu fpv5-d16
 341              	pbuf_alloced_custom:
 342              	.LFB161:
 427:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   u16_t offset;
 343              		.loc 1 427 0
 344              		.cfi_startproc
 345              		@ args = 8, pretend = 0, frame = 0
 346              		@ frame_needed = 0, uses_anonymous_args = 0
 347              	.LVL42:
 348 0000 70B5     		push	{r4, r5, r6, lr}
 349              	.LCFI2:
 350              		.cfi_def_cfa_offset 16
 351              		.cfi_offset 4, -16
 352              		.cfi_offset 5, -12
 353              		.cfi_offset 6, -8
 354              		.cfi_offset 14, -4
 355 0002 049C     		ldr	r4, [sp, #16]
 432:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   case PBUF_TRANSPORT:
 356              		.loc 1 432 0
 357 0004 0428     		cmp	r0, #4
 358 0006 0AD8     		bhi	.L38
 359 0008 DFE800F0 		tbb	[pc, r0]
 360              	.L40:
 361 000c 12       		.byte	(.L39-.L40)/2
 362 000d 14       		.byte	(.L48-.L40)/2
 363 000e 03       		.byte	(.L42-.L40)/2
 364 000f 05       		.byte	(.L43-.L40)/2
 365 0010 07       		.byte	(.L44-.L40)/2
 366 0011 00       		.p2align 1
 367              	.L42:
 368              	.LVL43:
 443:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     break;
 369              		.loc 1 443 0
 370 0012 0E20     		movs	r0, #14
 371              	.LVL44:
 444:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   case PBUF_RAW_TX:
 372              		.loc 1 444 0
 373 0014 0FE0     		b	.L41
 374              	.LVL45:
 375              	.L43:
 447:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     break;
 376              		.loc 1 447 0
 377 0016 0020     		movs	r0, #0
 378              	.LVL46:
 448:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   case PBUF_RAW:
 379              		.loc 1 448 0
 380 0018 0DE0     		b	.L41
 381              	.LVL47:
 382              	.L44:
ARM GAS  /tmp/ccR3k5BT.s 			page 28


 450:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     break;
 383              		.loc 1 450 0
 384 001a 0020     		movs	r0, #0
 385              	.LVL48:
 451:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   default:
 386              		.loc 1 451 0
 387 001c 0BE0     		b	.L41
 388              	.LVL49:
 389              	.L38:
 453:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     return NULL;
 390              		.loc 1 453 0 discriminator 1
 391 001e 134B     		ldr	r3, .L51
 392              	.LVL50:
 393 0020 40F2C512 		movw	r2, #453
 394              	.LVL51:
 395 0024 1249     		ldr	r1, .L51+4
 396              	.LVL52:
 397 0026 1348     		ldr	r0, .L51+8
 398              	.LVL53:
 399 0028 FFF7FEFF 		bl	printf
 400              	.LVL54:
 454:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
 401              		.loc 1 454 0 discriminator 1
 402 002c 0020     		movs	r0, #0
 403 002e 70BD     		pop	{r4, r5, r6, pc}
 404              	.LVL55:
 405              	.L39:
 435:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     break;
 406              		.loc 1 435 0
 407 0030 3620     		movs	r0, #54
 408              	.LVL56:
 409 0032 00E0     		b	.L41
 410              	.LVL57:
 411              	.L48:
 439:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     break;
 412              		.loc 1 439 0
 413 0034 2220     		movs	r0, #34
 414              	.LVL58:
 415              	.L41:
 457:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     LWIP_DEBUGF(PBUF_DEBUG | LWIP_DBG_LEVEL_WARNING, ("pbuf_alloced_custom(length=%"U16_F") buffer 
 416              		.loc 1 457 0
 417 0036 0330     		adds	r0, r0, #3
 418              	.LVL59:
 419 0038 20F00300 		bic	r0, r0, #3
 420 003c 0E18     		adds	r6, r1, r0
 421 003e BDF81450 		ldrh	r5, [sp, #20]
 422 0042 AE42     		cmp	r6, r5
 423 0044 10D8     		bhi	.L49
 462:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   if (payload_mem != NULL) {
 424              		.loc 1 462 0
 425 0046 0025     		movs	r5, #0
 426 0048 1D60     		str	r5, [r3]
 463:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     p->pbuf.payload = (u8_t *)payload_mem + LWIP_MEM_ALIGN_SIZE(offset);
 427              		.loc 1 463 0
 428 004a 54B1     		cbz	r4, .L46
 464:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   } else {
 429              		.loc 1 464 0
ARM GAS  /tmp/ccR3k5BT.s 			page 29


 430 004c 2044     		add	r0, r0, r4
 431 004e 5860     		str	r0, [r3, #4]
 432              	.L47:
 468:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   p->pbuf.len = p->pbuf.tot_len = length;
 433              		.loc 1 468 0
 434 0050 0220     		movs	r0, #2
 435 0052 5873     		strb	r0, [r3, #13]
 469:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   p->pbuf.type = type;
 436              		.loc 1 469 0
 437 0054 1981     		strh	r1, [r3, #8]	@ movhi
 438 0056 5981     		strh	r1, [r3, #10]	@ movhi
 470:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   p->pbuf.ref = 1;
 439              		.loc 1 470 0
 440 0058 1A73     		strb	r2, [r3, #12]
 471:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   return &p->pbuf;
 441              		.loc 1 471 0
 442 005a 0122     		movs	r2, #1
 443              	.LVL60:
 444 005c DA81     		strh	r2, [r3, #14]	@ movhi
 472:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
 445              		.loc 1 472 0
 446 005e 1846     		mov	r0, r3
 447 0060 70BD     		pop	{r4, r5, r6, pc}
 448              	.LVL61:
 449              	.L46:
 466:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
 450              		.loc 1 466 0
 451 0062 0020     		movs	r0, #0
 452 0064 5860     		str	r0, [r3, #4]
 453 0066 F3E7     		b	.L47
 454              	.L49:
 459:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
 455              		.loc 1 459 0
 456 0068 0020     		movs	r0, #0
 473:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #endif /* LWIP_SUPPORT_CUSTOM_PBUF */
 457              		.loc 1 473 0
 458 006a 70BD     		pop	{r4, r5, r6, pc}
 459              	.LVL62:
 460              	.L52:
 461              		.align	2
 462              	.L51:
 463 006c 00000000 		.word	.LC0
 464 0070 00000000 		.word	.LC5
 465 0074 3C000000 		.word	.LC2
 466              		.cfi_endproc
 467              	.LFE161:
 469              		.section	.text.pbuf_header,"ax",%progbits
 470              		.align	1
 471              		.global	pbuf_header
 472              		.syntax unified
 473              		.thumb
 474              		.thumb_func
 475              		.fpu fpv5-d16
 477              	pbuf_header:
 478              	.LFB164:
 666:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****    return pbuf_header_impl(p, header_size_increment, 0);
 479              		.loc 1 666 0
ARM GAS  /tmp/ccR3k5BT.s 			page 30


 480              		.cfi_startproc
 481              		@ args = 0, pretend = 0, frame = 0
 482              		@ frame_needed = 0, uses_anonymous_args = 0
 483              	.LVL63:
 484 0000 08B5     		push	{r3, lr}
 485              	.LCFI3:
 486              		.cfi_def_cfa_offset 8
 487              		.cfi_offset 3, -8
 488              		.cfi_offset 14, -4
 667:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
 489              		.loc 1 667 0
 490 0002 0022     		movs	r2, #0
 491 0004 FFF7FEFF 		bl	pbuf_header_impl
 492              	.LVL64:
 668:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 493              		.loc 1 668 0
 494 0008 08BD     		pop	{r3, pc}
 495              		.cfi_endproc
 496              	.LFE164:
 498              		.section	.text.pbuf_header_force,"ax",%progbits
 499              		.align	1
 500              		.global	pbuf_header_force
 501              		.syntax unified
 502              		.thumb
 503              		.thumb_func
 504              		.fpu fpv5-d16
 506              	pbuf_header_force:
 507              	.LFB165:
 676:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****    return pbuf_header_impl(p, header_size_increment, 1);
 508              		.loc 1 676 0
 509              		.cfi_startproc
 510              		@ args = 0, pretend = 0, frame = 0
 511              		@ frame_needed = 0, uses_anonymous_args = 0
 512              	.LVL65:
 513 0000 08B5     		push	{r3, lr}
 514              	.LCFI4:
 515              		.cfi_def_cfa_offset 8
 516              		.cfi_offset 3, -8
 517              		.cfi_offset 14, -4
 677:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
 518              		.loc 1 677 0
 519 0002 0122     		movs	r2, #1
 520 0004 FFF7FEFF 		bl	pbuf_header_impl
 521              	.LVL66:
 678:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 522              		.loc 1 678 0
 523 0008 08BD     		pop	{r3, pc}
 524              		.cfi_endproc
 525              	.LFE165:
 527              		.section	.text.pbuf_free,"ax",%progbits
 528              		.align	1
 529              		.global	pbuf_free
 530              		.syntax unified
 531              		.thumb
 532              		.thumb_func
 533              		.fpu fpv5-d16
 535              	pbuf_free:
ARM GAS  /tmp/ccR3k5BT.s 			page 31


 536              	.LFB166:
 716:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   u16_t type;
 537              		.loc 1 716 0
 538              		.cfi_startproc
 539              		@ args = 0, pretend = 0, frame = 0
 540              		@ frame_needed = 0, uses_anonymous_args = 0
 541              	.LVL67:
 542 0000 70B5     		push	{r4, r5, r6, lr}
 543              	.LCFI5:
 544              		.cfi_def_cfa_offset 16
 545              		.cfi_offset 4, -16
 546              		.cfi_offset 5, -12
 547              		.cfi_offset 6, -8
 548              		.cfi_offset 14, -4
 721:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     LWIP_ASSERT("p != NULL", p != NULL);
 549              		.loc 1 721 0
 550 0002 28B1     		cbz	r0, .L72
 551 0004 0446     		mov	r4, r0
 732:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     p->type == PBUF_RAM || p->type == PBUF_ROM ||
 552              		.loc 1 732 0
 553 0006 037B     		ldrb	r3, [r0, #12]	@ zero_extendqisi2
 554 0008 032B     		cmp	r3, #3
 555 000a 0BD8     		bhi	.L73
 556              	.LVL68:
 557              	.L60:
 716:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   u16_t type;
 558              		.loc 1 716 0
 559 000c 0025     		movs	r5, #0
 560 000e 1FE0     		b	.L63
 561              	.LVL69:
 562              	.L72:
 722:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* if assertions are disabled, proceed with debug output */
 563              		.loc 1 722 0 discriminator 1
 564 0010 284B     		ldr	r3, .L77
 565 0012 40F2D222 		movw	r2, #722
 566 0016 2849     		ldr	r1, .L77+4
 567 0018 2848     		ldr	r0, .L77+8
 568              	.LVL70:
 569 001a FFF7FEFF 		bl	printf
 570              	.LVL71:
 726:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
 571              		.loc 1 726 0 discriminator 1
 572 001e 0025     		movs	r5, #0
 573              	.LVL72:
 574              	.L59:
 791:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 575              		.loc 1 791 0
 576 0020 2846     		mov	r0, r5
 577 0022 70BD     		pop	{r4, r5, r6, pc}
 578              	.LVL73:
 579              	.L73:
 732:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     p->type == PBUF_RAM || p->type == PBUF_ROM ||
 580              		.loc 1 732 0 discriminator 1
 581 0024 234B     		ldr	r3, .L77
 582 0026 40F2DE22 		movw	r2, #734
 583 002a 2549     		ldr	r1, .L77+12
 584 002c 2348     		ldr	r0, .L77+8
ARM GAS  /tmp/ccR3k5BT.s 			page 32


 585              	.LVL74:
 586 002e FFF7FEFF 		bl	printf
 587              	.LVL75:
 588 0032 EBE7     		b	.L60
 589              	.LVL76:
 590              	.L74:
 591              	.LBB2:
 747:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* decrease reference count (number of pointers to pbuf) */
 592              		.loc 1 747 0 discriminator 1
 593 0034 1F4B     		ldr	r3, .L77
 594 0036 40F2EB22 		movw	r2, #747
 595 003a 2249     		ldr	r1, .L77+16
 596 003c 1F48     		ldr	r0, .L77+8
 597 003e FFF7FEFF 		bl	printf
 598              	.LVL77:
 599 0042 0AE0     		b	.L62
 600              	.LVL78:
 601              	.L65:
 602              	.LBB3:
 762:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       } else
 603              		.loc 1 762 0
 604 0044 2369     		ldr	r3, [r4, #16]
 605 0046 2046     		mov	r0, r4
 606 0048 9847     		blx	r3
 607              	.LVL79:
 608              	.L66:
 609              	.LBE3:
 777:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* proceed to next pbuf */
 610              		.loc 1 777 0
 611 004a 0135     		adds	r5, r5, #1
 612              	.LVL80:
 613 004c EDB2     		uxtb	r5, r5
 614              	.LVL81:
 779:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* p->ref > 0, this pbuf is still referenced to */
 615              		.loc 1 779 0
 616 004e 3446     		mov	r4, r6
 617              	.LVL82:
 618              	.L63:
 619              	.LBE2:
 739:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     u16_t ref;
 620              		.loc 1 739 0
 621 0050 002C     		cmp	r4, #0
 622 0052 E5D0     		beq	.L59
 623              	.LBB5:
 747:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* decrease reference count (number of pointers to pbuf) */
 624              		.loc 1 747 0
 625 0054 E389     		ldrh	r3, [r4, #14]
 626 0056 002B     		cmp	r3, #0
 627 0058 ECD0     		beq	.L74
 628              	.L62:
 749:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     SYS_ARCH_UNPROTECT(old_level);
 629              		.loc 1 749 0
 630 005a E389     		ldrh	r3, [r4, #14]
 631 005c 013B     		subs	r3, r3, #1
 632 005e 9BB2     		uxth	r3, r3
 633 0060 E381     		strh	r3, [r4, #14]	@ movhi
 634              	.LVL83:
ARM GAS  /tmp/ccR3k5BT.s 			page 33


 752:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* remember next pbuf in chain for next iteration */
 635              		.loc 1 752 0
 636 0062 23BB     		cbnz	r3, .L70
 754:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       LWIP_DEBUGF( PBUF_DEBUG | LWIP_DBG_TRACE, ("pbuf_free: deallocating %p\n", (void *)p));
 637              		.loc 1 754 0
 638 0064 2668     		ldr	r6, [r4]
 639              	.LVL84:
 756:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #if LWIP_SUPPORT_CUSTOM_PBUF
 640              		.loc 1 756 0
 641 0066 237B     		ldrb	r3, [r4, #12]	@ zero_extendqisi2
 642              	.LVL85:
 759:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****         struct pbuf_custom *pc = (struct pbuf_custom*)p;
 643              		.loc 1 759 0
 644 0068 627B     		ldrb	r2, [r4, #13]	@ zero_extendqisi2
 645 006a 12F0020F 		tst	r2, #2
 646 006e 0AD0     		beq	.L64
 647              	.LVL86:
 648              	.LBB4:
 761:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****         pc->custom_free_function(p);
 649              		.loc 1 761 0
 650 0070 2369     		ldr	r3, [r4, #16]
 651              	.LVL87:
 652 0072 002B     		cmp	r3, #0
 653 0074 E6D1     		bne	.L65
 761:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****         pc->custom_free_function(p);
 654              		.loc 1 761 0 is_stmt 0 discriminator 1
 655 0076 0F4B     		ldr	r3, .L77
 656 0078 40F2F922 		movw	r2, #761
 657 007c 1249     		ldr	r1, .L77+20
 658 007e 0F48     		ldr	r0, .L77+8
 659 0080 FFF7FEFF 		bl	printf
 660              	.LVL88:
 661 0084 DEE7     		b	.L65
 662              	.LVL89:
 663              	.L64:
 664              	.LBE4:
 767:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****           memp_free(MEMP_PBUF_POOL, p);
 665              		.loc 1 767 0 is_stmt 1
 666 0086 032B     		cmp	r3, #3
 667 0088 07D0     		beq	.L75
 770:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****           memp_free(MEMP_PBUF, p);
 668              		.loc 1 770 0
 669 008a 013B     		subs	r3, r3, #1
 670              	.LVL90:
 671 008c 9BB2     		uxth	r3, r3
 672              	.LVL91:
 673 008e 012B     		cmp	r3, #1
 674 0090 08D9     		bls	.L76
 774:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****         }
 675              		.loc 1 774 0
 676 0092 2046     		mov	r0, r4
 677 0094 FFF7FEFF 		bl	mem_free
 678              	.LVL92:
 679 0098 D7E7     		b	.L66
 680              	.LVL93:
 681              	.L75:
 768:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****         /* is this a ROM or RAM referencing pbuf? */
ARM GAS  /tmp/ccR3k5BT.s 			page 34


 682              		.loc 1 768 0
 683 009a 2146     		mov	r1, r4
 684 009c 0820     		movs	r0, #8
 685 009e FFF7FEFF 		bl	memp_free
 686              	.LVL94:
 687 00a2 D2E7     		b	.L66
 688              	.LVL95:
 689              	.L76:
 771:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****         /* type == PBUF_RAM */
 690              		.loc 1 771 0
 691 00a4 2146     		mov	r1, r4
 692 00a6 0720     		movs	r0, #7
 693 00a8 FFF7FEFF 		bl	memp_free
 694              	.LVL96:
 695 00ac CDE7     		b	.L66
 696              	.LVL97:
 697              	.L70:
 785:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     }
 698              		.loc 1 785 0
 699 00ae 0024     		movs	r4, #0
 700              	.LVL98:
 701 00b0 CEE7     		b	.L63
 702              	.L78:
 703 00b2 00BF     		.align	2
 704              	.L77:
 705 00b4 00000000 		.word	.LC0
 706 00b8 30000000 		.word	.LC1
 707 00bc 3C000000 		.word	.LC2
 708 00c0 00000000 		.word	.LC6
 709 00c4 18000000 		.word	.LC7
 710 00c8 30000000 		.word	.LC8
 711              	.LBE5:
 712              		.cfi_endproc
 713              	.LFE166:
 715              		.section	.text.pbuf_alloc,"ax",%progbits
 716              		.align	1
 717              		.global	pbuf_alloc
 718              		.syntax unified
 719              		.thumb
 720              		.thumb_func
 721              		.fpu fpv5-d16
 723              	pbuf_alloc:
 724              	.LFB160:
 249:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   struct pbuf *p, *q, *r;
 725              		.loc 1 249 0
 726              		.cfi_startproc
 727              		@ args = 0, pretend = 0, frame = 0
 728              		@ frame_needed = 0, uses_anonymous_args = 0
 729              	.LVL99:
 730 0000 2DE9F843 		push	{r3, r4, r5, r6, r7, r8, r9, lr}
 731              	.LCFI6:
 732              		.cfi_def_cfa_offset 32
 733              		.cfi_offset 3, -32
 734              		.cfi_offset 4, -28
 735              		.cfi_offset 5, -24
 736              		.cfi_offset 6, -20
 737              		.cfi_offset 7, -16
ARM GAS  /tmp/ccR3k5BT.s 			page 35


 738              		.cfi_offset 8, -12
 739              		.cfi_offset 9, -8
 740              		.cfi_offset 14, -4
 741 0004 0D46     		mov	r5, r1
 742 0006 1746     		mov	r7, r2
 256:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   case PBUF_TRANSPORT:
 743              		.loc 1 256 0
 744 0008 0428     		cmp	r0, #4
 745 000a 0AD8     		bhi	.L80
 746 000c DFE800F0 		tbb	[pc, r0]
 747              	.L82:
 748 0010 12       		.byte	(.L81-.L82)/2
 749 0011 14       		.byte	(.L103-.L82)/2
 750 0012 03       		.byte	(.L84-.L82)/2
 751 0013 05       		.byte	(.L85-.L82)/2
 752 0014 07       		.byte	(.L86-.L82)/2
 753 0015 00       		.p2align 1
 754              	.L84:
 755              	.LVL100:
 267:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     break;
 756              		.loc 1 267 0
 757 0016 0E24     		movs	r4, #14
 268:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   case PBUF_RAW_TX:
 758              		.loc 1 268 0
 759 0018 0FE0     		b	.L83
 760              	.LVL101:
 761              	.L85:
 271:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     break;
 762              		.loc 1 271 0
 763 001a 0024     		movs	r4, #0
 272:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   case PBUF_RAW:
 764              		.loc 1 272 0
 765 001c 0DE0     		b	.L83
 766              	.LVL102:
 767              	.L86:
 275:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     break;
 768              		.loc 1 275 0
 769 001e 0024     		movs	r4, #0
 276:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   default:
 770              		.loc 1 276 0
 771 0020 0BE0     		b	.L83
 772              	.LVL103:
 773              	.L80:
 278:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     return NULL;
 774              		.loc 1 278 0 discriminator 1
 775 0022 644B     		ldr	r3, .L111
 776 0024 4FF48B72 		mov	r2, #278
 777              	.LVL104:
 778 0028 6349     		ldr	r1, .L111+4
 779              	.LVL105:
 780 002a 6448     		ldr	r0, .L111+8
 781              	.LVL106:
 782 002c FFF7FEFF 		bl	printf
 783              	.LVL107:
 279:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
 784              		.loc 1 279 0 discriminator 1
 785 0030 0026     		movs	r6, #0
ARM GAS  /tmp/ccR3k5BT.s 			page 36


 786 0032 B1E0     		b	.L79
 787              	.LVL108:
 788              	.L81:
 259:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     break;
 789              		.loc 1 259 0
 790 0034 3624     		movs	r4, #54
 791 0036 00E0     		b	.L83
 792              	.L103:
 263:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     break;
 793              		.loc 1 263 0
 794 0038 2224     		movs	r4, #34
 795              	.L83:
 796              	.LVL109:
 282:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   case PBUF_POOL:
 797              		.loc 1 282 0
 798 003a 032F     		cmp	r7, #3
 799 003c 00F2AF80 		bhi	.L88
 800 0040 DFE807F0 		tbb	[pc, r7]
 801              	.L90:
 802 0044 7B       		.byte	(.L89-.L90)/2
 803 0045 9B       		.byte	(.L91-.L90)/2
 804 0046 9B       		.byte	(.L91-.L90)/2
 805 0047 02       		.byte	(.L92-.L90)/2
 806              		.p2align 1
 807              	.L92:
 285:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     LWIP_DEBUGF(PBUF_DEBUG | LWIP_DBG_TRACE, ("pbuf_alloc: allocated pbuf %p\n", (void *)p));
 808              		.loc 1 285 0
 809 0048 0820     		movs	r0, #8
 810              	.LVL110:
 811 004a FFF7FEFF 		bl	memp_malloc
 812              	.LVL111:
 287:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       PBUF_POOL_IS_EMPTY();
 813              		.loc 1 287 0
 814 004e 0646     		mov	r6, r0
 815 0050 F8B1     		cbz	r0, .L106
 291:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     p->next = NULL;
 816              		.loc 1 291 0
 817 0052 0773     		strb	r7, [r0, #12]
 292:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 818              		.loc 1 292 0
 819 0054 0023     		movs	r3, #0
 820 0056 0360     		str	r3, [r0]
 295:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     LWIP_ASSERT("pbuf_alloc: pbuf p->payload properly aligned",
 821              		.loc 1 295 0
 822 0058 04F11003 		add	r3, r4, #16
 823 005c 0344     		add	r3, r3, r0
 824 005e 0333     		adds	r3, r3, #3
 825 0060 23F00303 		bic	r3, r3, #3
 826 0064 4360     		str	r3, [r0, #4]
 299:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* set the length of the first pbuf in the chain */
 827              		.loc 1 299 0
 828 0066 0581     		strh	r5, [r0, #8]	@ movhi
 301:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     LWIP_ASSERT("check p->payload + p->len does not overflow pbuf",
 829              		.loc 1 301 0
 830 0068 E21C     		adds	r2, r4, #3
 831 006a 22F00302 		bic	r2, r2, #3
 832 006e C2F51472 		rsb	r2, r2, #592
ARM GAS  /tmp/ccR3k5BT.s 			page 37


 833 0072 AA42     		cmp	r2, r5
 834 0074 28BF     		it	cs
 835 0076 2A46     		movcs	r2, r5
 836 0078 92B2     		uxth	r2, r2
 837 007a 4281     		strh	r2, [r0, #10]	@ movhi
 302:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****                 ((u8_t*)p->payload + p->len <=
 838              		.loc 1 302 0
 839 007c 1344     		add	r3, r3, r2
 840 007e 00F51878 		add	r8, r0, #608
 841 0082 4345     		cmp	r3, r8
 842 0084 08D8     		bhi	.L107
 843              	.LVL112:
 844              	.L95:
 308:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 845              		.loc 1 308 0
 846 0086 0123     		movs	r3, #1
 847 0088 F381     		strh	r3, [r6, #14]	@ movhi
 848              	.LVL113:
 315:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* any remaining pbufs to be allocated? */
 849              		.loc 1 315 0
 850 008a 7389     		ldrh	r3, [r6, #10]
 851 008c ED1A     		subs	r5, r5, r3
 852              	.LVL114:
 313:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* remaining length to be allocated */
 853              		.loc 1 313 0
 854 008e B146     		mov	r9, r6
 317:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       q = (struct pbuf *)memp_malloc(MEMP_PBUF_POOL);
 855              		.loc 1 317 0
 856 0090 26E0     		b	.L96
 857              	.LVL115:
 858              	.L106:
 288:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       return NULL;
 859              		.loc 1 288 0
 860 0092 FFF7FEFF 		bl	pbuf_pool_is_empty
 861              	.LVL116:
 289:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     }
 862              		.loc 1 289 0
 863 0096 7FE0     		b	.L79
 864              	.LVL117:
 865              	.L107:
 302:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****                 ((u8_t*)p->payload + p->len <=
 866              		.loc 1 302 0 discriminator 1
 867 0098 464B     		ldr	r3, .L111
 868 009a 4FF49872 		mov	r2, #304
 869 009e 4849     		ldr	r1, .L111+12
 870 00a0 4648     		ldr	r0, .L111+8
 871              	.LVL118:
 872 00a2 FFF7FEFF 		bl	printf
 873              	.LVL119:
 874 00a6 EEE7     		b	.L95
 875              	.LVL120:
 876              	.L108:
 320:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****         /* free chain so far allocated */
 877              		.loc 1 320 0
 878 00a8 FFF7FEFF 		bl	pbuf_pool_is_empty
 879              	.LVL121:
 322:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****         /* bail out unsuccessfully */
ARM GAS  /tmp/ccR3k5BT.s 			page 38


 880              		.loc 1 322 0
 881 00ac 3046     		mov	r0, r6
 882 00ae FFF7FEFF 		bl	pbuf_free
 883              	.LVL122:
 324:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       }
 884              		.loc 1 324 0
 885 00b2 2646     		mov	r6, r4
 886              	.LVL123:
 887 00b4 70E0     		b	.L79
 888              	.LVL124:
 889              	.L109:
 332:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       q->tot_len = (u16_t)rem_len;
 890              		.loc 1 332 0 discriminator 1
 891 00b6 3F4B     		ldr	r3, .L111
 892 00b8 4FF4A672 		mov	r2, #332
 893 00bc 4149     		ldr	r1, .L111+16
 894 00be 3F48     		ldr	r0, .L111+8
 895              	.LVL125:
 896 00c0 FFF7FEFF 		bl	printf
 897              	.LVL126:
 898 00c4 1EE0     		b	.L98
 899              	.L110:
 337:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****               ((mem_ptr_t)q->payload % MEM_ALIGNMENT) == 0);
 900              		.loc 1 337 0 discriminator 1
 901 00c6 3B4B     		ldr	r3, .L111
 902 00c8 4FF4A972 		mov	r2, #338
 903 00cc 3E49     		ldr	r1, .L111+20
 904 00ce 3B48     		ldr	r0, .L111+8
 905 00d0 FFF7FEFF 		bl	printf
 906              	.LVL127:
 907 00d4 24E0     		b	.L99
 908              	.L100:
 342:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* calculate remaining length to be allocated */
 909              		.loc 1 342 0
 910 00d6 0123     		movs	r3, #1
 911 00d8 E381     		strh	r3, [r4, #14]	@ movhi
 344:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* remember this pbuf for linkage in next iteration */
 912              		.loc 1 344 0
 913 00da 6389     		ldrh	r3, [r4, #10]
 914 00dc ED1A     		subs	r5, r5, r3
 915              	.LVL128:
 346:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     }
 916              		.loc 1 346 0
 917 00de A146     		mov	r9, r4
 918              	.LVL129:
 919              	.L96:
 317:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       q = (struct pbuf *)memp_malloc(MEMP_PBUF_POOL);
 920              		.loc 1 317 0
 921 00e0 002D     		cmp	r5, #0
 922 00e2 55DD     		ble	.L102
 318:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       if (q == NULL) {
 923              		.loc 1 318 0
 924 00e4 0820     		movs	r0, #8
 925 00e6 FFF7FEFF 		bl	memp_malloc
 926              	.LVL130:
 319:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****         PBUF_POOL_IS_EMPTY();
 927              		.loc 1 319 0
ARM GAS  /tmp/ccR3k5BT.s 			page 39


 928 00ea 0446     		mov	r4, r0
 929 00ec 0028     		cmp	r0, #0
 930 00ee DBD0     		beq	.L108
 326:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       q->flags = 0;
 931              		.loc 1 326 0
 932 00f0 0773     		strb	r7, [r0, #12]
 327:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       q->next = NULL;
 933              		.loc 1 327 0
 934 00f2 0023     		movs	r3, #0
 935 00f4 4373     		strb	r3, [r0, #13]
 328:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* make previous pbuf point to this pbuf */
 936              		.loc 1 328 0
 937 00f6 0360     		str	r3, [r0]
 330:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* set total length of this pbuf and next in chain */
 938              		.loc 1 330 0
 939 00f8 C9F80000 		str	r0, [r9]
 332:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       q->tot_len = (u16_t)rem_len;
 940              		.loc 1 332 0
 941 00fc 4FF6FE73 		movw	r3, #65534
 942 0100 9D42     		cmp	r5, r3
 943 0102 D8DC     		bgt	.L109
 944              	.LVL131:
 945              	.L98:
 333:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* this pbuf length is pool size, unless smaller sized tail */
 946              		.loc 1 333 0
 947 0104 ABB2     		uxth	r3, r5
 948 0106 2381     		strh	r3, [r4, #8]	@ movhi
 335:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       q->payload = (void *)((u8_t *)q + SIZEOF_STRUCT_PBUF);
 949              		.loc 1 335 0
 950 0108 B3F5147F 		cmp	r3, #592
 951 010c 28BF     		it	cs
 952 010e 4FF41473 		movcs	r3, #592
 953 0112 6381     		strh	r3, [r4, #10]	@ movhi
 336:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       LWIP_ASSERT("pbuf_alloc: pbuf q->payload properly aligned",
 954              		.loc 1 336 0
 955 0114 04F11003 		add	r3, r4, #16
 956 0118 6360     		str	r3, [r4, #4]
 337:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****               ((mem_ptr_t)q->payload % MEM_ALIGNMENT) == 0);
 957              		.loc 1 337 0
 958 011a 13F0030F 		tst	r3, #3
 959 011e D2D1     		bne	.L110
 960              	.L99:
 339:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****                   ((u8_t*)p->payload + p->len <=
 961              		.loc 1 339 0
 962 0120 7368     		ldr	r3, [r6, #4]
 963 0122 7289     		ldrh	r2, [r6, #10]
 964 0124 1344     		add	r3, r3, r2
 965 0126 9845     		cmp	r8, r3
 966 0128 D5D2     		bcs	.L100
 339:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****                   ((u8_t*)p->payload + p->len <=
 967              		.loc 1 339 0 is_stmt 0 discriminator 1
 968 012a 224B     		ldr	r3, .L111
 969 012c 40F25512 		movw	r2, #341
 970 0130 2349     		ldr	r1, .L111+12
 971 0132 2248     		ldr	r0, .L111+8
 972 0134 FFF7FEFF 		bl	printf
 973              	.LVL132:
ARM GAS  /tmp/ccR3k5BT.s 			page 40


 974 0138 CDE7     		b	.L100
 975              	.LVL133:
 976              	.L89:
 977              	.LBB6:
 354:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       
 978              		.loc 1 354 0 is_stmt 1
 979 013a 04F11300 		add	r0, r4, #19
 980              	.LVL134:
 981 013e 20F00300 		bic	r0, r0, #3
 982 0142 83B2     		uxth	r3, r0
 983 0144 EA1C     		adds	r2, r5, #3
 984              	.LVL135:
 985 0146 90B2     		uxth	r0, r2
 986 0148 20F00300 		bic	r0, r0, #3
 987 014c 1844     		add	r0, r0, r3
 988 014e 80B2     		uxth	r0, r0
 989              	.LVL136:
 357:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****         return NULL;
 990              		.loc 1 357 0
 991 0150 22F00302 		bic	r2, r2, #3
 992 0154 9042     		cmp	r0, r2
 993 0156 2BD3     		bcc	.L104
 362:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     }
 994              		.loc 1 362 0
 995 0158 FFF7FEFF 		bl	mem_malloc
 996              	.LVL137:
 997              	.LBE6:
 365:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       return NULL;
 998              		.loc 1 365 0
 999 015c 0646     		mov	r6, r0
 1000 015e D8B1     		cbz	r0, .L79
 369:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     p->len = p->tot_len = length;
 1001              		.loc 1 369 0
 1002 0160 04F11003 		add	r3, r4, #16
 1003 0164 0344     		add	r3, r3, r0
 1004 0166 0333     		adds	r3, r3, #3
 1005 0168 23F00303 		bic	r3, r3, #3
 1006 016c 4360     		str	r3, [r0, #4]
 370:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     p->next = NULL;
 1007              		.loc 1 370 0
 1008 016e 0581     		strh	r5, [r0, #8]	@ movhi
 1009 0170 4581     		strh	r5, [r0, #10]	@ movhi
 371:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     p->type = type;
 1010              		.loc 1 371 0
 1011 0172 0023     		movs	r3, #0
 1012 0174 0360     		str	r3, [r0]
 372:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 1013              		.loc 1 372 0
 1014 0176 0773     		strb	r7, [r0, #12]
 1015 0178 0AE0     		b	.L102
 1016              	.LVL138:
 1017              	.L91:
 382:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     if (p == NULL) {
 1018              		.loc 1 382 0
 1019 017a 0720     		movs	r0, #7
 1020              	.LVL139:
 1021 017c FFF7FEFF 		bl	memp_malloc
ARM GAS  /tmp/ccR3k5BT.s 			page 41


 1022              	.LVL140:
 383:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       LWIP_DEBUGF(PBUF_DEBUG | LWIP_DBG_LEVEL_SERIOUS,
 1023              		.loc 1 383 0
 1024 0180 0646     		mov	r6, r0
 1025 0182 48B1     		cbz	r0, .L79
 390:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     p->len = p->tot_len = length;
 1026              		.loc 1 390 0
 1027 0184 0023     		movs	r3, #0
 1028 0186 4360     		str	r3, [r0, #4]
 391:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     p->next = NULL;
 1029              		.loc 1 391 0
 1030 0188 0581     		strh	r5, [r0, #8]	@ movhi
 1031 018a 4581     		strh	r5, [r0, #10]	@ movhi
 392:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     p->type = type;
 1032              		.loc 1 392 0
 1033 018c 0360     		str	r3, [r0]
 393:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     break;
 1034              		.loc 1 393 0
 1035 018e 0773     		strb	r7, [r0, #12]
 1036              	.LVL141:
 1037              	.L102:
 400:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* set flags */
 1038              		.loc 1 400 0
 1039 0190 0123     		movs	r3, #1
 1040 0192 F381     		strh	r3, [r6, #14]	@ movhi
 402:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   LWIP_DEBUGF(PBUF_DEBUG | LWIP_DBG_TRACE, ("pbuf_alloc(length=%"U16_F") == %p\n", length, (void *)
 1041              		.loc 1 402 0
 1042 0194 0023     		movs	r3, #0
 1043 0196 7373     		strb	r3, [r6, #13]
 1044              	.LVL142:
 1045              	.L79:
 405:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 1046              		.loc 1 405 0
 1047 0198 3046     		mov	r0, r6
 1048 019a BDE8F883 		pop	{r3, r4, r5, r6, r7, r8, r9, pc}
 1049              	.LVL143:
 1050              	.L88:
 396:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     return NULL;
 1051              		.loc 1 396 0 discriminator 1
 1052 019e 054B     		ldr	r3, .L111
 1053 01a0 4FF4C672 		mov	r2, #396
 1054              	.LVL144:
 1055 01a4 0949     		ldr	r1, .L111+24
 1056              	.LVL145:
 1057 01a6 0548     		ldr	r0, .L111+8
 1058              	.LVL146:
 1059 01a8 FFF7FEFF 		bl	printf
 1060              	.LVL147:
 397:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
 1061              		.loc 1 397 0 discriminator 1
 1062 01ac 0026     		movs	r6, #0
 1063 01ae F3E7     		b	.L79
 1064              	.LVL148:
 1065              	.L104:
 1066              	.LBB7:
 358:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       }
 1067              		.loc 1 358 0
ARM GAS  /tmp/ccR3k5BT.s 			page 42


 1068 01b0 0026     		movs	r6, #0
 1069 01b2 F1E7     		b	.L79
 1070              	.L112:
 1071              		.align	2
 1072              	.L111:
 1073 01b4 00000000 		.word	.LC0
 1074 01b8 00000000 		.word	.LC9
 1075 01bc 3C000000 		.word	.LC2
 1076 01c0 1C000000 		.word	.LC10
 1077 01c4 84000000 		.word	.LC12
 1078 01c8 98000000 		.word	.LC13
 1079 01cc C8000000 		.word	.LC14
 1080              	.LBE7:
 1081              		.cfi_endproc
 1082              	.LFE160:
 1084              		.section	.text.pbuf_realloc,"ax",%progbits
 1085              		.align	1
 1086              		.global	pbuf_realloc
 1087              		.syntax unified
 1088              		.thumb
 1089              		.thumb_func
 1090              		.fpu fpv5-d16
 1092              	pbuf_realloc:
 1093              	.LFB162:
 494:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   struct pbuf *q;
 1094              		.loc 1 494 0
 1095              		.cfi_startproc
 1096              		@ args = 0, pretend = 0, frame = 0
 1097              		@ frame_needed = 0, uses_anonymous_args = 0
 1098              	.LVL149:
 1099 0000 70B5     		push	{r4, r5, r6, lr}
 1100              	.LCFI7:
 1101              		.cfi_def_cfa_offset 16
 1102              		.cfi_offset 4, -16
 1103              		.cfi_offset 5, -12
 1104              		.cfi_offset 6, -8
 1105              		.cfi_offset 14, -4
 1106 0002 0D46     		mov	r5, r1
 499:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   LWIP_ASSERT("pbuf_realloc: sane p->type", p->type == PBUF_POOL ||
 1107              		.loc 1 499 0
 1108 0004 0446     		mov	r4, r0
 1109 0006 98B1     		cbz	r0, .L124
 1110              	.LVL150:
 1111              	.L114:
 500:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****               p->type == PBUF_ROM ||
 1112              		.loc 1 500 0
 1113 0008 237B     		ldrb	r3, [r4, #12]	@ zero_extendqisi2
 1114 000a 032B     		cmp	r3, #3
 1115 000c 18BF     		it	ne
 1116 000e 012B     		cmpne	r3, #1
 1117 0010 09D0     		beq	.L115
 500:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****               p->type == PBUF_ROM ||
 1118              		.loc 1 500 0 is_stmt 0 discriminator 1
 1119 0012 43B1     		cbz	r3, .L115
 500:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****               p->type == PBUF_ROM ||
 1120              		.loc 1 500 0 discriminator 2
 1121 0014 022B     		cmp	r3, #2
ARM GAS  /tmp/ccR3k5BT.s 			page 43


 1122 0016 06D0     		beq	.L115
 500:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****               p->type == PBUF_ROM ||
 1123              		.loc 1 500 0 discriminator 3
 1124 0018 2B4B     		ldr	r3, .L128
 1125 001a 40F2F712 		movw	r2, #503
 1126 001e 2B49     		ldr	r1, .L128+4
 1127 0020 2B48     		ldr	r0, .L128+8
 1128 0022 FFF7FEFF 		bl	printf
 1129              	.LVL151:
 1130              	.L115:
 506:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* enlarging not yet supported */
 1131              		.loc 1 506 0 is_stmt 1
 1132 0026 2689     		ldrh	r6, [r4, #8]
 1133 0028 AE42     		cmp	r6, r5
 1134 002a 38D9     		bls	.L113
 513:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 1135              		.loc 1 513 0
 1136 002c AE1B     		subs	r6, r5, r6
 1137              	.LVL152:
 519:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* decrease remaining length by pbuf length */
 1138              		.loc 1 519 0
 1139 002e 0DE0     		b	.L117
 1140              	.LVL153:
 1141              	.L124:
 499:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   LWIP_ASSERT("pbuf_realloc: sane p->type", p->type == PBUF_POOL ||
 1142              		.loc 1 499 0 discriminator 1
 1143 0030 254B     		ldr	r3, .L128
 1144 0032 40F2F312 		movw	r2, #499
 1145 0036 2749     		ldr	r1, .L128+12
 1146              	.LVL154:
 1147 0038 2548     		ldr	r0, .L128+8
 1148              	.LVL155:
 1149 003a FFF7FEFF 		bl	printf
 1150              	.LVL156:
 1151 003e E3E7     		b	.L114
 1152              	.LVL157:
 1153              	.L118:
 524:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* proceed to next pbuf in chain */
 1154              		.loc 1 524 0
 1155 0040 2389     		ldrh	r3, [r4, #8]
 1156 0042 13FA86F3 		uxtah	r3, r3, r6
 1157 0046 2381     		strh	r3, [r4, #8]	@ movhi
 526:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     LWIP_ASSERT("pbuf_realloc: q != NULL", q != NULL);
 1158              		.loc 1 526 0
 1159 0048 2468     		ldr	r4, [r4]
 1160              	.LVL158:
 527:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
 1161              		.loc 1 527 0
 1162 004a 84B1     		cbz	r4, .L125
 1163              	.L117:
 519:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* decrease remaining length by pbuf length */
 1164              		.loc 1 519 0
 1165 004c 6189     		ldrh	r1, [r4, #10]
 1166 004e 8D42     		cmp	r5, r1
 1167 0050 15D9     		bls	.L126
 521:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* decrease total length indicator */
 1168              		.loc 1 521 0
ARM GAS  /tmp/ccR3k5BT.s 			page 44


 1169 0052 691A     		subs	r1, r5, r1
 1170 0054 8DB2     		uxth	r5, r1
 1171              	.LVL159:
 523:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     q->tot_len += (u16_t)grow;
 1172              		.loc 1 523 0
 1173 0056 4FF6FE73 		movw	r3, #65534
 1174 005a 9E42     		cmp	r6, r3
 1175 005c F0DD     		ble	.L118
 523:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     q->tot_len += (u16_t)grow;
 1176              		.loc 1 523 0 is_stmt 0 discriminator 1
 1177 005e 1A4B     		ldr	r3, .L128
 1178 0060 40F20B22 		movw	r2, #523
 1179 0064 1C49     		ldr	r1, .L128+16
 1180 0066 1A48     		ldr	r0, .L128+8
 1181 0068 FFF7FEFF 		bl	printf
 1182              	.LVL160:
 1183 006c E8E7     		b	.L118
 1184              	.L125:
 527:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
 1185              		.loc 1 527 0 is_stmt 1 discriminator 1
 1186 006e 164B     		ldr	r3, .L128
 1187 0070 40F20F22 		movw	r2, #527
 1188 0074 1949     		ldr	r1, .L128+20
 1189 0076 1648     		ldr	r0, .L128+8
 1190 0078 FFF7FEFF 		bl	printf
 1191              	.LVL161:
 1192 007c E6E7     		b	.L117
 1193              	.L126:
 534:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #if LWIP_SUPPORT_CUSTOM_PBUF
 1194              		.loc 1 534 0
 1195 007e 237B     		ldrb	r3, [r4, #12]	@ zero_extendqisi2
 1196 0080 2BB9     		cbnz	r3, .L121
 534:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #if LWIP_SUPPORT_CUSTOM_PBUF
 1197              		.loc 1 534 0 is_stmt 0 discriminator 1
 1198 0082 8D42     		cmp	r5, r1
 1199 0084 03D0     		beq	.L121
 536:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #endif /* LWIP_SUPPORT_CUSTOM_PBUF */
 1200              		.loc 1 536 0 is_stmt 1
 1201 0086 637B     		ldrb	r3, [r4, #13]	@ zero_extendqisi2
 1202 0088 13F0020F 		tst	r3, #2
 1203 008c 08D0     		beq	.L127
 1204              	.L121:
 544:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   q->tot_len = q->len;
 1205              		.loc 1 544 0
 1206 008e 6581     		strh	r5, [r4, #10]	@ movhi
 545:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 1207              		.loc 1 545 0
 1208 0090 2581     		strh	r5, [r4, #8]	@ movhi
 548:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* free remaining pbufs in chain */
 1209              		.loc 1 548 0
 1210 0092 2068     		ldr	r0, [r4]
 1211 0094 08B1     		cbz	r0, .L122
 550:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
 1212              		.loc 1 550 0
 1213 0096 FFF7FEFF 		bl	pbuf_free
 1214              	.LVL162:
 1215              	.L122:
ARM GAS  /tmp/ccR3k5BT.s 			page 45


 553:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 1216              		.loc 1 553 0
 1217 009a 0023     		movs	r3, #0
 1218 009c 2360     		str	r3, [r4]
 1219              	.LVL163:
 1220              	.L113:
 1221 009e 70BD     		pop	{r4, r5, r6, pc}
 1222              	.LVL164:
 1223              	.L127:
 540:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     LWIP_ASSERT("mem_trim returned q == NULL", q != NULL);
 1224              		.loc 1 540 0
 1225 00a0 6368     		ldr	r3, [r4, #4]
 1226 00a2 1B1B     		subs	r3, r3, r4
 1227 00a4 15FA83F1 		uxtah	r1, r5, r3
 1228 00a8 89B2     		uxth	r1, r1
 1229 00aa 2046     		mov	r0, r4
 1230 00ac FFF7FEFF 		bl	mem_trim
 1231              	.LVL165:
 541:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
 1232              		.loc 1 541 0
 1233 00b0 0446     		mov	r4, r0
 1234 00b2 0028     		cmp	r0, #0
 1235 00b4 EBD1     		bne	.L121
 541:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
 1236              		.loc 1 541 0 is_stmt 0 discriminator 1
 1237 00b6 044B     		ldr	r3, .L128
 1238 00b8 40F21D22 		movw	r2, #541
 1239 00bc 0849     		ldr	r1, .L128+24
 1240 00be 0448     		ldr	r0, .L128+8
 1241              	.LVL166:
 1242 00c0 FFF7FEFF 		bl	printf
 1243              	.LVL167:
 1244 00c4 E3E7     		b	.L121
 1245              	.L129:
 1246 00c6 00BF     		.align	2
 1247              	.L128:
 1248 00c8 00000000 		.word	.LC0
 1249 00cc 18000000 		.word	.LC16
 1250 00d0 3C000000 		.word	.LC2
 1251 00d4 00000000 		.word	.LC15
 1252 00d8 34000000 		.word	.LC17
 1253 00dc 48000000 		.word	.LC18
 1254 00e0 60000000 		.word	.LC19
 1255              		.cfi_endproc
 1256              	.LFE162:
 1258              		.section	.text.pbuf_clen,"ax",%progbits
 1259              		.align	1
 1260              		.global	pbuf_clen
 1261              		.syntax unified
 1262              		.thumb
 1263              		.thumb_func
 1264              		.fpu fpv5-d16
 1266              	pbuf_clen:
 1267              	.LFB167:
 801:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   u16_t len;
 1268              		.loc 1 801 0 is_stmt 1
 1269              		.cfi_startproc
ARM GAS  /tmp/ccR3k5BT.s 			page 46


 1270              		@ args = 0, pretend = 0, frame = 0
 1271              		@ frame_needed = 0, uses_anonymous_args = 0
 1272              		@ link register save eliminated.
 1273              	.LVL168:
 804:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   while (p != NULL) {
 1274              		.loc 1 804 0
 1275 0000 0023     		movs	r3, #0
 805:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     ++len;
 1276              		.loc 1 805 0
 1277 0002 02E0     		b	.L131
 1278              	.LVL169:
 1279              	.L132:
 806:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     p = p->next;
 1280              		.loc 1 806 0
 1281 0004 0133     		adds	r3, r3, #1
 1282              	.LVL170:
 1283 0006 9BB2     		uxth	r3, r3
 1284              	.LVL171:
 807:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
 1285              		.loc 1 807 0
 1286 0008 0068     		ldr	r0, [r0]
 1287              	.LVL172:
 1288              	.L131:
 805:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     ++len;
 1289              		.loc 1 805 0
 1290 000a 0028     		cmp	r0, #0
 1291 000c FAD1     		bne	.L132
 810:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 1292              		.loc 1 810 0
 1293 000e 1846     		mov	r0, r3
 1294              	.LVL173:
 1295 0010 7047     		bx	lr
 1296              		.cfi_endproc
 1297              	.LFE167:
 1299              		.section	.text.pbuf_ref,"ax",%progbits
 1300              		.align	1
 1301              		.global	pbuf_ref
 1302              		.syntax unified
 1303              		.thumb
 1304              		.thumb_func
 1305              		.fpu fpv5-d16
 1307              	pbuf_ref:
 1308              	.LFB168:
 821:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* pbuf given? */
 1309              		.loc 1 821 0
 1310              		.cfi_startproc
 1311              		@ args = 0, pretend = 0, frame = 0
 1312              		@ frame_needed = 0, uses_anonymous_args = 0
 1313              	.LVL174:
 823:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     SYS_ARCH_INC(p->ref, 1);
 1314              		.loc 1 823 0
 1315 0000 70B1     		cbz	r0, .L136
 821:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* pbuf given? */
 1316              		.loc 1 821 0
 1317 0002 08B5     		push	{r3, lr}
 1318              	.LCFI8:
 1319              		.cfi_def_cfa_offset 8
ARM GAS  /tmp/ccR3k5BT.s 			page 47


 1320              		.cfi_offset 3, -8
 1321              		.cfi_offset 14, -4
 824:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     LWIP_ASSERT("pbuf ref overflow", p->ref > 0);
 1322              		.loc 1 824 0
 1323 0004 C389     		ldrh	r3, [r0, #14]
 1324 0006 0133     		adds	r3, r3, #1
 1325 0008 9BB2     		uxth	r3, r3
 1326 000a C381     		strh	r3, [r0, #14]	@ movhi
 825:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
 1327              		.loc 1 825 0
 1328 000c 03B1     		cbz	r3, .L139
 1329              	.LVL175:
 1330              	.L133:
 1331 000e 08BD     		pop	{r3, pc}
 1332              	.LVL176:
 1333              	.L139:
 825:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
 1334              		.loc 1 825 0 is_stmt 0 discriminator 1
 1335 0010 044B     		ldr	r3, .L140
 1336 0012 40F23932 		movw	r2, #825
 1337 0016 0449     		ldr	r1, .L140+4
 1338 0018 0448     		ldr	r0, .L140+8
 1339              	.LVL177:
 1340 001a FFF7FEFF 		bl	printf
 1341              	.LVL178:
 827:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 1342              		.loc 1 827 0 is_stmt 1 discriminator 1
 1343 001e F6E7     		b	.L133
 1344              	.LVL179:
 1345              	.L136:
 1346              	.LCFI9:
 1347              		.cfi_def_cfa_offset 0
 1348              		.cfi_restore 3
 1349              		.cfi_restore 14
 1350 0020 7047     		bx	lr
 1351              	.L141:
 1352 0022 00BF     		.align	2
 1353              	.L140:
 1354 0024 00000000 		.word	.LC0
 1355 0028 00000000 		.word	.LC20
 1356 002c 3C000000 		.word	.LC2
 1357              		.cfi_endproc
 1358              	.LFE168:
 1360              		.section	.text.pbuf_cat,"ax",%progbits
 1361              		.align	1
 1362              		.global	pbuf_cat
 1363              		.syntax unified
 1364              		.thumb
 1365              		.thumb_func
 1366              		.fpu fpv5-d16
 1368              	pbuf_cat:
 1369              	.LFB169:
 841:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   struct pbuf *p;
 1370              		.loc 1 841 0
 1371              		.cfi_startproc
 1372              		@ args = 0, pretend = 0, frame = 0
 1373              		@ frame_needed = 0, uses_anonymous_args = 0
ARM GAS  /tmp/ccR3k5BT.s 			page 48


 1374              	.LVL180:
 1375 0000 38B5     		push	{r3, r4, r5, lr}
 1376              	.LCFI10:
 1377              		.cfi_def_cfa_offset 16
 1378              		.cfi_offset 3, -16
 1379              		.cfi_offset 4, -12
 1380              		.cfi_offset 5, -8
 1381              		.cfi_offset 14, -4
 844:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****              ((h != NULL) && (t != NULL)), return;);
 1382              		.loc 1 844 0
 1383 0002 0446     		mov	r4, r0
 1384 0004 0D46     		mov	r5, r1
 1385 0006 0029     		cmp	r1, #0
 1386 0008 18BF     		it	ne
 1387 000a 0028     		cmpne	r0, #0
 1388 000c 0CD1     		bne	.L143
 844:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****              ((h != NULL) && (t != NULL)), return;);
 1389              		.loc 1 844 0 is_stmt 0 discriminator 1
 1390 000e 154B     		ldr	r3, .L149
 1391 0010 40F24D32 		movw	r2, #845
 1392 0014 1449     		ldr	r1, .L149+4
 1393              	.LVL181:
 1394 0016 1548     		ldr	r0, .L149+8
 1395              	.LVL182:
 1396 0018 FFF7FEFF 		bl	printf
 1397              	.LVL183:
 1398 001c 38BD     		pop	{r3, r4, r5, pc}
 1399              	.LVL184:
 1400              	.L145:
 850:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
 1401              		.loc 1 850 0 is_stmt 1 discriminator 3
 1402 001e 2B89     		ldrh	r3, [r5, #8]
 1403 0020 2189     		ldrh	r1, [r4, #8]
 1404 0022 0B44     		add	r3, r3, r1
 1405 0024 2381     		strh	r3, [r4, #8]	@ movhi
 1406              	.LVL185:
 848:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* add total length of second chain to all totals of first chain */
 1407              		.loc 1 848 0 discriminator 3
 1408 0026 1446     		mov	r4, r2
 1409              	.LVL186:
 1410              	.L143:
 848:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* add total length of second chain to all totals of first chain */
 1411              		.loc 1 848 0 is_stmt 0 discriminator 1
 1412 0028 2268     		ldr	r2, [r4]
 1413 002a 002A     		cmp	r2, #0
 1414 002c F7D1     		bne	.L145
 853:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   LWIP_ASSERT("p->next == NULL", p->next == NULL);
 1415              		.loc 1 853 0 is_stmt 1
 1416 002e 2289     		ldrh	r2, [r4, #8]
 1417 0030 6389     		ldrh	r3, [r4, #10]
 1418 0032 9A42     		cmp	r2, r3
 1419 0034 06D0     		beq	.L146
 853:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   LWIP_ASSERT("p->next == NULL", p->next == NULL);
 1420              		.loc 1 853 0 is_stmt 0 discriminator 1
 1421 0036 0B4B     		ldr	r3, .L149
 1422 0038 40F25532 		movw	r2, #853
 1423 003c 0C49     		ldr	r1, .L149+12
ARM GAS  /tmp/ccR3k5BT.s 			page 49


 1424 003e 0B48     		ldr	r0, .L149+8
 1425              	.LVL187:
 1426 0040 FFF7FEFF 		bl	printf
 1427              	.LVL188:
 1428              	.L146:
 854:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* add total length of second chain to last pbuf total of first chain */
 1429              		.loc 1 854 0 is_stmt 1
 1430 0044 2368     		ldr	r3, [r4]
 1431 0046 33B1     		cbz	r3, .L147
 854:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* add total length of second chain to last pbuf total of first chain */
 1432              		.loc 1 854 0 is_stmt 0 discriminator 1
 1433 0048 064B     		ldr	r3, .L149
 1434 004a 40F25632 		movw	r2, #854
 1435 004e 0949     		ldr	r1, .L149+16
 1436 0050 0648     		ldr	r0, .L149+8
 1437 0052 FFF7FEFF 		bl	printf
 1438              	.LVL189:
 1439              	.L147:
 856:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* chain last pbuf of head (p) with first of tail (t) */
 1440              		.loc 1 856 0 is_stmt 1
 1441 0056 2B89     		ldrh	r3, [r5, #8]
 1442 0058 2289     		ldrh	r2, [r4, #8]
 1443 005a 1344     		add	r3, r3, r2
 1444 005c 2381     		strh	r3, [r4, #8]	@ movhi
 858:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* p->next now references t, but the caller will drop its reference to t,
 1445              		.loc 1 858 0
 1446 005e 2560     		str	r5, [r4]
 1447 0060 38BD     		pop	{r3, r4, r5, pc}
 1448              	.LVL190:
 1449              	.L150:
 1450 0062 00BF     		.align	2
 1451              	.L149:
 1452 0064 00000000 		.word	.LC0
 1453 0068 00000000 		.word	.LC21
 1454 006c 3C000000 		.word	.LC2
 1455 0070 38000000 		.word	.LC22
 1456 0074 68000000 		.word	.LC23
 1457              		.cfi_endproc
 1458              	.LFE169:
 1460              		.section	.text.pbuf_chain,"ax",%progbits
 1461              		.align	1
 1462              		.global	pbuf_chain
 1463              		.syntax unified
 1464              		.thumb
 1465              		.thumb_func
 1466              		.fpu fpv5-d16
 1468              	pbuf_chain:
 1469              	.LFB170:
 883:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   pbuf_cat(h, t);
 1470              		.loc 1 883 0
 1471              		.cfi_startproc
 1472              		@ args = 0, pretend = 0, frame = 0
 1473              		@ frame_needed = 0, uses_anonymous_args = 0
 1474              	.LVL191:
 1475 0000 10B5     		push	{r4, lr}
 1476              	.LCFI11:
 1477              		.cfi_def_cfa_offset 8
ARM GAS  /tmp/ccR3k5BT.s 			page 50


 1478              		.cfi_offset 4, -8
 1479              		.cfi_offset 14, -4
 1480 0002 0C46     		mov	r4, r1
 884:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* t is now referenced by h */
 1481              		.loc 1 884 0
 1482 0004 FFF7FEFF 		bl	pbuf_cat
 1483              	.LVL192:
 886:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   LWIP_DEBUGF(PBUF_DEBUG | LWIP_DBG_TRACE, ("pbuf_chain: %p references %p\n", (void *)h, (void *)t)
 1484              		.loc 1 886 0
 1485 0008 2046     		mov	r0, r4
 1486 000a FFF7FEFF 		bl	pbuf_ref
 1487              	.LVL193:
 1488 000e 10BD     		pop	{r4, pc}
 1489              		.cfi_endproc
 1490              	.LFE170:
 1492              		.section	.text.pbuf_dechain,"ax",%progbits
 1493              		.align	1
 1494              		.global	pbuf_dechain
 1495              		.syntax unified
 1496              		.thumb
 1497              		.thumb_func
 1498              		.fpu fpv5-d16
 1500              	pbuf_dechain:
 1501              	.LFB171:
 900:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   struct pbuf *q;
 1502              		.loc 1 900 0
 1503              		.cfi_startproc
 1504              		@ args = 0, pretend = 0, frame = 0
 1505              		@ frame_needed = 0, uses_anonymous_args = 0
 1506              	.LVL194:
 1507 0000 70B5     		push	{r4, r5, r6, lr}
 1508              	.LCFI12:
 1509              		.cfi_def_cfa_offset 16
 1510              		.cfi_offset 4, -16
 1511              		.cfi_offset 5, -12
 1512              		.cfi_offset 6, -8
 1513              		.cfi_offset 14, -4
 1514 0002 0446     		mov	r4, r0
 1515              	.LVL195:
 904:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* pbuf has successor in chain? */
 1516              		.loc 1 904 0
 1517 0004 0568     		ldr	r5, [r0]
 1518              	.LVL196:
 906:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* assert tot_len invariant: (p->tot_len == p->len + (p->next? p->next->tot_len: 0) */
 1519              		.loc 1 906 0
 1520 0006 35B3     		cbz	r5, .L158
 908:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* enforce invariant if assertion is disabled */
 1521              		.loc 1 908 0
 1522 0008 2A89     		ldrh	r2, [r5, #8]
 1523 000a 0389     		ldrh	r3, [r0, #8]
 1524 000c 4189     		ldrh	r1, [r0, #10]
 1525 000e 5B1A     		subs	r3, r3, r1
 1526 0010 9A42     		cmp	r2, r3
 1527 0012 06D0     		beq	.L155
 908:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* enforce invariant if assertion is disabled */
 1528              		.loc 1 908 0 is_stmt 0 discriminator 1
 1529 0014 124B     		ldr	r3, .L162
ARM GAS  /tmp/ccR3k5BT.s 			page 51


 1530 0016 4FF46372 		mov	r2, #908
 1531 001a 1249     		ldr	r1, .L162+4
 1532 001c 1248     		ldr	r0, .L162+8
 1533              	.LVL197:
 1534 001e FFF7FEFF 		bl	printf
 1535              	.LVL198:
 1536              	.L155:
 910:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* decouple pbuf from remainder */
 1537              		.loc 1 910 0 is_stmt 1
 1538 0022 2389     		ldrh	r3, [r4, #8]
 1539 0024 6289     		ldrh	r2, [r4, #10]
 1540 0026 9B1A     		subs	r3, r3, r2
 1541 0028 2B81     		strh	r3, [r5, #8]	@ movhi
 912:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* total length of pbuf p is its own length only */
 1542              		.loc 1 912 0
 1543 002a 0023     		movs	r3, #0
 1544 002c 2360     		str	r3, [r4]
 914:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* q is no longer referenced by p, free it */
 1545              		.loc 1 914 0
 1546 002e 6389     		ldrh	r3, [r4, #10]
 1547 0030 2381     		strh	r3, [r4, #8]	@ movhi
 917:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     if (tail_gone > 0) {
 1548              		.loc 1 917 0
 1549 0032 2846     		mov	r0, r5
 1550 0034 FFF7FEFF 		bl	pbuf_free
 1551              	.LVL199:
 1552 0038 0646     		mov	r6, r0
 1553              	.LVL200:
 1554              	.L154:
 925:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   return ((tail_gone > 0) ? NULL : q);
 1555              		.loc 1 925 0
 1556 003a 2289     		ldrh	r2, [r4, #8]
 1557 003c 6389     		ldrh	r3, [r4, #10]
 1558 003e 9A42     		cmp	r2, r3
 1559 0040 06D0     		beq	.L156
 925:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   return ((tail_gone > 0) ? NULL : q);
 1560              		.loc 1 925 0 is_stmt 0 discriminator 1
 1561 0042 074B     		ldr	r3, .L162
 1562 0044 40F29D32 		movw	r2, #925
 1563 0048 0849     		ldr	r1, .L162+12
 1564 004a 0748     		ldr	r0, .L162+8
 1565 004c FFF7FEFF 		bl	printf
 1566              	.LVL201:
 1567              	.L156:
 926:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
 1568              		.loc 1 926 0 is_stmt 1
 1569 0050 1EB9     		cbnz	r6, .L161
 1570              	.LVL202:
 1571              	.L153:
 927:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 1572              		.loc 1 927 0
 1573 0052 2846     		mov	r0, r5
 1574 0054 70BD     		pop	{r4, r5, r6, pc}
 1575              	.LVL203:
 1576              	.L158:
 902:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* tail */
 1577              		.loc 1 902 0
ARM GAS  /tmp/ccR3k5BT.s 			page 52


 1578 0056 0126     		movs	r6, #1
 1579 0058 EFE7     		b	.L154
 1580              	.LVL204:
 1581              	.L161:
 926:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
 1582              		.loc 1 926 0
 1583 005a 0025     		movs	r5, #0
 1584              	.LVL205:
 1585 005c F9E7     		b	.L153
 1586              	.L163:
 1587 005e 00BF     		.align	2
 1588              	.L162:
 1589 0060 00000000 		.word	.LC0
 1590 0064 00000000 		.word	.LC24
 1591 0068 3C000000 		.word	.LC2
 1592 006c 24000000 		.word	.LC25
 1593              		.cfi_endproc
 1594              	.LFE171:
 1596              		.section	.text.pbuf_copy,"ax",%progbits
 1597              		.align	1
 1598              		.global	pbuf_copy
 1599              		.syntax unified
 1600              		.thumb
 1601              		.thumb_func
 1602              		.fpu fpv5-d16
 1604              	pbuf_copy:
 1605              	.LFB172:
 949:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   u16_t offset_to=0, offset_from=0, len;
 1606              		.loc 1 949 0
 1607              		.cfi_startproc
 1608              		@ args = 0, pretend = 0, frame = 0
 1609              		@ frame_needed = 0, uses_anonymous_args = 0
 1610              	.LVL206:
 1611 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 1612              	.LCFI13:
 1613              		.cfi_def_cfa_offset 24
 1614              		.cfi_offset 4, -24
 1615              		.cfi_offset 5, -20
 1616              		.cfi_offset 6, -16
 1617              		.cfi_offset 7, -12
 1618              		.cfi_offset 8, -8
 1619              		.cfi_offset 14, -4
 1620              	.LVL207:
 956:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****              (p_from != NULL) && (p_to->tot_len >= p_from->tot_len)), return ERR_ARG;);
 1621              		.loc 1 956 0
 1622 0004 0029     		cmp	r1, #0
 1623 0006 18BF     		it	ne
 1624 0008 0028     		cmpne	r0, #0
 1625 000a 09D0     		beq	.L165
 1626 000c 0746     		mov	r7, r0
 1627 000e 0D46     		mov	r5, r1
 956:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****              (p_from != NULL) && (p_to->tot_len >= p_from->tot_len)), return ERR_ARG;);
 1628              		.loc 1 956 0 is_stmt 0 discriminator 2
 1629 0010 0289     		ldrh	r2, [r0, #8]
 1630 0012 0B89     		ldrh	r3, [r1, #8]
 1631 0014 9A42     		cmp	r2, r3
 1632 0016 03D3     		bcc	.L165
ARM GAS  /tmp/ccR3k5BT.s 			page 53


 1633 0018 4FF00008 		mov	r8, #0
 1634 001c 4646     		mov	r6, r8
 1635 001e 2CE0     		b	.L166
 1636              	.L165:
 956:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****              (p_from != NULL) && (p_to->tot_len >= p_from->tot_len)), return ERR_ARG;);
 1637              		.loc 1 956 0 discriminator 3
 1638 0020 404B     		ldr	r3, .L186
 1639 0022 40F2BD32 		movw	r2, #957
 1640 0026 4049     		ldr	r1, .L186+4
 1641              	.LVL208:
 1642 0028 4048     		ldr	r0, .L186+8
 1643              	.LVL209:
 1644 002a FFF7FEFF 		bl	printf
 1645              	.LVL210:
 1646 002e 6FF00F00 		mvn	r0, #15
 1647 0032 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 1648              	.LVL211:
 1649              	.L168:
 968:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     }
 1650              		.loc 1 968 0 is_stmt 1
 1651 0036 9B1B     		subs	r3, r3, r6
 1652 0038 9CB2     		uxth	r4, r3
 1653              	.LVL212:
 1654 003a 26E0     		b	.L169
 1655              	.LVL213:
 1656              	.L183:
 973:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     LWIP_ASSERT("offset_from <= p_from->len", offset_from <= p_from->len);
 1657              		.loc 1 973 0 discriminator 1
 1658 003c 394B     		ldr	r3, .L186
 1659 003e 40F2CD32 		movw	r2, #973
 1660 0042 3B49     		ldr	r1, .L186+12
 1661 0044 3948     		ldr	r0, .L186+8
 1662 0046 FFF7FEFF 		bl	printf
 1663              	.LVL214:
 1664 004a 2DE0     		b	.L170
 1665              	.L184:
 974:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     if (offset_from >= p_from->len) {
 1666              		.loc 1 974 0 discriminator 1
 1667 004c 354B     		ldr	r3, .L186
 1668 004e 40F2CE32 		movw	r2, #974
 1669 0052 3849     		ldr	r1, .L186+16
 1670 0054 3548     		ldr	r0, .L186+8
 1671 0056 FFF7FEFF 		bl	printf
 1672              	.LVL215:
 1673 005a 28E0     		b	.L171
 1674              	.LVL216:
 1675              	.L172:
 980:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* on to next p_to (if any) */
 1676              		.loc 1 980 0
 1677 005c 7B89     		ldrh	r3, [r7, #10]
 1678 005e 9E42     		cmp	r6, r3
 1679 0060 2CD0     		beq	.L179
 1680              	.LVL217:
 1681              	.L173:
 987:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* don't copy more than one packet! */
 1682              		.loc 1 987 0
 1683 0062 1DB1     		cbz	r5, .L174
ARM GAS  /tmp/ccR3k5BT.s 			page 54


 987:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* don't copy more than one packet! */
 1684              		.loc 1 987 0 is_stmt 0 discriminator 1
 1685 0064 6A89     		ldrh	r2, [r5, #10]
 1686 0066 2B89     		ldrh	r3, [r5, #8]
 1687 0068 9A42     		cmp	r2, r3
 1688 006a 3CD0     		beq	.L180
 1689              	.L174:
 992:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* don't copy more than one packet! */
 1690              		.loc 1 992 0 is_stmt 1
 1691 006c 1FB1     		cbz	r7, .L175
 992:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* don't copy more than one packet! */
 1692              		.loc 1 992 0 is_stmt 0 discriminator 1
 1693 006e 7A89     		ldrh	r2, [r7, #10]
 1694 0070 3B89     		ldrh	r3, [r7, #8]
 1695 0072 9A42     		cmp	r2, r3
 1696 0074 45D0     		beq	.L181
 1697              	.L175:
 997:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   LWIP_DEBUGF(PBUF_DEBUG | LWIP_DBG_TRACE, ("pbuf_copy: end of chain reached.\n"));
 1698              		.loc 1 997 0 is_stmt 1
 1699 0076 002D     		cmp	r5, #0
 1700 0078 51D0     		beq	.L182
 1701              	.LVL218:
 1702              	.L166:
 963:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* complete current p_from fits into current p_to */
 1703              		.loc 1 963 0
 1704 007a 7B89     		ldrh	r3, [r7, #10]
 1705 007c 991B     		subs	r1, r3, r6
 1706 007e 6C89     		ldrh	r4, [r5, #10]
 1707 0080 A4EB0802 		sub	r2, r4, r8
 1708 0084 9142     		cmp	r1, r2
 1709 0086 D6DB     		blt	.L168
 965:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     } else {
 1710              		.loc 1 965 0
 1711 0088 94B2     		uxth	r4, r2
 1712              	.LVL219:
 1713              	.L169:
 970:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     offset_to += len;
 1714              		.loc 1 970 0
 1715 008a 7868     		ldr	r0, [r7, #4]
 1716 008c 6968     		ldr	r1, [r5, #4]
 1717 008e 2246     		mov	r2, r4
 1718 0090 4144     		add	r1, r1, r8
 1719 0092 3044     		add	r0, r0, r6
 1720 0094 FFF7FEFF 		bl	memcpy
 1721              	.LVL220:
 971:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     offset_from += len;
 1722              		.loc 1 971 0
 1723 0098 2644     		add	r6, r6, r4
 1724              	.LVL221:
 1725 009a B6B2     		uxth	r6, r6
 1726              	.LVL222:
 972:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     LWIP_ASSERT("offset_to <= p_to->len", offset_to <= p_to->len);
 1727              		.loc 1 972 0
 1728 009c 4444     		add	r4, r4, r8
 1729              	.LVL223:
 1730 009e 1FFA84F8 		uxth	r8, r4
 1731              	.LVL224:
ARM GAS  /tmp/ccR3k5BT.s 			page 55


 973:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     LWIP_ASSERT("offset_from <= p_from->len", offset_from <= p_from->len);
 1732              		.loc 1 973 0
 1733 00a2 7B89     		ldrh	r3, [r7, #10]
 1734 00a4 9E42     		cmp	r6, r3
 1735 00a6 C9D8     		bhi	.L183
 1736              	.L170:
 974:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     if (offset_from >= p_from->len) {
 1737              		.loc 1 974 0
 1738 00a8 6B89     		ldrh	r3, [r5, #10]
 1739 00aa 9845     		cmp	r8, r3
 1740 00ac CED8     		bhi	.L184
 1741              	.L171:
 975:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* on to next p_from (if any) */
 1742              		.loc 1 975 0
 1743 00ae 6B89     		ldrh	r3, [r5, #10]
 1744 00b0 9845     		cmp	r8, r3
 1745 00b2 D3D3     		bcc	.L172
 1746              	.LVL225:
 978:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     }
 1747              		.loc 1 978 0
 1748 00b4 2D68     		ldr	r5, [r5]
 1749              	.LVL226:
 977:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       p_from = p_from->next;
 1750              		.loc 1 977 0
 1751 00b6 4FF00008 		mov	r8, #0
 1752 00ba CFE7     		b	.L172
 1753              	.LVL227:
 1754              	.L179:
 983:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       LWIP_ERROR("p_to != NULL", (p_to != NULL) || (p_from == NULL) , return ERR_ARG;);
 1755              		.loc 1 983 0
 1756 00bc 3F68     		ldr	r7, [r7]
 1757              	.LVL228:
 984:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     }
 1758              		.loc 1 984 0
 1759 00be B7FA87F3 		clz	r3, r7
 1760 00c2 5B09     		lsrs	r3, r3, #5
 1761 00c4 002D     		cmp	r5, #0
 1762 00c6 08BF     		it	eq
 1763 00c8 0023     		moveq	r3, #0
 1764 00ca 0BB9     		cbnz	r3, .L185
 982:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       p_to = p_to->next;
 1765              		.loc 1 982 0
 1766 00cc 0026     		movs	r6, #0
 1767 00ce C8E7     		b	.L173
 1768              	.L185:
 984:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     }
 1769              		.loc 1 984 0 discriminator 1
 1770 00d0 144B     		ldr	r3, .L186
 1771 00d2 4FF47672 		mov	r2, #984
 1772 00d6 1849     		ldr	r1, .L186+20
 1773 00d8 1448     		ldr	r0, .L186+8
 1774 00da FFF7FEFF 		bl	printf
 1775              	.LVL229:
 1776 00de 6FF00F00 		mvn	r0, #15
 1777 00e2 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 1778              	.LVL230:
 1779              	.L180:
ARM GAS  /tmp/ccR3k5BT.s 			page 56


 989:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****                  (p_from->next == NULL), return ERR_VAL;);
 1780              		.loc 1 989 0
 1781 00e6 2B68     		ldr	r3, [r5]
 1782 00e8 002B     		cmp	r3, #0
 1783 00ea BFD0     		beq	.L174
 989:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****                  (p_from->next == NULL), return ERR_VAL;);
 1784              		.loc 1 989 0 is_stmt 0 discriminator 1
 1785 00ec 0D4B     		ldr	r3, .L186
 1786 00ee 40F2DE32 		movw	r2, #990
 1787 00f2 1249     		ldr	r1, .L186+24
 1788 00f4 0D48     		ldr	r0, .L186+8
 1789 00f6 FFF7FEFF 		bl	printf
 1790              	.LVL231:
 1791 00fa 6FF00500 		mvn	r0, #5
 1792 00fe BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 1793              	.LVL232:
 1794              	.L181:
 994:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****                   (p_to->next == NULL), return ERR_VAL;);
 1795              		.loc 1 994 0 is_stmt 1
 1796 0102 3B68     		ldr	r3, [r7]
 1797 0104 002B     		cmp	r3, #0
 1798 0106 B6D0     		beq	.L175
 994:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****                   (p_to->next == NULL), return ERR_VAL;);
 1799              		.loc 1 994 0 is_stmt 0 discriminator 1
 1800 0108 064B     		ldr	r3, .L186
 1801 010a 40F2E332 		movw	r2, #995
 1802 010e 0B49     		ldr	r1, .L186+24
 1803 0110 0648     		ldr	r0, .L186+8
 1804 0112 FFF7FEFF 		bl	printf
 1805              	.LVL233:
 1806 0116 6FF00500 		mvn	r0, #5
 1807 011a BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 1808              	.LVL234:
 1809              	.L182:
 999:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
 1810              		.loc 1 999 0 is_stmt 1
 1811 011e 0020     		movs	r0, #0
1000:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 1812              		.loc 1 1000 0
 1813 0120 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 1814              	.LVL235:
 1815              	.L187:
 1816              		.align	2
 1817              	.L186:
 1818 0124 00000000 		.word	.LC0
 1819 0128 00000000 		.word	.LC26
 1820 012c 3C000000 		.word	.LC2
 1821 0130 30000000 		.word	.LC27
 1822 0134 48000000 		.word	.LC28
 1823 0138 64000000 		.word	.LC29
 1824 013c 74000000 		.word	.LC30
 1825              		.cfi_endproc
 1826              	.LFE172:
 1828              		.section	.text.pbuf_copy_partial,"ax",%progbits
 1829              		.align	1
 1830              		.global	pbuf_copy_partial
 1831              		.syntax unified
ARM GAS  /tmp/ccR3k5BT.s 			page 57


 1832              		.thumb
 1833              		.thumb_func
 1834              		.fpu fpv5-d16
 1836              	pbuf_copy_partial:
 1837              	.LFB173:
1016:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   const struct pbuf *p;
 1838              		.loc 1 1016 0
 1839              		.cfi_startproc
 1840              		@ args = 0, pretend = 0, frame = 0
 1841              		@ frame_needed = 0, uses_anonymous_args = 0
 1842              	.LVL236:
 1843 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 1844              	.LCFI14:
 1845              		.cfi_def_cfa_offset 24
 1846              		.cfi_offset 4, -24
 1847              		.cfi_offset 5, -20
 1848              		.cfi_offset 6, -16
 1849              		.cfi_offset 7, -12
 1850              		.cfi_offset 8, -8
 1851              		.cfi_offset 14, -4
 1852              	.LVL237:
1022:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   LWIP_ERROR("pbuf_copy_partial: invalid dataptr", (dataptr != NULL), return 0;);
 1853              		.loc 1 1022 0
 1854 0004 28B1     		cbz	r0, .L199
 1855 0006 0F46     		mov	r7, r1
 1856 0008 9046     		mov	r8, r2
 1857 000a 0546     		mov	r5, r0
1023:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 1858              		.loc 1 1023 0
 1859 000c 61B1     		cbz	r1, .L200
 1860 000e 0026     		movs	r6, #0
 1861 0010 27E0     		b	.L191
 1862              	.L199:
1022:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   LWIP_ERROR("pbuf_copy_partial: invalid dataptr", (dataptr != NULL), return 0;);
 1863              		.loc 1 1022 0 discriminator 1
 1864 0012 1A4B     		ldr	r3, .L201
 1865              	.LVL238:
 1866 0014 40F2FE32 		movw	r2, #1022
 1867              	.LVL239:
 1868 0018 1949     		ldr	r1, .L201+4
 1869              	.LVL240:
 1870 001a 1A48     		ldr	r0, .L201+8
 1871              	.LVL241:
 1872 001c FFF7FEFF 		bl	printf
 1873              	.LVL242:
 1874 0020 0026     		movs	r6, #0
 1875              	.LVL243:
 1876              	.L190:
1051:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 1877              		.loc 1 1051 0
 1878 0022 3046     		mov	r0, r6
 1879 0024 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 1880              	.LVL244:
 1881              	.L200:
1023:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 1882              		.loc 1 1023 0 discriminator 1
 1883 0028 144B     		ldr	r3, .L201
ARM GAS  /tmp/ccR3k5BT.s 			page 58


 1884              	.LVL245:
 1885 002a 40F2FF32 		movw	r2, #1023
 1886              	.LVL246:
 1887 002e 1649     		ldr	r1, .L201+12
 1888              	.LVL247:
 1889 0030 1448     		ldr	r0, .L201+8
 1890              	.LVL248:
 1891 0032 FFF7FEFF 		bl	printf
 1892              	.LVL249:
 1893 0036 0026     		movs	r6, #0
 1894 0038 F3E7     		b	.L190
 1895              	.LVL250:
 1896              	.L192:
1038:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       if (buf_copy_len > len) {
 1897              		.loc 1 1038 0
 1898 003a 6A89     		ldrh	r2, [r5, #10]
 1899 003c D21A     		subs	r2, r2, r3
 1900 003e 94B2     		uxth	r4, r2
 1901              	.LVL251:
1039:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****         buf_copy_len = len;
 1902              		.loc 1 1039 0
 1903 0040 A045     		cmp	r8, r4
 1904 0042 00D2     		bcs	.L194
1040:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       }
 1905              		.loc 1 1040 0
 1906 0044 4446     		mov	r4, r8
 1907              	.LVL252:
 1908              	.L194:
1043:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       copied_total += buf_copy_len;
 1909              		.loc 1 1043 0
 1910 0046 6968     		ldr	r1, [r5, #4]
 1911 0048 2246     		mov	r2, r4
 1912 004a 1944     		add	r1, r1, r3
 1913 004c B819     		adds	r0, r7, r6
 1914 004e FFF7FEFF 		bl	memcpy
 1915              	.LVL253:
1044:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       left += buf_copy_len;
 1916              		.loc 1 1044 0
 1917 0052 2644     		add	r6, r6, r4
 1918              	.LVL254:
 1919 0054 B6B2     		uxth	r6, r6
 1920              	.LVL255:
1046:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       offset = 0;
 1921              		.loc 1 1046 0
 1922 0056 A8EB0404 		sub	r4, r8, r4
 1923              	.LVL256:
 1924 005a 1FFA84F8 		uxth	r8, r4
 1925              	.LVL257:
1047:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     }
 1926              		.loc 1 1047 0
 1927 005e 0023     		movs	r3, #0
 1928              	.LVL258:
 1929              	.L193:
1032:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     if ((offset != 0) && (offset >= p->len)) {
 1930              		.loc 1 1032 0 discriminator 2
 1931 0060 2D68     		ldr	r5, [r5]
 1932              	.LVL259:
ARM GAS  /tmp/ccR3k5BT.s 			page 59


 1933              	.L191:
1032:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     if ((offset != 0) && (offset >= p->len)) {
 1934              		.loc 1 1032 0 is_stmt 0 discriminator 1
 1935 0062 B8F1000F 		cmp	r8, #0
 1936 0066 18BF     		it	ne
 1937 0068 002D     		cmpne	r5, #0
 1938 006a DAD0     		beq	.L190
1033:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* don't copy from this buffer -> on to the next */
 1939              		.loc 1 1033 0 is_stmt 1
 1940 006c 002B     		cmp	r3, #0
 1941 006e E4D0     		beq	.L192
1033:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* don't copy from this buffer -> on to the next */
 1942              		.loc 1 1033 0 is_stmt 0 discriminator 1
 1943 0070 6989     		ldrh	r1, [r5, #10]
 1944 0072 8B42     		cmp	r3, r1
 1945 0074 E1D3     		bcc	.L192
1035:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     } else {
 1946              		.loc 1 1035 0 is_stmt 1
 1947 0076 5B1A     		subs	r3, r3, r1
 1948              	.LVL260:
 1949 0078 9BB2     		uxth	r3, r3
 1950              	.LVL261:
 1951 007a F1E7     		b	.L193
 1952              	.L202:
 1953              		.align	2
 1954              	.L201:
 1955 007c 00000000 		.word	.LC0
 1956 0080 00000000 		.word	.LC31
 1957 0084 3C000000 		.word	.LC2
 1958 0088 20000000 		.word	.LC32
 1959              		.cfi_endproc
 1960              	.LFE173:
 1962              		.section	.text.pbuf_skip,"ax",%progbits
 1963              		.align	1
 1964              		.global	pbuf_skip
 1965              		.syntax unified
 1966              		.thumb
 1967              		.thumb_func
 1968              		.fpu fpv5-d16
 1970              	pbuf_skip:
 1971              	.LFB175:
1120:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
1121:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** /**
1122:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @ingroup pbuf
1123:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Skip a number of bytes at the start of a pbuf
1124:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
1125:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param in input pbuf
1126:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param in_offset offset to skip
1127:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param out_offset resulting offset in the returned pbuf
1128:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @return the pbuf in the queue where the offset is
1129:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  */
1130:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** struct pbuf*
1131:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** pbuf_skip(struct pbuf* in, u16_t in_offset, u16_t* out_offset)
1132:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** {
 1972              		.loc 1 1132 0
 1973              		.cfi_startproc
 1974              		@ args = 0, pretend = 0, frame = 0
ARM GAS  /tmp/ccR3k5BT.s 			page 60


 1975              		@ frame_needed = 0, uses_anonymous_args = 0
 1976              	.LVL262:
 1977 0000 08B5     		push	{r3, lr}
 1978              	.LCFI15:
 1979              		.cfi_def_cfa_offset 8
 1980              		.cfi_offset 3, -8
 1981              		.cfi_offset 14, -4
1133:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   const struct pbuf* out = pbuf_skip_const(in, in_offset, out_offset);
 1982              		.loc 1 1133 0
 1983 0002 FFF7FEFF 		bl	pbuf_skip_const
 1984              	.LVL263:
1134:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   return LWIP_CONST_CAST(struct pbuf*, out);
1135:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
 1985              		.loc 1 1135 0
 1986 0006 08BD     		pop	{r3, pc}
 1987              		.cfi_endproc
 1988              	.LFE175:
 1990              		.section	.text.pbuf_take,"ax",%progbits
 1991              		.align	1
 1992              		.global	pbuf_take
 1993              		.syntax unified
 1994              		.thumb
 1995              		.thumb_func
 1996              		.fpu fpv5-d16
 1998              	pbuf_take:
 1999              	.LFB176:
1136:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
1137:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** /**
1138:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @ingroup pbuf
1139:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Copy application supplied data into a pbuf.
1140:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * This function can only be used to copy the equivalent of buf->tot_len data.
1141:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
1142:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param buf pbuf to fill with data
1143:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param dataptr application supplied data buffer
1144:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param len length of the application supplied data buffer
1145:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
1146:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @return ERR_OK if successful, ERR_MEM if the pbuf is not big enough
1147:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  */
1148:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** err_t
1149:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** pbuf_take(struct pbuf *buf, const void *dataptr, u16_t len)
1150:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** {
 2000              		.loc 1 1150 0
 2001              		.cfi_startproc
 2002              		@ args = 0, pretend = 0, frame = 0
 2003              		@ frame_needed = 0, uses_anonymous_args = 0
 2004              	.LVL264:
 2005 0000 2DE9F843 		push	{r3, r4, r5, r6, r7, r8, r9, lr}
 2006              	.LCFI16:
 2007              		.cfi_def_cfa_offset 32
 2008              		.cfi_offset 3, -32
 2009              		.cfi_offset 4, -28
 2010              		.cfi_offset 5, -24
 2011              		.cfi_offset 6, -20
 2012              		.cfi_offset 7, -16
 2013              		.cfi_offset 8, -12
 2014              		.cfi_offset 9, -8
 2015              		.cfi_offset 14, -4
ARM GAS  /tmp/ccR3k5BT.s 			page 61


 2016              	.LVL265:
1151:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   struct pbuf *p;
1152:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   u16_t buf_copy_len;
1153:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   u16_t total_copy_len = len;
1154:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   u16_t copied_total = 0;
1155:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
1156:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   LWIP_ERROR("pbuf_take: invalid buf", (buf != NULL), return ERR_ARG;);
 2017              		.loc 1 1156 0
 2018 0004 48B1     		cbz	r0, .L216
 2019 0006 8846     		mov	r8, r1
 2020 0008 9146     		mov	r9, r2
 2021 000a 0646     		mov	r6, r0
1157:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   LWIP_ERROR("pbuf_take: invalid dataptr", (dataptr != NULL), return ERR_ARG;);
 2022              		.loc 1 1157 0
 2023 000c 81B1     		cbz	r1, .L217
1158:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   LWIP_ERROR("pbuf_take: buf not large enough", (buf->tot_len >= len), return ERR_MEM;);
 2024              		.loc 1 1158 0
 2025 000e 0389     		ldrh	r3, [r0, #8]
 2026 0010 9A42     		cmp	r2, r3
 2027 0012 18D8     		bhi	.L218
 2028 0014 1446     		mov	r4, r2
 2029 0016 0027     		movs	r7, #0
 2030 0018 33E0     		b	.L209
 2031              	.L216:
1156:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   LWIP_ERROR("pbuf_take: invalid dataptr", (dataptr != NULL), return ERR_ARG;);
 2032              		.loc 1 1156 0 discriminator 1
 2033 001a 254B     		ldr	r3, .L222
 2034 001c 40F28442 		movw	r2, #1156
 2035              	.LVL266:
 2036 0020 2449     		ldr	r1, .L222+4
 2037              	.LVL267:
 2038 0022 2548     		ldr	r0, .L222+8
 2039              	.LVL268:
 2040 0024 FFF7FEFF 		bl	printf
 2041              	.LVL269:
 2042 0028 6FF00F00 		mvn	r0, #15
 2043 002c BDE8F883 		pop	{r3, r4, r5, r6, r7, r8, r9, pc}
 2044              	.LVL270:
 2045              	.L217:
1157:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   LWIP_ERROR("pbuf_take: invalid dataptr", (dataptr != NULL), return ERR_ARG;);
 2046              		.loc 1 1157 0 discriminator 1
 2047 0030 1F4B     		ldr	r3, .L222
 2048 0032 40F28542 		movw	r2, #1157
 2049              	.LVL271:
 2050 0036 2149     		ldr	r1, .L222+12
 2051              	.LVL272:
 2052 0038 1F48     		ldr	r0, .L222+8
 2053              	.LVL273:
 2054 003a FFF7FEFF 		bl	printf
 2055              	.LVL274:
 2056 003e 6FF00F00 		mvn	r0, #15
 2057 0042 BDE8F883 		pop	{r3, r4, r5, r6, r7, r8, r9, pc}
 2058              	.LVL275:
 2059              	.L218:
 2060              		.loc 1 1158 0 discriminator 1
 2061 0046 1A4B     		ldr	r3, .L222
 2062 0048 40F28642 		movw	r2, #1158
ARM GAS  /tmp/ccR3k5BT.s 			page 62


 2063              	.LVL276:
 2064 004c 1C49     		ldr	r1, .L222+16
 2065              	.LVL277:
 2066 004e 1A48     		ldr	r0, .L222+8
 2067              	.LVL278:
 2068 0050 FFF7FEFF 		bl	printf
 2069              	.LVL279:
 2070 0054 4FF0FF30 		mov	r0, #-1
 2071 0058 BDE8F883 		pop	{r3, r4, r5, r6, r7, r8, r9, pc}
 2072              	.LVL280:
 2073              	.L220:
1159:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
1160:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   if ((buf == NULL) || (dataptr == NULL) || (buf->tot_len < len)) {
1161:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     return ERR_ARG;
1162:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
1163:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
1164:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* Note some systems use byte copy if dataptr or one of the pbuf payload pointers are unaligned. 
1165:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   for (p = buf; total_copy_len != 0; p = p->next) {
1166:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     LWIP_ASSERT("pbuf_take: invalid pbuf", p != NULL);
 2074              		.loc 1 1166 0 discriminator 1
 2075 005c 144B     		ldr	r3, .L222
 2076 005e 40F28E42 		movw	r2, #1166
 2077 0062 1849     		ldr	r1, .L222+20
 2078 0064 1448     		ldr	r0, .L222+8
 2079 0066 FFF7FEFF 		bl	printf
 2080              	.LVL281:
 2081 006a 0DE0     		b	.L210
 2082              	.LVL282:
 2083              	.L211:
1167:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     buf_copy_len = total_copy_len;
1168:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     if (buf_copy_len > p->len) {
1169:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* this pbuf cannot hold all remaining data */
1170:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       buf_copy_len = p->len;
1171:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     }
1172:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* copy the necessary parts of the buffer */
1173:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     MEMCPY(p->payload, &((const char*)dataptr)[copied_total], buf_copy_len);
 2084              		.loc 1 1173 0 discriminator 2
 2085 006c 2A46     		mov	r2, r5
 2086 006e 08EB0701 		add	r1, r8, r7
 2087 0072 7068     		ldr	r0, [r6, #4]
 2088 0074 FFF7FEFF 		bl	memcpy
 2089              	.LVL283:
1174:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     total_copy_len -= buf_copy_len;
 2090              		.loc 1 1174 0 discriminator 2
 2091 0078 641B     		subs	r4, r4, r5
 2092              	.LVL284:
 2093 007a A4B2     		uxth	r4, r4
 2094              	.LVL285:
1175:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     copied_total += buf_copy_len;
 2095              		.loc 1 1175 0 discriminator 2
 2096 007c 2F44     		add	r7, r7, r5
 2097              	.LVL286:
 2098 007e BFB2     		uxth	r7, r7
 2099              	.LVL287:
1165:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     LWIP_ASSERT("pbuf_take: invalid pbuf", p != NULL);
 2100              		.loc 1 1165 0 discriminator 2
 2101 0080 3668     		ldr	r6, [r6]
ARM GAS  /tmp/ccR3k5BT.s 			page 63


 2102              	.LVL288:
 2103              	.L209:
1165:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     LWIP_ASSERT("pbuf_take: invalid pbuf", p != NULL);
 2104              		.loc 1 1165 0 is_stmt 0 discriminator 1
 2105 0082 34B1     		cbz	r4, .L219
1166:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     buf_copy_len = total_copy_len;
 2106              		.loc 1 1166 0 is_stmt 1
 2107 0084 002E     		cmp	r6, #0
 2108 0086 E9D0     		beq	.L220
 2109              	.L210:
 2110              	.LVL289:
1168:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* this pbuf cannot hold all remaining data */
 2111              		.loc 1 1168 0
 2112 0088 7589     		ldrh	r5, [r6, #10]
 2113 008a AC42     		cmp	r4, r5
 2114 008c EED8     		bhi	.L211
1167:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     if (buf_copy_len > p->len) {
 2115              		.loc 1 1167 0
 2116 008e 2546     		mov	r5, r4
 2117 0090 ECE7     		b	.L211
 2118              	.LVL290:
 2119              	.L219:
1176:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
1177:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   LWIP_ASSERT("did not copy all data", total_copy_len == 0 && copied_total == len);
 2120              		.loc 1 1177 0
 2121 0092 4F45     		cmp	r7, r9
 2122 0094 02D1     		bne	.L221
1178:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   return ERR_OK;
 2123              		.loc 1 1178 0
 2124 0096 0020     		movs	r0, #0
1179:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
 2125              		.loc 1 1179 0
 2126 0098 BDE8F883 		pop	{r3, r4, r5, r6, r7, r8, r9, pc}
 2127              	.LVL291:
 2128              	.L221:
1177:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   return ERR_OK;
 2129              		.loc 1 1177 0 discriminator 1
 2130 009c 044B     		ldr	r3, .L222
 2131 009e 40F29942 		movw	r2, #1177
 2132 00a2 0949     		ldr	r1, .L222+24
 2133 00a4 0448     		ldr	r0, .L222+8
 2134 00a6 FFF7FEFF 		bl	printf
 2135              	.LVL292:
1178:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   return ERR_OK;
 2136              		.loc 1 1178 0 discriminator 1
 2137 00aa 0020     		movs	r0, #0
 2138 00ac BDE8F883 		pop	{r3, r4, r5, r6, r7, r8, r9, pc}
 2139              	.LVL293:
 2140              	.L223:
 2141              		.align	2
 2142              	.L222:
 2143 00b0 00000000 		.word	.LC0
 2144 00b4 00000000 		.word	.LC33
 2145 00b8 3C000000 		.word	.LC2
 2146 00bc 18000000 		.word	.LC34
 2147 00c0 34000000 		.word	.LC35
 2148 00c4 54000000 		.word	.LC36
ARM GAS  /tmp/ccR3k5BT.s 			page 64


 2149 00c8 6C000000 		.word	.LC37
 2150              		.cfi_endproc
 2151              	.LFE176:
 2153              		.section	.text.pbuf_take_at,"ax",%progbits
 2154              		.align	1
 2155              		.global	pbuf_take_at
 2156              		.syntax unified
 2157              		.thumb
 2158              		.thumb_func
 2159              		.fpu fpv5-d16
 2161              	pbuf_take_at:
 2162              	.LFB177:
1180:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
1181:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** /**
1182:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @ingroup pbuf
1183:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Same as pbuf_take() but puts data at an offset
1184:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
1185:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param buf pbuf to fill with data
1186:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param dataptr application supplied data buffer
1187:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param len length of the application supplied data buffer
1188:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param offset offset in pbuf where to copy dataptr to
1189:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
1190:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @return ERR_OK if successful, ERR_MEM if the pbuf is not big enough
1191:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  */
1192:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** err_t
1193:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** pbuf_take_at(struct pbuf *buf, const void *dataptr, u16_t len, u16_t offset)
1194:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** {
 2163              		.loc 1 1194 0
 2164              		.cfi_startproc
 2165              		@ args = 0, pretend = 0, frame = 8
 2166              		@ frame_needed = 0, uses_anonymous_args = 0
 2167              	.LVL294:
 2168 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 2169              	.LCFI17:
 2170              		.cfi_def_cfa_offset 20
 2171              		.cfi_offset 4, -20
 2172              		.cfi_offset 5, -16
 2173              		.cfi_offset 6, -12
 2174              		.cfi_offset 7, -8
 2175              		.cfi_offset 14, -4
 2176 0002 83B0     		sub	sp, sp, #12
 2177              	.LCFI18:
 2178              		.cfi_def_cfa_offset 32
 2179 0004 0F46     		mov	r7, r1
 2180 0006 1546     		mov	r5, r2
1195:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   u16_t target_offset;
1196:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   struct pbuf* q = pbuf_skip(buf, offset, &target_offset);
 2181              		.loc 1 1196 0
 2182 0008 0DF10602 		add	r2, sp, #6
 2183              	.LVL295:
 2184 000c 1946     		mov	r1, r3
 2185              	.LVL296:
 2186 000e FFF7FEFF 		bl	pbuf_skip
 2187              	.LVL297:
1197:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
1198:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* return requested data if pbuf is OK */
1199:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   if ((q != NULL) && (q->tot_len >= target_offset + len)) {
ARM GAS  /tmp/ccR3k5BT.s 			page 65


 2188              		.loc 1 1199 0
 2189 0012 E8B1     		cbz	r0, .L226
 2190 0014 0646     		mov	r6, r0
 2191              		.loc 1 1199 0 is_stmt 0 discriminator 1
 2192 0016 0189     		ldrh	r1, [r0, #8]
 2193 0018 BDF80630 		ldrh	r3, [sp, #6]
 2194 001c 5A19     		adds	r2, r3, r5
 2195 001e 9142     		cmp	r1, r2
 2196 0020 19DB     		blt	.L227
 2197              	.LVL298:
 2198              	.LBB8:
1200:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     u16_t remaining_len = len;
1201:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     const u8_t* src_ptr = (const u8_t*)dataptr;
1202:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* copy the part that goes into the first pbuf */
1203:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     u16_t first_copy_len = LWIP_MIN(q->len - target_offset, len);
 2199              		.loc 1 1203 0 is_stmt 1
 2200 0022 4489     		ldrh	r4, [r0, #10]
 2201 0024 E41A     		subs	r4, r4, r3
 2202 0026 AC42     		cmp	r4, r5
 2203 0028 A8BF     		it	ge
 2204 002a 2C46     		movge	r4, r5
 2205 002c A4B2     		uxth	r4, r4
 2206              	.LVL299:
1204:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     MEMCPY(((u8_t*)q->payload) + target_offset, dataptr, first_copy_len);
 2207              		.loc 1 1204 0
 2208 002e 4068     		ldr	r0, [r0, #4]
 2209              	.LVL300:
 2210 0030 2246     		mov	r2, r4
 2211 0032 3946     		mov	r1, r7
 2212 0034 1844     		add	r0, r0, r3
 2213 0036 FFF7FEFF 		bl	memcpy
 2214              	.LVL301:
1205:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     remaining_len -= first_copy_len;
 2215              		.loc 1 1205 0
 2216 003a 2A1B     		subs	r2, r5, r4
 2217 003c 92B2     		uxth	r2, r2
 2218              	.LVL302:
1206:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     src_ptr += first_copy_len;
 2219              		.loc 1 1206 0
 2220 003e 3919     		adds	r1, r7, r4
 2221              	.LVL303:
1207:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     if (remaining_len > 0) {
 2222              		.loc 1 1207 0
 2223 0040 12B9     		cbnz	r2, .L230
1208:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       return pbuf_take(q->next, src_ptr, remaining_len);
1209:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     }
1210:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     return ERR_OK;
 2224              		.loc 1 1210 0
 2225 0042 0020     		movs	r0, #0
 2226              	.LVL304:
 2227              	.L225:
 2228              	.LBE8:
1211:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
1212:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   return ERR_MEM;
1213:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
 2229              		.loc 1 1213 0
 2230 0044 03B0     		add	sp, sp, #12
ARM GAS  /tmp/ccR3k5BT.s 			page 66


 2231              	.LCFI19:
 2232              		.cfi_remember_state
 2233              		.cfi_def_cfa_offset 20
 2234              		@ sp needed
 2235 0046 F0BD     		pop	{r4, r5, r6, r7, pc}
 2236              	.LVL305:
 2237              	.L230:
 2238              	.LCFI20:
 2239              		.cfi_restore_state
 2240              	.LBB9:
1208:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       return pbuf_take(q->next, src_ptr, remaining_len);
 2241              		.loc 1 1208 0
 2242 0048 3068     		ldr	r0, [r6]
 2243 004a FFF7FEFF 		bl	pbuf_take
 2244              	.LVL306:
 2245 004e F9E7     		b	.L225
 2246              	.LVL307:
 2247              	.L226:
 2248              	.LBE9:
1212:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
 2249              		.loc 1 1212 0
 2250 0050 4FF0FF30 		mov	r0, #-1
 2251              	.LVL308:
 2252 0054 F6E7     		b	.L225
 2253              	.LVL309:
 2254              	.L227:
 2255 0056 4FF0FF30 		mov	r0, #-1
 2256              	.LVL310:
 2257 005a F3E7     		b	.L225
 2258              		.cfi_endproc
 2259              	.LFE177:
 2261              		.section	.text.pbuf_coalesce,"ax",%progbits
 2262              		.align	1
 2263              		.global	pbuf_coalesce
 2264              		.syntax unified
 2265              		.thumb
 2266              		.thumb_func
 2267              		.fpu fpv5-d16
 2269              	pbuf_coalesce:
 2270              	.LFB178:
1214:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
1215:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** /**
1216:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @ingroup pbuf
1217:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Creates a single pbuf out of a queue of pbufs.
1218:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
1219:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @remark: Either the source pbuf 'p' is freed by this function or the original
1220:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *          pbuf 'p' is returned, therefore the caller has to check the result!
1221:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
1222:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param p the source pbuf
1223:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param layer pbuf_layer of the new pbuf
1224:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
1225:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @return a new, single pbuf (p->next is NULL)
1226:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *         or the old pbuf if allocation fails
1227:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  */
1228:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** struct pbuf*
1229:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** pbuf_coalesce(struct pbuf *p, pbuf_layer layer)
1230:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** {
ARM GAS  /tmp/ccR3k5BT.s 			page 67


 2271              		.loc 1 1230 0
 2272              		.cfi_startproc
 2273              		@ args = 0, pretend = 0, frame = 0
 2274              		@ frame_needed = 0, uses_anonymous_args = 0
 2275              	.LVL311:
 2276 0000 38B5     		push	{r3, r4, r5, lr}
 2277              	.LCFI21:
 2278              		.cfi_def_cfa_offset 16
 2279              		.cfi_offset 3, -16
 2280              		.cfi_offset 4, -12
 2281              		.cfi_offset 5, -8
 2282              		.cfi_offset 14, -4
1231:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   struct pbuf *q;
1232:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   err_t err;
1233:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   if (p->next == NULL) {
 2283              		.loc 1 1233 0
 2284 0002 0368     		ldr	r3, [r0]
 2285 0004 CBB1     		cbz	r3, .L234
 2286 0006 0B46     		mov	r3, r1
 2287 0008 0446     		mov	r4, r0
1234:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     return p;
1235:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
1236:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   q = pbuf_alloc(layer, p->tot_len, PBUF_RAM);
 2288              		.loc 1 1236 0
 2289 000a 0022     		movs	r2, #0
 2290 000c 0189     		ldrh	r1, [r0, #8]
 2291              	.LVL312:
 2292 000e 1846     		mov	r0, r3
 2293              	.LVL313:
 2294 0010 FFF7FEFF 		bl	pbuf_alloc
 2295              	.LVL314:
1237:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   if (q == NULL) {
 2296              		.loc 1 1237 0
 2297 0014 0546     		mov	r5, r0
 2298 0016 90B1     		cbz	r0, .L235
1238:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* @todo: what do we do now? */
1239:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     return p;
1240:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
1241:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   err = pbuf_copy(q, p);
 2299              		.loc 1 1241 0
 2300 0018 2146     		mov	r1, r4
 2301 001a FFF7FEFF 		bl	pbuf_copy
 2302              	.LVL315:
1242:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   LWIP_UNUSED_ARG(err); /* in case of LWIP_NOASSERT */
1243:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   LWIP_ASSERT("pbuf_copy failed", err == ERR_OK);
 2303              		.loc 1 1243 0
 2304 001e 20B9     		cbnz	r0, .L237
 2305              	.LVL316:
 2306              	.L233:
1244:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   pbuf_free(p);
 2307              		.loc 1 1244 0
 2308 0020 2046     		mov	r0, r4
 2309 0022 FFF7FEFF 		bl	pbuf_free
 2310              	.LVL317:
 2311              	.L231:
1245:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   return q;
1246:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
ARM GAS  /tmp/ccR3k5BT.s 			page 68


 2312              		.loc 1 1246 0
 2313 0026 2846     		mov	r0, r5
 2314 0028 38BD     		pop	{r3, r4, r5, pc}
 2315              	.LVL318:
 2316              	.L237:
1243:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   pbuf_free(p);
 2317              		.loc 1 1243 0 discriminator 1
 2318 002a 064B     		ldr	r3, .L238
 2319 002c 40F2DB42 		movw	r2, #1243
 2320 0030 0549     		ldr	r1, .L238+4
 2321 0032 0648     		ldr	r0, .L238+8
 2322              	.LVL319:
 2323 0034 FFF7FEFF 		bl	printf
 2324              	.LVL320:
 2325 0038 F2E7     		b	.L233
 2326              	.LVL321:
 2327              	.L234:
1234:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
 2328              		.loc 1 1234 0
 2329 003a 0546     		mov	r5, r0
 2330 003c F3E7     		b	.L231
 2331              	.LVL322:
 2332              	.L235:
1239:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
 2333              		.loc 1 1239 0
 2334 003e 2546     		mov	r5, r4
 2335 0040 F1E7     		b	.L231
 2336              	.L239:
 2337 0042 00BF     		.align	2
 2338              	.L238:
 2339 0044 00000000 		.word	.LC0
 2340 0048 00000000 		.word	.LC38
 2341 004c 3C000000 		.word	.LC2
 2342              		.cfi_endproc
 2343              	.LFE178:
 2345              		.section	.text.pbuf_try_get_at,"ax",%progbits
 2346              		.align	1
 2347              		.global	pbuf_try_get_at
 2348              		.syntax unified
 2349              		.thumb
 2350              		.thumb_func
 2351              		.fpu fpv5-d16
 2353              	pbuf_try_get_at:
 2354              	.LFB180:
1247:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
1248:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #if LWIP_CHECKSUM_ON_COPY
1249:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** /**
1250:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Copies data into a single pbuf (*not* into a pbuf queue!) and updates
1251:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * the checksum while copying
1252:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
1253:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param p the pbuf to copy data into
1254:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param start_offset offset of p->payload where to copy the data to
1255:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param dataptr data to copy into the pbuf
1256:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param len length of data to copy into the pbuf
1257:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param chksum pointer to the checksum which is updated
1258:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @return ERR_OK if successful, another error if the data does not fit
1259:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *         within the (first) pbuf (no pbuf queues!)
ARM GAS  /tmp/ccR3k5BT.s 			page 69


1260:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  */
1261:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** err_t
1262:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** pbuf_fill_chksum(struct pbuf *p, u16_t start_offset, const void *dataptr,
1263:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****                  u16_t len, u16_t *chksum)
1264:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** {
1265:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   u32_t acc;
1266:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   u16_t copy_chksum;
1267:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   char *dst_ptr;
1268:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   LWIP_ASSERT("p != NULL", p != NULL);
1269:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   LWIP_ASSERT("dataptr != NULL", dataptr != NULL);
1270:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   LWIP_ASSERT("chksum != NULL", chksum != NULL);
1271:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   LWIP_ASSERT("len != 0", len != 0);
1272:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
1273:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   if ((start_offset >= p->len) || (start_offset + len > p->len)) {
1274:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     return ERR_ARG;
1275:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
1276:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
1277:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   dst_ptr = ((char*)p->payload) + start_offset;
1278:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   copy_chksum = LWIP_CHKSUM_COPY(dst_ptr, dataptr, len);
1279:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   if ((start_offset & 1) != 0) {
1280:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     copy_chksum = SWAP_BYTES_IN_WORD(copy_chksum);
1281:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
1282:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   acc = *chksum;
1283:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   acc += copy_chksum;
1284:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   *chksum = FOLD_U32T(acc);
1285:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   return ERR_OK;
1286:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
1287:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #endif /* LWIP_CHECKSUM_ON_COPY */
1288:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
1289:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** /**
1290:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @ingroup pbuf
1291:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Get one byte from the specified position in a pbuf
1292:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * WARNING: returns zero for offset >= p->tot_len
1293:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
1294:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param p pbuf to parse
1295:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param offset offset into p of the byte to return
1296:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @return byte at an offset into p OR ZERO IF 'offset' >= p->tot_len
1297:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  */
1298:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** u8_t
1299:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** pbuf_get_at(const struct pbuf* p, u16_t offset)
1300:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** {
1301:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   int ret = pbuf_try_get_at(p, offset);
1302:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   if (ret >= 0) {
1303:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     return (u8_t)ret;
1304:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
1305:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   return 0;
1306:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
1307:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
1308:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** /**
1309:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @ingroup pbuf
1310:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Get one byte from the specified position in a pbuf
1311:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
1312:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param p pbuf to parse
1313:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param offset offset into p of the byte to return
1314:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @return byte at an offset into p [0..0xFF] OR negative if 'offset' >= p->tot_len
1315:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  */
1316:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** int
ARM GAS  /tmp/ccR3k5BT.s 			page 70


1317:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** pbuf_try_get_at(const struct pbuf* p, u16_t offset)
1318:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** {
 2355              		.loc 1 1318 0
 2356              		.cfi_startproc
 2357              		@ args = 0, pretend = 0, frame = 8
 2358              		@ frame_needed = 0, uses_anonymous_args = 0
 2359              	.LVL323:
 2360 0000 00B5     		push	{lr}
 2361              	.LCFI22:
 2362              		.cfi_def_cfa_offset 4
 2363              		.cfi_offset 14, -4
 2364 0002 83B0     		sub	sp, sp, #12
 2365              	.LCFI23:
 2366              		.cfi_def_cfa_offset 16
1319:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   u16_t q_idx;
1320:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   const struct pbuf* q = pbuf_skip_const(p, offset, &q_idx);
 2367              		.loc 1 1320 0
 2368 0004 0DF10602 		add	r2, sp, #6
 2369 0008 FFF7FEFF 		bl	pbuf_skip_const
 2370              	.LVL324:
1321:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
1322:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* return requested data if pbuf is OK */
1323:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   if ((q != NULL) && (q->len > q_idx)) {
 2371              		.loc 1 1323 0
 2372 000c 48B1     		cbz	r0, .L242
 2373              		.loc 1 1323 0 is_stmt 0 discriminator 1
 2374 000e 4189     		ldrh	r1, [r0, #10]
 2375 0010 BDF80620 		ldrh	r2, [sp, #6]
 2376 0014 9142     		cmp	r1, r2
 2377 0016 07D9     		bls	.L243
1324:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     return ((u8_t*)q->payload)[q_idx];
 2378              		.loc 1 1324 0 is_stmt 1
 2379 0018 4368     		ldr	r3, [r0, #4]
 2380 001a 985C     		ldrb	r0, [r3, r2]	@ zero_extendqisi2
 2381              	.LVL325:
 2382              	.L240:
1325:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
1326:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   return -1;
1327:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
 2383              		.loc 1 1327 0
 2384 001c 03B0     		add	sp, sp, #12
 2385              	.LCFI24:
 2386              		.cfi_remember_state
 2387              		.cfi_def_cfa_offset 4
 2388              		@ sp needed
 2389 001e 5DF804FB 		ldr	pc, [sp], #4
 2390              	.LVL326:
 2391              	.L242:
 2392              	.LCFI25:
 2393              		.cfi_restore_state
1326:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
 2394              		.loc 1 1326 0
 2395 0022 4FF0FF30 		mov	r0, #-1
 2396              	.LVL327:
 2397 0026 F9E7     		b	.L240
 2398              	.LVL328:
 2399              	.L243:
ARM GAS  /tmp/ccR3k5BT.s 			page 71


 2400 0028 4FF0FF30 		mov	r0, #-1
 2401              	.LVL329:
 2402 002c F6E7     		b	.L240
 2403              		.cfi_endproc
 2404              	.LFE180:
 2406              		.section	.text.pbuf_get_at,"ax",%progbits
 2407              		.align	1
 2408              		.global	pbuf_get_at
 2409              		.syntax unified
 2410              		.thumb
 2411              		.thumb_func
 2412              		.fpu fpv5-d16
 2414              	pbuf_get_at:
 2415              	.LFB179:
1300:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   int ret = pbuf_try_get_at(p, offset);
 2416              		.loc 1 1300 0
 2417              		.cfi_startproc
 2418              		@ args = 0, pretend = 0, frame = 0
 2419              		@ frame_needed = 0, uses_anonymous_args = 0
 2420              	.LVL330:
 2421 0000 08B5     		push	{r3, lr}
 2422              	.LCFI26:
 2423              		.cfi_def_cfa_offset 8
 2424              		.cfi_offset 3, -8
 2425              		.cfi_offset 14, -4
1301:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   if (ret >= 0) {
 2426              		.loc 1 1301 0
 2427 0002 FFF7FEFF 		bl	pbuf_try_get_at
 2428              	.LVL331:
1302:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     return (u8_t)ret;
 2429              		.loc 1 1302 0
 2430 0006 0028     		cmp	r0, #0
 2431 0008 01DB     		blt	.L247
1303:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
 2432              		.loc 1 1303 0
 2433 000a C0B2     		uxtb	r0, r0
 2434              	.LVL332:
 2435 000c 08BD     		pop	{r3, pc}
 2436              	.LVL333:
 2437              	.L247:
1305:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
 2438              		.loc 1 1305 0
 2439 000e 0020     		movs	r0, #0
 2440              	.LVL334:
1306:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 2441              		.loc 1 1306 0
 2442 0010 08BD     		pop	{r3, pc}
 2443              		.cfi_endproc
 2444              	.LFE179:
 2446              		.section	.text.pbuf_put_at,"ax",%progbits
 2447              		.align	1
 2448              		.global	pbuf_put_at
 2449              		.syntax unified
 2450              		.thumb
 2451              		.thumb_func
 2452              		.fpu fpv5-d16
 2454              	pbuf_put_at:
ARM GAS  /tmp/ccR3k5BT.s 			page 72


 2455              	.LFB181:
1328:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
1329:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** /**
1330:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @ingroup pbuf
1331:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Put one byte to the specified position in a pbuf
1332:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * WARNING: silently ignores offset >= p->tot_len
1333:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
1334:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param p pbuf to fill
1335:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param offset offset into p of the byte to write
1336:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param data byte to write at an offset into p
1337:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  */
1338:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** void
1339:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** pbuf_put_at(struct pbuf* p, u16_t offset, u8_t data)
1340:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** {
 2456              		.loc 1 1340 0
 2457              		.cfi_startproc
 2458              		@ args = 0, pretend = 0, frame = 8
 2459              		@ frame_needed = 0, uses_anonymous_args = 0
 2460              	.LVL335:
 2461 0000 10B5     		push	{r4, lr}
 2462              	.LCFI27:
 2463              		.cfi_def_cfa_offset 8
 2464              		.cfi_offset 4, -8
 2465              		.cfi_offset 14, -4
 2466 0002 82B0     		sub	sp, sp, #8
 2467              	.LCFI28:
 2468              		.cfi_def_cfa_offset 16
 2469 0004 1446     		mov	r4, r2
1341:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   u16_t q_idx;
1342:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   struct pbuf* q = pbuf_skip(p, offset, &q_idx);
 2470              		.loc 1 1342 0
 2471 0006 0DF10602 		add	r2, sp, #6
 2472              	.LVL336:
 2473 000a FFF7FEFF 		bl	pbuf_skip
 2474              	.LVL337:
1343:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
1344:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* write requested data if pbuf is OK */
1345:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   if ((q != NULL) && (q->len > q_idx)) {
 2475              		.loc 1 1345 0
 2476 000e 30B1     		cbz	r0, .L249
 2477              		.loc 1 1345 0 is_stmt 0 discriminator 1
 2478 0010 4189     		ldrh	r1, [r0, #10]
 2479 0012 BDF80620 		ldrh	r2, [sp, #6]
 2480 0016 9142     		cmp	r1, r2
 2481 0018 01D9     		bls	.L249
1346:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     ((u8_t*)q->payload)[q_idx] = data;
 2482              		.loc 1 1346 0 is_stmt 1
 2483 001a 4368     		ldr	r3, [r0, #4]
 2484 001c 9C54     		strb	r4, [r3, r2]
 2485              	.L249:
1347:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
1348:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
 2486              		.loc 1 1348 0
 2487 001e 02B0     		add	sp, sp, #8
 2488              	.LCFI29:
 2489              		.cfi_def_cfa_offset 8
 2490              		@ sp needed
ARM GAS  /tmp/ccR3k5BT.s 			page 73


 2491 0020 10BD     		pop	{r4, pc}
 2492              		.cfi_endproc
 2493              	.LFE181:
 2495              		.section	.text.pbuf_memcmp,"ax",%progbits
 2496              		.align	1
 2497              		.global	pbuf_memcmp
 2498              		.syntax unified
 2499              		.thumb
 2500              		.thumb_func
 2501              		.fpu fpv5-d16
 2503              	pbuf_memcmp:
 2504              	.LFB182:
1349:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
1350:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** /**
1351:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @ingroup pbuf
1352:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Compare pbuf contents at specified offset with memory s2, both of length n
1353:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
1354:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param p pbuf to compare
1355:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param offset offset into p at which to start comparing
1356:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param s2 buffer to compare
1357:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param n length of buffer to compare
1358:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @return zero if equal, nonzero otherwise
1359:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *         (0xffff if p is too short, diffoffset+1 otherwise)
1360:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  */
1361:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** u16_t
1362:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** pbuf_memcmp(const struct pbuf* p, u16_t offset, const void* s2, u16_t n)
1363:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** {
 2505              		.loc 1 1363 0
 2506              		.cfi_startproc
 2507              		@ args = 0, pretend = 0, frame = 0
 2508              		@ frame_needed = 0, uses_anonymous_args = 0
 2509              	.LVL338:
 2510 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 2511              	.LCFI30:
 2512              		.cfi_def_cfa_offset 24
 2513              		.cfi_offset 4, -24
 2514              		.cfi_offset 5, -20
 2515              		.cfi_offset 6, -16
 2516              		.cfi_offset 7, -12
 2517              		.cfi_offset 8, -8
 2518              		.cfi_offset 14, -4
 2519 0004 9046     		mov	r8, r2
 2520 0006 1F46     		mov	r7, r3
 2521              	.LVL339:
1364:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   u16_t start = offset;
1365:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   const struct pbuf* q = p;
1366:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   u16_t i;
1367:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  
1368:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* pbuf long enough to perform check? */
1369:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   if(p->tot_len < (offset + n)) {
 2522              		.loc 1 1369 0
 2523 0008 0289     		ldrh	r2, [r0, #8]
 2524              	.LVL340:
 2525 000a CB18     		adds	r3, r1, r3
 2526              	.LVL341:
 2527 000c 9A42     		cmp	r2, r3
 2528 000e 03DA     		bge	.L262
ARM GAS  /tmp/ccR3k5BT.s 			page 74


1370:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     return 0xffff;
 2529              		.loc 1 1370 0
 2530 0010 4FF6FF70 		movw	r0, #65535
 2531              	.LVL342:
1371:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
1372:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  
1373:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* get the correct pbuf from chain. We know it succeeds because of p->tot_len check above. */
1374:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   while ((q != NULL) && (q->len <= start)) {
1375:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     start -= q->len;
1376:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     q = q->next;
1377:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
1378:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  
1379:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* return requested data if pbuf is OK */
1380:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   for (i = 0; i < n; i++) {
1381:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* We know pbuf_get_at() succeeds because of p->tot_len check above. */
1382:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     u8_t a = pbuf_get_at(q, start + i);
1383:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     u8_t b = ((const u8_t*)s2)[i];
1384:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     if (a != b) {
1385:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       return i+1;
1386:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     }
1387:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
1388:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   return 0;
1389:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
 2532              		.loc 1 1389 0
 2533 0014 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 2534              	.LVL343:
 2535              	.L262:
 2536 0018 0546     		mov	r5, r0
 2537 001a 0E46     		mov	r6, r1
 2538 001c 02E0     		b	.L254
 2539              	.LVL344:
 2540              	.L256:
1375:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     q = q->next;
 2541              		.loc 1 1375 0
 2542 001e 711A     		subs	r1, r6, r1
 2543 0020 8EB2     		uxth	r6, r1
 2544              	.LVL345:
1376:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
 2545              		.loc 1 1376 0
 2546 0022 2D68     		ldr	r5, [r5]
 2547              	.LVL346:
 2548              	.L254:
1374:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     start -= q->len;
 2549              		.loc 1 1374 0
 2550 0024 45B1     		cbz	r5, .L260
1374:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     start -= q->len;
 2551              		.loc 1 1374 0 is_stmt 0 discriminator 1
 2552 0026 6989     		ldrh	r1, [r5, #10]
 2553 0028 8E42     		cmp	r6, r1
 2554 002a F8D2     		bcs	.L256
 2555 002c 0024     		movs	r4, #0
 2556 002e 04E0     		b	.L255
 2557              	.LVL347:
 2558              	.L264:
 2559              	.LBB10:
1385:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     }
 2560              		.loc 1 1385 0 is_stmt 1
ARM GAS  /tmp/ccR3k5BT.s 			page 75


 2561 0030 601C     		adds	r0, r4, #1
 2562              	.LVL348:
 2563 0032 80B2     		uxth	r0, r0
 2564 0034 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 2565              	.LVL349:
 2566              	.L260:
 2567              	.LBE10:
 2568 0038 0024     		movs	r4, #0
 2569              	.LVL350:
 2570              	.L255:
1380:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* We know pbuf_get_at() succeeds because of p->tot_len check above. */
 2571              		.loc 1 1380 0 discriminator 1
 2572 003a BC42     		cmp	r4, r7
 2573 003c 0BD2     		bcs	.L263
 2574              	.LBB11:
1382:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     u8_t b = ((const u8_t*)s2)[i];
 2575              		.loc 1 1382 0
 2576 003e 3119     		adds	r1, r6, r4
 2577 0040 89B2     		uxth	r1, r1
 2578 0042 2846     		mov	r0, r5
 2579 0044 FFF7FEFF 		bl	pbuf_get_at
 2580              	.LVL351:
1383:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     if (a != b) {
 2581              		.loc 1 1383 0
 2582 0048 18F80430 		ldrb	r3, [r8, r4]	@ zero_extendqisi2
 2583              	.LVL352:
1384:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       return i+1;
 2584              		.loc 1 1384 0
 2585 004c 9842     		cmp	r0, r3
 2586 004e EFD1     		bne	.L264
 2587              	.LBE11:
1380:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* We know pbuf_get_at() succeeds because of p->tot_len check above. */
 2588              		.loc 1 1380 0 discriminator 2
 2589 0050 0134     		adds	r4, r4, #1
 2590              	.LVL353:
 2591 0052 A4B2     		uxth	r4, r4
 2592              	.LVL354:
 2593 0054 F1E7     		b	.L255
 2594              	.LVL355:
 2595              	.L263:
1388:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
 2596              		.loc 1 1388 0
 2597 0056 0020     		movs	r0, #0
 2598 0058 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 2599              		.cfi_endproc
 2600              	.LFE182:
 2602              		.section	.text.pbuf_memfind,"ax",%progbits
 2603              		.align	1
 2604              		.global	pbuf_memfind
 2605              		.syntax unified
 2606              		.thumb
 2607              		.thumb_func
 2608              		.fpu fpv5-d16
 2610              	pbuf_memfind:
 2611              	.LFB183:
1390:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
1391:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** /**
ARM GAS  /tmp/ccR3k5BT.s 			page 76


1392:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @ingroup pbuf
1393:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Find occurrence of mem (with length mem_len) in pbuf p, starting at offset
1394:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * start_offset.
1395:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
1396:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param p pbuf to search, maximum length is 0xFFFE since 0xFFFF is used as
1397:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *        return value 'not found'
1398:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param mem search for the contents of this buffer
1399:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param mem_len length of 'mem'
1400:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param start_offset offset into p at which to start searching
1401:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @return 0xFFFF if substr was not found in p or the index where it was found
1402:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  */
1403:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** u16_t
1404:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** pbuf_memfind(const struct pbuf* p, const void* mem, u16_t mem_len, u16_t start_offset)
1405:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** {
 2612              		.loc 1 1405 0
 2613              		.cfi_startproc
 2614              		@ args = 0, pretend = 0, frame = 0
 2615              		@ frame_needed = 0, uses_anonymous_args = 0
 2616              	.LVL356:
 2617 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 2618              	.LCFI31:
 2619              		.cfi_def_cfa_offset 24
 2620              		.cfi_offset 4, -24
 2621              		.cfi_offset 5, -20
 2622              		.cfi_offset 6, -16
 2623              		.cfi_offset 7, -12
 2624              		.cfi_offset 8, -8
 2625              		.cfi_offset 14, -4
 2626 0004 0746     		mov	r7, r0
 2627 0006 8846     		mov	r8, r1
 2628 0008 1646     		mov	r6, r2
 2629 000a 1C46     		mov	r4, r3
1406:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   u16_t i;
1407:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   u16_t max = p->tot_len - mem_len;
 2630              		.loc 1 1407 0
 2631 000c 0389     		ldrh	r3, [r0, #8]
 2632              	.LVL357:
 2633 000e 9D1A     		subs	r5, r3, r2
 2634 0010 ADB2     		uxth	r5, r5
 2635              	.LVL358:
1408:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   if (p->tot_len >= mem_len + start_offset) {
 2636              		.loc 1 1408 0
 2637 0012 2244     		add	r2, r2, r4
 2638              	.LVL359:
 2639 0014 9342     		cmp	r3, r2
 2640 0016 03DA     		bge	.L266
1409:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     for (i = start_offset; i <= max; i++) {
1410:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       u16_t plus = pbuf_memcmp(p, i, mem, mem_len);
1411:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       if (plus == 0) {
1412:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****         return i;
1413:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       }
1414:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     }
1415:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
1416:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   return 0xFFFF;
 2641              		.loc 1 1416 0
 2642 0018 4FF6FF70 		movw	r0, #65535
 2643              	.LVL360:
ARM GAS  /tmp/ccR3k5BT.s 			page 77


 2644 001c BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 2645              	.LVL361:
 2646              	.L266:
1409:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     for (i = start_offset; i <= max; i++) {
 2647              		.loc 1 1409 0 discriminator 1
 2648 0020 AC42     		cmp	r4, r5
 2649 0022 09D8     		bhi	.L271
 2650              	.LBB12:
1410:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       if (plus == 0) {
 2651              		.loc 1 1410 0
 2652 0024 3346     		mov	r3, r6
 2653 0026 4246     		mov	r2, r8
 2654 0028 2146     		mov	r1, r4
 2655 002a 3846     		mov	r0, r7
 2656 002c FFF7FEFF 		bl	pbuf_memcmp
 2657              	.LVL362:
1411:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****         return i;
 2658              		.loc 1 1411 0
 2659 0030 30B1     		cbz	r0, .L269
 2660              	.LBE12:
1409:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     for (i = start_offset; i <= max; i++) {
 2661              		.loc 1 1409 0 discriminator 2
 2662 0032 0134     		adds	r4, r4, #1
 2663              	.LVL363:
 2664 0034 A4B2     		uxth	r4, r4
 2665              	.LVL364:
 2666 0036 F3E7     		b	.L266
 2667              	.LVL365:
 2668              	.L271:
 2669              		.loc 1 1416 0
 2670 0038 4FF6FF70 		movw	r0, #65535
 2671 003c BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 2672              	.LVL366:
 2673              	.L269:
 2674              	.LBB13:
1412:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       }
 2675              		.loc 1 1412 0
 2676 0040 2046     		mov	r0, r4
 2677              	.LVL367:
 2678              	.LBE13:
1417:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
 2679              		.loc 1 1417 0
 2680 0042 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 2681              		.cfi_endproc
 2682              	.LFE183:
 2684              		.section	.text.pbuf_strstr,"ax",%progbits
 2685              		.align	1
 2686              		.global	pbuf_strstr
 2687              		.syntax unified
 2688              		.thumb
 2689              		.thumb_func
 2690              		.fpu fpv5-d16
 2692              	pbuf_strstr:
 2693              	.LFB184:
1418:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
1419:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** /**
1420:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Find occurrence of substr with length substr_len in pbuf p, start at offset
ARM GAS  /tmp/ccR3k5BT.s 			page 78


1421:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * start_offset
1422:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * WARNING: in contrast to strstr(), this one does not stop at the first \0 in
1423:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * the pbuf/source string!
1424:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
1425:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param p pbuf to search, maximum length is 0xFFFE since 0xFFFF is used as
1426:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *        return value 'not found'
1427:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param substr string to search for in p, maximum length is 0xFFFE
1428:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @return 0xFFFF if substr was not found in p or the index where it was found
1429:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  */
1430:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** u16_t
1431:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** pbuf_strstr(const struct pbuf* p, const char* substr)
1432:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** {
 2694              		.loc 1 1432 0
 2695              		.cfi_startproc
 2696              		@ args = 0, pretend = 0, frame = 0
 2697              		@ frame_needed = 0, uses_anonymous_args = 0
 2698              	.LVL368:
1433:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   size_t substr_len;
1434:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   if ((substr == NULL) || (substr[0] == 0) || (p->tot_len == 0xFFFF)) {
 2699              		.loc 1 1434 0
 2700 0000 E9B1     		cbz	r1, .L274
1432:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   size_t substr_len;
 2701              		.loc 1 1432 0 discriminator 1
 2702 0002 38B5     		push	{r3, r4, r5, lr}
 2703              	.LCFI32:
 2704              		.cfi_def_cfa_offset 16
 2705              		.cfi_offset 3, -16
 2706              		.cfi_offset 4, -12
 2707              		.cfi_offset 5, -8
 2708              		.cfi_offset 14, -4
 2709 0004 0C46     		mov	r4, r1
 2710              		.loc 1 1434 0 discriminator 1
 2711 0006 0A78     		ldrb	r2, [r1]	@ zero_extendqisi2
 2712 0008 12B9     		cbnz	r2, .L282
1435:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     return 0xFFFF;
 2713              		.loc 1 1435 0
 2714 000a 4FF6FF70 		movw	r0, #65535
 2715              	.LVL369:
 2716 000e 38BD     		pop	{r3, r4, r5, pc}
 2717              	.LVL370:
 2718              	.L282:
1434:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     return 0xFFFF;
 2719              		.loc 1 1434 0 discriminator 2
 2720 0010 0189     		ldrh	r1, [r0, #8]
 2721              	.LVL371:
 2722 0012 4FF6FF72 		movw	r2, #65535
 2723 0016 9142     		cmp	r1, r2
 2724 0018 14D0     		beq	.L276
 2725 001a 0546     		mov	r5, r0
1436:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
1437:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   substr_len = strlen(substr);
 2726              		.loc 1 1437 0
 2727 001c 2046     		mov	r0, r4
 2728              	.LVL372:
 2729 001e FFF7FEFF 		bl	strlen
 2730              	.LVL373:
1438:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   if (substr_len >= 0xFFFF) {
ARM GAS  /tmp/ccR3k5BT.s 			page 79


 2731              		.loc 1 1438 0
 2732 0022 4FF6FE73 		movw	r3, #65534
 2733 0026 9842     		cmp	r0, r3
 2734 0028 02D9     		bls	.L283
1439:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     return 0xFFFF;
 2735              		.loc 1 1439 0
 2736 002a 4FF6FF70 		movw	r0, #65535
 2737              	.LVL374:
1440:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
1441:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   return pbuf_memfind(p, substr, (u16_t)substr_len, 0);
1442:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
 2738              		.loc 1 1442 0
 2739 002e 38BD     		pop	{r3, r4, r5, pc}
 2740              	.LVL375:
 2741              	.L283:
1441:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
 2742              		.loc 1 1441 0
 2743 0030 0023     		movs	r3, #0
 2744 0032 82B2     		uxth	r2, r0
 2745 0034 2146     		mov	r1, r4
 2746 0036 2846     		mov	r0, r5
 2747              	.LVL376:
 2748 0038 FFF7FEFF 		bl	pbuf_memfind
 2749              	.LVL377:
 2750 003c 38BD     		pop	{r3, r4, r5, pc}
 2751              	.LVL378:
 2752              	.L274:
 2753              	.LCFI33:
 2754              		.cfi_def_cfa_offset 0
 2755              		.cfi_restore 3
 2756              		.cfi_restore 4
 2757              		.cfi_restore 5
 2758              		.cfi_restore 14
1435:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
 2759              		.loc 1 1435 0
 2760 003e 4FF6FF70 		movw	r0, #65535
 2761              	.LVL379:
 2762 0042 7047     		bx	lr
 2763              	.LVL380:
 2764              	.L276:
 2765              	.LCFI34:
 2766              		.cfi_def_cfa_offset 16
 2767              		.cfi_offset 3, -16
 2768              		.cfi_offset 4, -12
 2769              		.cfi_offset 5, -8
 2770              		.cfi_offset 14, -4
 2771 0044 4FF6FF70 		movw	r0, #65535
 2772              	.LVL381:
 2773 0048 38BD     		pop	{r3, r4, r5, pc}
 2774              		.cfi_endproc
 2775              	.LFE184:
 2777              		.comm	pbuf_free_ooseq_pending,1,1
 2778              		.section	.rodata.pbuf_alloc.str1.4,"aMS",%progbits,1
 2779              		.align	2
 2780              	.LC9:
 2781 0000 70627566 		.ascii	"pbuf_alloc: bad pbuf layer\000"
 2781      5F616C6C 
ARM GAS  /tmp/ccR3k5BT.s 			page 80


 2781      6F633A20 
 2781      62616420 
 2781      70627566 
 2782 001b 00       		.space	1
 2783              	.LC10:
 2784 001c 63686563 		.ascii	"check p->payload + p->len does not overflow pbuf\000"
 2784      6B20702D 
 2784      3E706179 
 2784      6C6F6164 
 2784      202B2070 
 2785 004d 000000   		.space	3
 2786              	.LC11:
 2787 0050 50425546 		.ascii	"PBUF_POOL_BUFSIZE must be bigger than MEM_ALIGNMENT"
 2787      5F504F4F 
 2787      4C5F4255 
 2787      4653495A 
 2787      45206D75 
 2788 0083 00       		.ascii	"\000"
 2789              	.LC12:
 2790 0084 72656D5F 		.ascii	"rem_len < max_u16_t\000"
 2790      6C656E20 
 2790      3C206D61 
 2790      785F7531 
 2790      365F7400 
 2791              	.LC13:
 2792 0098 70627566 		.ascii	"pbuf_alloc: pbuf q->payload properly aligned\000"
 2792      5F616C6C 
 2792      6F633A20 
 2792      70627566 
 2792      20712D3E 
 2793 00c5 000000   		.space	3
 2794              	.LC14:
 2795 00c8 70627566 		.ascii	"pbuf_alloc: erroneous type\000"
 2795      5F616C6C 
 2795      6F633A20 
 2795      6572726F 
 2795      6E656F75 
 2796              		.section	.rodata.pbuf_alloced_custom.str1.4,"aMS",%progbits,1
 2797              		.align	2
 2798              	.LC5:
 2799 0000 70627566 		.ascii	"pbuf_alloced_custom: bad pbuf layer\000"
 2799      5F616C6C 
 2799      6F636564 
 2799      5F637573 
 2799      746F6D3A 
 2800              		.section	.rodata.pbuf_cat.str1.4,"aMS",%progbits,1
 2801              		.align	2
 2802              	.LC21:
 2803 0000 28682021 		.ascii	"(h != NULL) && (t != NULL) (programmer violates API"
 2803      3D204E55 
 2803      4C4C2920 
 2803      26262028 
 2803      7420213D 
 2804 0033 2900     		.ascii	")\000"
 2805 0035 000000   		.space	3
 2806              	.LC22:
 2807 0038 702D3E74 		.ascii	"p->tot_len == p->len (of last pbuf in chain)\000"
ARM GAS  /tmp/ccR3k5BT.s 			page 81


 2807      6F745F6C 
 2807      656E203D 
 2807      3D20702D 
 2807      3E6C656E 
 2808 0065 000000   		.space	3
 2809              	.LC23:
 2810 0068 702D3E6E 		.ascii	"p->next == NULL\000"
 2810      65787420 
 2810      3D3D204E 
 2810      554C4C00 
 2811              		.section	.rodata.pbuf_coalesce.str1.4,"aMS",%progbits,1
 2812              		.align	2
 2813              	.LC38:
 2814 0000 70627566 		.ascii	"pbuf_copy failed\000"
 2814      5F636F70 
 2814      79206661 
 2814      696C6564 
 2814      00
 2815              		.section	.rodata.pbuf_copy.str1.4,"aMS",%progbits,1
 2816              		.align	2
 2817              	.LC26:
 2818 0000 70627566 		.ascii	"pbuf_copy: target not big enough to hold source\000"
 2818      5F636F70 
 2818      793A2074 
 2818      61726765 
 2818      74206E6F 
 2819              	.LC27:
 2820 0030 6F666673 		.ascii	"offset_to <= p_to->len\000"
 2820      65745F74 
 2820      6F203C3D 
 2820      20705F74 
 2820      6F2D3E6C 
 2821 0047 00       		.space	1
 2822              	.LC28:
 2823 0048 6F666673 		.ascii	"offset_from <= p_from->len\000"
 2823      65745F66 
 2823      726F6D20 
 2823      3C3D2070 
 2823      5F66726F 
 2824 0063 00       		.space	1
 2825              	.LC29:
 2826 0064 705F746F 		.ascii	"p_to != NULL\000"
 2826      20213D20 
 2826      4E554C4C 
 2826      00
 2827 0071 000000   		.space	3
 2828              	.LC30:
 2829 0074 70627566 		.ascii	"pbuf_copy() does not allow packet queues!\000"
 2829      5F636F70 
 2829      79282920 
 2829      646F6573 
 2829      206E6F74 
 2830              		.section	.rodata.pbuf_copy_partial.str1.4,"aMS",%progbits,1
 2831              		.align	2
 2832              	.LC31:
 2833 0000 70627566 		.ascii	"pbuf_copy_partial: invalid buf\000"
 2833      5F636F70 
ARM GAS  /tmp/ccR3k5BT.s 			page 82


 2833      795F7061 
 2833      72746961 
 2833      6C3A2069 
 2834 001f 00       		.space	1
 2835              	.LC32:
 2836 0020 70627566 		.ascii	"pbuf_copy_partial: invalid dataptr\000"
 2836      5F636F70 
 2836      795F7061 
 2836      72746961 
 2836      6C3A2069 
 2837              		.section	.rodata.pbuf_dechain.str1.4,"aMS",%progbits,1
 2838              		.align	2
 2839              	.LC24:
 2840 0000 702D3E74 		.ascii	"p->tot_len == p->len + q->tot_len\000"
 2840      6F745F6C 
 2840      656E203D 
 2840      3D20702D 
 2840      3E6C656E 
 2841 0022 0000     		.space	2
 2842              	.LC25:
 2843 0024 702D3E74 		.ascii	"p->tot_len == p->len\000"
 2843      6F745F6C 
 2843      656E203D 
 2843      3D20702D 
 2843      3E6C656E 
 2844              		.section	.rodata.pbuf_free.str1.4,"aMS",%progbits,1
 2845              		.align	2
 2846              	.LC6:
 2847 0000 70627566 		.ascii	"pbuf_free: sane type\000"
 2847      5F667265 
 2847      653A2073 
 2847      616E6520 
 2847      74797065 
 2848 0015 000000   		.space	3
 2849              	.LC7:
 2850 0018 70627566 		.ascii	"pbuf_free: p->ref > 0\000"
 2850      5F667265 
 2850      653A2070 
 2850      2D3E7265 
 2850      66203E20 
 2851 002e 0000     		.space	2
 2852              	.LC8:
 2853 0030 70632D3E 		.ascii	"pc->custom_free_function != NULL\000"
 2853      63757374 
 2853      6F6D5F66 
 2853      7265655F 
 2853      66756E63 
 2854              		.section	.rodata.pbuf_header_impl.str1.4,"aMS",%progbits,1
 2855              		.align	2
 2856              	.LC0:
 2857 0000 4D696464 		.ascii	"Middlewares/Third_Party/LwIP/src/core/pbuf.c\000"
 2857      6C657761 
 2857      7265732F 
 2857      54686972 
 2857      645F5061 
 2858 002d 000000   		.space	3
 2859              	.LC1:
ARM GAS  /tmp/ccR3k5BT.s 			page 83


 2860 0030 7020213D 		.ascii	"p != NULL\000"
 2860      204E554C 
 2860      4C00
 2861 003a 0000     		.space	2
 2862              	.LC2:
 2863 003c 41737365 		.ascii	"Assertion \"%s\" failed at line %d in %s\012\000"
 2863      7274696F 
 2863      6E202225 
 2863      73222066 
 2863      61696C65 
 2864              	.LC3:
 2865 0064 696E6372 		.ascii	"increment_magnitude <= p->len\000"
 2865      656D656E 
 2865      745F6D61 
 2865      676E6974 
 2865      75646520 
 2866 0082 0000     		.space	2
 2867              	.LC4:
 2868 0084 62616420 		.ascii	"bad pbuf type\000"
 2868      70627566 
 2868      20747970 
 2868      6500
 2869              		.section	.rodata.pbuf_realloc.str1.4,"aMS",%progbits,1
 2870              		.align	2
 2871              	.LC15:
 2872 0000 70627566 		.ascii	"pbuf_realloc: p != NULL\000"
 2872      5F726561 
 2872      6C6C6F63 
 2872      3A207020 
 2872      213D204E 
 2873              	.LC16:
 2874 0018 70627566 		.ascii	"pbuf_realloc: sane p->type\000"
 2874      5F726561 
 2874      6C6C6F63 
 2874      3A207361 
 2874      6E652070 
 2875 0033 00       		.space	1
 2876              	.LC17:
 2877 0034 67726F77 		.ascii	"grow < max_u16_t\000"
 2877      203C206D 
 2877      61785F75 
 2877      31365F74 
 2877      00
 2878 0045 000000   		.space	3
 2879              	.LC18:
 2880 0048 70627566 		.ascii	"pbuf_realloc: q != NULL\000"
 2880      5F726561 
 2880      6C6C6F63 
 2880      3A207120 
 2880      213D204E 
 2881              	.LC19:
 2882 0060 6D656D5F 		.ascii	"mem_trim returned q == NULL\000"
 2882      7472696D 
 2882      20726574 
 2882      75726E65 
 2882      64207120 
 2883              		.section	.rodata.pbuf_ref.str1.4,"aMS",%progbits,1
ARM GAS  /tmp/ccR3k5BT.s 			page 84


 2884              		.align	2
 2885              	.LC20:
 2886 0000 70627566 		.ascii	"pbuf ref overflow\000"
 2886      20726566 
 2886      206F7665 
 2886      72666C6F 
 2886      7700
 2887              		.section	.rodata.pbuf_take.str1.4,"aMS",%progbits,1
 2888              		.align	2
 2889              	.LC33:
 2890 0000 70627566 		.ascii	"pbuf_take: invalid buf\000"
 2890      5F74616B 
 2890      653A2069 
 2890      6E76616C 
 2890      69642062 
 2891 0017 00       		.space	1
 2892              	.LC34:
 2893 0018 70627566 		.ascii	"pbuf_take: invalid dataptr\000"
 2893      5F74616B 
 2893      653A2069 
 2893      6E76616C 
 2893      69642064 
 2894 0033 00       		.space	1
 2895              	.LC35:
 2896 0034 70627566 		.ascii	"pbuf_take: buf not large enough\000"
 2896      5F74616B 
 2896      653A2062 
 2896      7566206E 
 2896      6F74206C 
 2897              	.LC36:
 2898 0054 70627566 		.ascii	"pbuf_take: invalid pbuf\000"
 2898      5F74616B 
 2898      653A2069 
 2898      6E76616C 
 2898      69642070 
 2899              	.LC37:
 2900 006c 64696420 		.ascii	"did not copy all data\000"
 2900      6E6F7420 
 2900      636F7079 
 2900      20616C6C 
 2900      20646174 
 2901              		.text
 2902              	.Letext0:
 2903              		.file 2 "/usr/include/newlib/machine/_default_types.h"
 2904              		.file 3 "/usr/include/newlib/sys/_stdint.h"
 2905              		.file 4 "Drivers/CMSIS/Include/core_cm7.h"
 2906              		.file 5 "Drivers/CMSIS/Device/ST/STM32H7xx/Include/system_stm32h7xx.h"
 2907              		.file 6 "/usr/lib/gcc/arm-none-eabi/6.3.1/include/stddef.h"
 2908              		.file 7 "/usr/include/newlib/sys/lock.h"
 2909              		.file 8 "/usr/include/newlib/sys/_types.h"
 2910              		.file 9 "/usr/include/newlib/sys/reent.h"
 2911              		.file 10 "/usr/include/newlib/math.h"
 2912              		.file 11 "Drivers/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal_def.h"
 2913              		.file 12 "Drivers/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal_flash.h"
 2914              		.file 13 "Drivers/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal.h"
 2915              		.file 14 "/usr/include/newlib/stdlib.h"
 2916              		.file 15 "/usr/include/newlib/time.h"
ARM GAS  /tmp/ccR3k5BT.s 			page 85


 2917              		.file 16 "Middlewares/Third_Party/LwIP/src/include/lwip/arch.h"
 2918              		.file 17 "Middlewares/Third_Party/LwIP/src/include/lwip/mem.h"
 2919              		.file 18 "Middlewares/Third_Party/LwIP/src/include/lwip/memp.h"
 2920              		.file 19 "Middlewares/Third_Party/LwIP/src/include/lwip/priv/memp_priv.h"
 2921              		.file 20 "Middlewares/Third_Party/LwIP/src/include/lwip/err.h"
 2922              		.file 21 "Middlewares/Third_Party/LwIP/src/include/lwip/pbuf.h"
 2923              		.file 22 "Middlewares/Third_Party/LwIP/src/include/lwip/ip4_addr.h"
 2924              		.file 23 "Middlewares/Third_Party/LwIP/src/include/lwip/ip_addr.h"
 2925              		.file 24 "Middlewares/Third_Party/LwIP/src/include/lwip/netif.h"
 2926              		.file 25 "Middlewares/Third_Party/LwIP/src/include/lwip/prot/ip4.h"
 2927              		.file 26 "Middlewares/Third_Party/LwIP/src/include/lwip/ip.h"
 2928              		.file 27 "Middlewares/Third_Party/LwIP/src/include/lwip/tcp.h"
 2929              		.file 28 "Middlewares/Third_Party/LwIP/src/include/lwip/priv/tcp_priv.h"
 2930              		.file 29 "Middlewares/Third_Party/LwIP/src/include/lwip/prot/tcp.h"
 2931              		.file 30 "/usr/include/newlib/string.h"
 2932              		.file 31 "/usr/include/newlib/stdio.h"
ARM GAS  /tmp/ccR3k5BT.s 			page 86


DEFINED SYMBOLS
                            *ABS*:0000000000000000 pbuf.c
     /tmp/ccR3k5BT.s:17     .text.pbuf_pool_is_empty:0000000000000000 $t
     /tmp/ccR3k5BT.s:23     .text.pbuf_pool_is_empty:0000000000000000 pbuf_pool_is_empty
     /tmp/ccR3k5BT.s:39     .text.pbuf_pool_is_empty:0000000000000008 $d
                            *COM*:0000000000000001 pbuf_free_ooseq_pending
     /tmp/ccR3k5BT.s:44     .text.pbuf_skip_const:0000000000000000 $t
     /tmp/ccR3k5BT.s:50     .text.pbuf_skip_const:0000000000000000 pbuf_skip_const
     /tmp/ccR3k5BT.s:89     .text.pbuf_header_impl:0000000000000000 $t
     /tmp/ccR3k5BT.s:95     .text.pbuf_header_impl:0000000000000000 pbuf_header_impl
     /tmp/ccR3k5BT.s:267    .text.pbuf_header_impl:00000000000000b8 $d
     /tmp/ccR3k5BT.s:276    .text.pbuf_free_ooseq:0000000000000000 $t
     /tmp/ccR3k5BT.s:283    .text.pbuf_free_ooseq:0000000000000000 pbuf_free_ooseq
     /tmp/ccR3k5BT.s:328    .text.pbuf_free_ooseq:0000000000000024 $d
     /tmp/ccR3k5BT.s:334    .text.pbuf_alloced_custom:0000000000000000 $t
     /tmp/ccR3k5BT.s:341    .text.pbuf_alloced_custom:0000000000000000 pbuf_alloced_custom
     /tmp/ccR3k5BT.s:361    .text.pbuf_alloced_custom:000000000000000c $d
     /tmp/ccR3k5BT.s:463    .text.pbuf_alloced_custom:000000000000006c $d
     /tmp/ccR3k5BT.s:470    .text.pbuf_header:0000000000000000 $t
     /tmp/ccR3k5BT.s:477    .text.pbuf_header:0000000000000000 pbuf_header
     /tmp/ccR3k5BT.s:499    .text.pbuf_header_force:0000000000000000 $t
     /tmp/ccR3k5BT.s:506    .text.pbuf_header_force:0000000000000000 pbuf_header_force
     /tmp/ccR3k5BT.s:528    .text.pbuf_free:0000000000000000 $t
     /tmp/ccR3k5BT.s:535    .text.pbuf_free:0000000000000000 pbuf_free
     /tmp/ccR3k5BT.s:705    .text.pbuf_free:00000000000000b4 $d
     /tmp/ccR3k5BT.s:716    .text.pbuf_alloc:0000000000000000 $t
     /tmp/ccR3k5BT.s:723    .text.pbuf_alloc:0000000000000000 pbuf_alloc
     /tmp/ccR3k5BT.s:748    .text.pbuf_alloc:0000000000000010 $d
     /tmp/ccR3k5BT.s:802    .text.pbuf_alloc:0000000000000044 $d
     /tmp/ccR3k5BT.s:806    .text.pbuf_alloc:0000000000000048 $t
     /tmp/ccR3k5BT.s:1073   .text.pbuf_alloc:00000000000001b4 $d
     /tmp/ccR3k5BT.s:1085   .text.pbuf_realloc:0000000000000000 $t
     /tmp/ccR3k5BT.s:1092   .text.pbuf_realloc:0000000000000000 pbuf_realloc
     /tmp/ccR3k5BT.s:1248   .text.pbuf_realloc:00000000000000c8 $d
     /tmp/ccR3k5BT.s:1259   .text.pbuf_clen:0000000000000000 $t
     /tmp/ccR3k5BT.s:1266   .text.pbuf_clen:0000000000000000 pbuf_clen
     /tmp/ccR3k5BT.s:1300   .text.pbuf_ref:0000000000000000 $t
     /tmp/ccR3k5BT.s:1307   .text.pbuf_ref:0000000000000000 pbuf_ref
     /tmp/ccR3k5BT.s:1354   .text.pbuf_ref:0000000000000024 $d
     /tmp/ccR3k5BT.s:1361   .text.pbuf_cat:0000000000000000 $t
     /tmp/ccR3k5BT.s:1368   .text.pbuf_cat:0000000000000000 pbuf_cat
     /tmp/ccR3k5BT.s:1452   .text.pbuf_cat:0000000000000064 $d
     /tmp/ccR3k5BT.s:1461   .text.pbuf_chain:0000000000000000 $t
     /tmp/ccR3k5BT.s:1468   .text.pbuf_chain:0000000000000000 pbuf_chain
     /tmp/ccR3k5BT.s:1493   .text.pbuf_dechain:0000000000000000 $t
     /tmp/ccR3k5BT.s:1500   .text.pbuf_dechain:0000000000000000 pbuf_dechain
     /tmp/ccR3k5BT.s:1589   .text.pbuf_dechain:0000000000000060 $d
     /tmp/ccR3k5BT.s:1597   .text.pbuf_copy:0000000000000000 $t
     /tmp/ccR3k5BT.s:1604   .text.pbuf_copy:0000000000000000 pbuf_copy
     /tmp/ccR3k5BT.s:1818   .text.pbuf_copy:0000000000000124 $d
     /tmp/ccR3k5BT.s:1829   .text.pbuf_copy_partial:0000000000000000 $t
     /tmp/ccR3k5BT.s:1836   .text.pbuf_copy_partial:0000000000000000 pbuf_copy_partial
     /tmp/ccR3k5BT.s:1955   .text.pbuf_copy_partial:000000000000007c $d
     /tmp/ccR3k5BT.s:1963   .text.pbuf_skip:0000000000000000 $t
     /tmp/ccR3k5BT.s:1970   .text.pbuf_skip:0000000000000000 pbuf_skip
     /tmp/ccR3k5BT.s:1991   .text.pbuf_take:0000000000000000 $t
     /tmp/ccR3k5BT.s:1998   .text.pbuf_take:0000000000000000 pbuf_take
ARM GAS  /tmp/ccR3k5BT.s 			page 87


     /tmp/ccR3k5BT.s:2143   .text.pbuf_take:00000000000000b0 $d
     /tmp/ccR3k5BT.s:2154   .text.pbuf_take_at:0000000000000000 $t
     /tmp/ccR3k5BT.s:2161   .text.pbuf_take_at:0000000000000000 pbuf_take_at
     /tmp/ccR3k5BT.s:2262   .text.pbuf_coalesce:0000000000000000 $t
     /tmp/ccR3k5BT.s:2269   .text.pbuf_coalesce:0000000000000000 pbuf_coalesce
     /tmp/ccR3k5BT.s:2339   .text.pbuf_coalesce:0000000000000044 $d
     /tmp/ccR3k5BT.s:2346   .text.pbuf_try_get_at:0000000000000000 $t
     /tmp/ccR3k5BT.s:2353   .text.pbuf_try_get_at:0000000000000000 pbuf_try_get_at
     /tmp/ccR3k5BT.s:2407   .text.pbuf_get_at:0000000000000000 $t
     /tmp/ccR3k5BT.s:2414   .text.pbuf_get_at:0000000000000000 pbuf_get_at
     /tmp/ccR3k5BT.s:2447   .text.pbuf_put_at:0000000000000000 $t
     /tmp/ccR3k5BT.s:2454   .text.pbuf_put_at:0000000000000000 pbuf_put_at
     /tmp/ccR3k5BT.s:2496   .text.pbuf_memcmp:0000000000000000 $t
     /tmp/ccR3k5BT.s:2503   .text.pbuf_memcmp:0000000000000000 pbuf_memcmp
     /tmp/ccR3k5BT.s:2603   .text.pbuf_memfind:0000000000000000 $t
     /tmp/ccR3k5BT.s:2610   .text.pbuf_memfind:0000000000000000 pbuf_memfind
     /tmp/ccR3k5BT.s:2685   .text.pbuf_strstr:0000000000000000 $t
     /tmp/ccR3k5BT.s:2692   .text.pbuf_strstr:0000000000000000 pbuf_strstr
     /tmp/ccR3k5BT.s:2779   .rodata.pbuf_alloc.str1.4:0000000000000000 $d
     /tmp/ccR3k5BT.s:2797   .rodata.pbuf_alloced_custom.str1.4:0000000000000000 $d
     /tmp/ccR3k5BT.s:2801   .rodata.pbuf_cat.str1.4:0000000000000000 $d
     /tmp/ccR3k5BT.s:2812   .rodata.pbuf_coalesce.str1.4:0000000000000000 $d
     /tmp/ccR3k5BT.s:2816   .rodata.pbuf_copy.str1.4:0000000000000000 $d
     /tmp/ccR3k5BT.s:2831   .rodata.pbuf_copy_partial.str1.4:0000000000000000 $d
     /tmp/ccR3k5BT.s:2838   .rodata.pbuf_dechain.str1.4:0000000000000000 $d
     /tmp/ccR3k5BT.s:2845   .rodata.pbuf_free.str1.4:0000000000000000 $d
     /tmp/ccR3k5BT.s:2855   .rodata.pbuf_header_impl.str1.4:0000000000000000 $d
     /tmp/ccR3k5BT.s:2870   .rodata.pbuf_realloc.str1.4:0000000000000000 $d
     /tmp/ccR3k5BT.s:2884   .rodata.pbuf_ref.str1.4:0000000000000000 $d
     /tmp/ccR3k5BT.s:2888   .rodata.pbuf_take.str1.4:0000000000000000 $d
                     .debug_frame:0000000000000010 $d
     /tmp/ccR3k5BT.s:366    .text.pbuf_alloced_custom:0000000000000011 $d
     /tmp/ccR3k5BT.s:366    .text.pbuf_alloced_custom:0000000000000012 $t
     /tmp/ccR3k5BT.s:753    .text.pbuf_alloc:0000000000000015 $d
     /tmp/ccR3k5BT.s:753    .text.pbuf_alloc:0000000000000016 $t

UNDEFINED SYMBOLS
printf
tcp_segs_free
tcp_active_pcbs
mem_free
memp_free
memp_malloc
mem_malloc
mem_trim
memcpy
strlen
