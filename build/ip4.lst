ARM GAS  /tmp/cc7cqM2K.s 			page 1


   1              		.cpu cortex-m7
   2              		.eabi_attribute 28, 1
   3              		.eabi_attribute 20, 1
   4              		.eabi_attribute 21, 1
   5              		.eabi_attribute 23, 3
   6              		.eabi_attribute 24, 1
   7              		.eabi_attribute 25, 1
   8              		.eabi_attribute 26, 1
   9              		.eabi_attribute 30, 1
  10              		.eabi_attribute 34, 1
  11              		.eabi_attribute 18, 4
  12              		.file	"ip4.c"
  13              		.text
  14              	.Ltext0:
  15              		.cfi_sections	.debug_frame
  16              		.section	.text.ip4_route,"ax",%progbits
  17              		.align	1
  18              		.global	ip4_route
  19              		.syntax unified
  20              		.thumb
  21              		.thumb_func
  22              		.fpu fpv5-d16
  24              	ip4_route:
  25              	.LFB158:
  26              		.file 1 "Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c"
   1:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** /**
   2:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * @file
   3:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * This is the IPv4 layer implementation for incoming and outgoing IP traffic.
   4:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  *
   5:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * @see ip_frag.c
   6:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  *
   7:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  */
   8:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
   9:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** /*
  10:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * Copyright (c) 2001-2004 Swedish Institute of Computer Science.
  11:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * All rights reserved.
  12:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  *
  13:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * Redistribution and use in source and binary forms, with or without modification,
  14:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * are permitted provided that the following conditions are met:
  15:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  *
  16:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * 1. Redistributions of source code must retain the above copyright notice,
  17:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  *    this list of conditions and the following disclaimer.
  18:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * 2. Redistributions in binary form must reproduce the above copyright notice,
  19:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  *    this list of conditions and the following disclaimer in the documentation
  20:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  *    and/or other materials provided with the distribution.
  21:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * 3. The name of the author may not be used to endorse or promote products
  22:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  *    derived from this software without specific prior written permission.
  23:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  *
  24:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * THIS SOFTWARE IS PROVIDED BY THE AUTHOR ``AS IS'' AND ANY EXPRESS OR IMPLIED
  25:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
  26:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT
  27:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * SHALL THE AUTHOR BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  28:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT
  29:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
  30:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
  31:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING
  32:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY
ARM GAS  /tmp/cc7cqM2K.s 			page 2


  33:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * OF SUCH DAMAGE.
  34:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  *
  35:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * This file is part of the lwIP TCP/IP stack.
  36:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  *
  37:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * Author: Adam Dunkels <adam@sics.se>
  38:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  *
  39:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  */
  40:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
  41:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #include "lwip/opt.h"
  42:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
  43:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if LWIP_IPV4
  44:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
  45:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #include "lwip/ip.h"
  46:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #include "lwip/def.h"
  47:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #include "lwip/mem.h"
  48:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #include "lwip/ip4_frag.h"
  49:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #include "lwip/inet_chksum.h"
  50:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #include "lwip/netif.h"
  51:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #include "lwip/icmp.h"
  52:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #include "lwip/igmp.h"
  53:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #include "lwip/raw.h"
  54:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #include "lwip/udp.h"
  55:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #include "lwip/priv/tcp_priv.h"
  56:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #include "lwip/autoip.h"
  57:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #include "lwip/stats.h"
  58:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #include "lwip/prot/dhcp.h"
  59:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
  60:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #include <string.h>
  61:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
  62:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #ifdef LWIP_HOOK_FILENAME
  63:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #include LWIP_HOOK_FILENAME
  64:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif
  65:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
  66:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** /** Set this to 0 in the rare case of wanting to call an extra function to
  67:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * generate the IP checksum (in contrast to calculating it on-the-fly). */
  68:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #ifndef LWIP_INLINE_IP_CHKSUM
  69:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if LWIP_CHECKSUM_CTRL_PER_NETIF
  70:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #define LWIP_INLINE_IP_CHKSUM   0
  71:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #else /* LWIP_CHECKSUM_CTRL_PER_NETIF */
  72:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #define LWIP_INLINE_IP_CHKSUM   1
  73:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* LWIP_CHECKSUM_CTRL_PER_NETIF */
  74:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif
  75:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
  76:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if LWIP_INLINE_IP_CHKSUM && CHECKSUM_GEN_IP
  77:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #define CHECKSUM_GEN_IP_INLINE  1
  78:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #else
  79:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #define CHECKSUM_GEN_IP_INLINE  0
  80:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif
  81:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
  82:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if LWIP_DHCP || defined(LWIP_IP_ACCEPT_UDP_PORT)
  83:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #define IP_ACCEPT_LINK_LAYER_ADDRESSING 1
  84:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
  85:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** /** Some defines for DHCP to let link-layer-addressed packets through while the
  86:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * netif is down.
  87:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * To use this in your own application/protocol, define LWIP_IP_ACCEPT_UDP_PORT(port)
  88:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * to return 1 if the port is accepted and 0 if the port is not accepted.
  89:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  */
ARM GAS  /tmp/cc7cqM2K.s 			page 3


  90:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if LWIP_DHCP && defined(LWIP_IP_ACCEPT_UDP_PORT)
  91:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** /* accept DHCP client port and custom port */
  92:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #define IP_ACCEPT_LINK_LAYER_ADDRESSED_PORT(port) (((port) == PP_NTOHS(DHCP_CLIENT_PORT)) \
  93:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****          || (LWIP_IP_ACCEPT_UDP_PORT(port)))
  94:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #elif defined(LWIP_IP_ACCEPT_UDP_PORT) /* LWIP_DHCP && defined(LWIP_IP_ACCEPT_UDP_PORT) */
  95:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** /* accept custom port only */
  96:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #define IP_ACCEPT_LINK_LAYER_ADDRESSED_PORT(port) (LWIP_IP_ACCEPT_UDP_PORT(port))
  97:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #else /* LWIP_DHCP && defined(LWIP_IP_ACCEPT_UDP_PORT) */
  98:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** /* accept DHCP client port only */
  99:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #define IP_ACCEPT_LINK_LAYER_ADDRESSED_PORT(port) ((port) == PP_NTOHS(DHCP_CLIENT_PORT))
 100:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* LWIP_DHCP && defined(LWIP_IP_ACCEPT_UDP_PORT) */
 101:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 102:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #else /* LWIP_DHCP */
 103:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #define IP_ACCEPT_LINK_LAYER_ADDRESSING 0
 104:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* LWIP_DHCP */
 105:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 106:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** /** The IP header ID of the next outgoing IP packet */
 107:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** static u16_t ip_id;
 108:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 109:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if LWIP_MULTICAST_TX_OPTIONS
 110:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** /** The default netif used for multicast */
 111:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** static struct netif* ip4_default_multicast_netif;
 112:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 113:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** /**
 114:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * @ingroup ip4
 115:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * Set a default netif for IPv4 multicast. */
 116:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** void
 117:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** ip4_set_default_multicast_netif(struct netif* default_multicast_netif)
 118:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** {
 119:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   ip4_default_multicast_netif = default_multicast_netif;
 120:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** }
 121:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* LWIP_MULTICAST_TX_OPTIONS */
 122:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 123:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #ifdef LWIP_HOOK_IP4_ROUTE_SRC
 124:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** /**
 125:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * Source based IPv4 routing must be fully implemented in
 126:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * LWIP_HOOK_IP4_ROUTE_SRC(). This function only provides he parameters.
 127:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  */
 128:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** struct netif *
 129:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** ip4_route_src(const ip4_addr_t *dest, const ip4_addr_t *src)
 130:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** {
 131:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   if (src != NULL) {
 132:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     /* when src==NULL, the hook is called from ip4_route(dest) */
 133:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     struct netif *netif = LWIP_HOOK_IP4_ROUTE_SRC(dest, src);
 134:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     if (netif != NULL) {
 135:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       return netif;
 136:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     }
 137:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 138:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   return ip4_route(dest);
 139:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** }
 140:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* LWIP_HOOK_IP4_ROUTE_SRC */
 141:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 142:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** /**
 143:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * Finds the appropriate network interface for a given IP address. It
 144:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * searches the list of network interfaces linearly. A match is found
 145:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * if the masked IP address of the network interface equals the masked
 146:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * IP address given to the function.
ARM GAS  /tmp/cc7cqM2K.s 			page 4


 147:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  *
 148:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * @param dest the destination IP address for which to find the route
 149:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * @return the netif on which to send to reach dest
 150:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  */
 151:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** struct netif *
 152:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** ip4_route(const ip4_addr_t *dest)
 153:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** {
  27              		.loc 1 153 0
  28              		.cfi_startproc
  29              		@ args = 0, pretend = 0, frame = 0
  30              		@ frame_needed = 0, uses_anonymous_args = 0
  31              		@ link register save eliminated.
  32              	.LVL0:
 154:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   struct netif *netif;
 155:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 156:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if LWIP_MULTICAST_TX_OPTIONS
 157:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   /* Use administratively selected interface for multicast by default */
 158:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   if (ip4_addr_ismulticast(dest) && ip4_default_multicast_netif) {
 159:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     return ip4_default_multicast_netif;
 160:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 161:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* LWIP_MULTICAST_TX_OPTIONS */
 162:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 163:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   /* iterate through netifs */
 164:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   for (netif = netif_list; netif != NULL; netif = netif->next) {
  33              		.loc 1 164 0
  34 0000 254B     		ldr	r3, .L26
  35 0002 1B68     		ldr	r3, [r3]
  36              	.LVL1:
  37 0004 2BE0     		b	.L10
  38              	.L3:
  39              	.LCFI0:
  40              		.cfi_def_cfa_offset 8
  41              		.cfi_offset 4, -8
  42              		.cfi_offset 5, -4
  43              		.loc 1 164 0 is_stmt 0 discriminator 2
  44 0006 1B68     		ldr	r3, [r3]
  45              	.LVL2:
  46 0008 ABB1     		cbz	r3, .L23
 165:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     /* is the netif up, does it have a link and a valid address? */
 166:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     if (netif_is_up(netif) && netif_is_link_up(netif) && !ip4_addr_isany_val(*netif_ip4_addr(netif)
  47              		.loc 1 166 0 is_stmt 1
  48 000a 93F82B20 		ldrb	r2, [r3, #43]	@ zero_extendqisi2
  49 000e 02F00501 		and	r1, r2, #5
  50 0012 0529     		cmp	r1, #5
  51 0014 F7D1     		bne	.L3
  52              		.loc 1 166 0 is_stmt 0 discriminator 1
  53 0016 5968     		ldr	r1, [r3, #4]
  54 0018 0029     		cmp	r1, #0
  55 001a F4D0     		beq	.L3
  56              	.L13:
 167:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       /* network mask matches? */
 168:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       if (ip4_addr_netcmp(dest, netif_ip4_addr(netif), netif_ip4_netmask(netif))) {
  57              		.loc 1 168 0 is_stmt 1
  58 001c 0468     		ldr	r4, [r0]
  59 001e 9D68     		ldr	r5, [r3, #8]
  60 0020 6140     		eors	r1, r1, r4
  61 0022 2942     		tst	r1, r5
ARM GAS  /tmp/cc7cqM2K.s 			page 5


  62 0024 16D0     		beq	.L6
 169:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         /* return netif on which to forward IP packet */
 170:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         return netif;
 171:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       }
 172:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       /* gateway matches on a non broadcast interface? (i.e. peer in a point to point interface) */
 173:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       if (((netif->flags & NETIF_FLAG_BROADCAST) == 0) && ip4_addr_cmp(dest, netif_ip4_gw(netif))) 
  63              		.loc 1 173 0
  64 0026 12F0020F 		tst	r2, #2
  65 002a ECD1     		bne	.L3
  66              		.loc 1 173 0 is_stmt 0 discriminator 1
  67 002c DA68     		ldr	r2, [r3, #12]
  68 002e 9442     		cmp	r4, r2
  69 0030 E9D1     		bne	.L3
 174:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         /* return netif on which to forward IP packet */
 175:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         return netif;
  70              		.loc 1 175 0 is_stmt 1
  71 0032 1846     		mov	r0, r3
  72              	.LVL3:
  73 0034 0AE0     		b	.L1
  74              	.LVL4:
  75              	.L23:
 176:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       }
 177:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     }
 178:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 179:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 180:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if LWIP_NETIF_LOOPBACK && !LWIP_HAVE_LOOPIF
 181:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   /* loopif is disabled, looopback traffic is passed through any netif */
 182:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   if (ip4_addr_isloopback(dest)) {
 183:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     /* don't check for link on loopback traffic */
 184:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     if (netif_default != NULL && netif_is_up(netif_default)) {
 185:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       return netif_default;
 186:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     }
 187:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     /* default netif is not up, just use any netif for loopback traffic */
 188:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     for (netif = netif_list; netif != NULL; netif = netif->next) {
 189:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       if (netif_is_up(netif)) {
 190:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         return netif;
 191:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       }
 192:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     }
 193:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     return NULL;
 194:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 195:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* LWIP_NETIF_LOOPBACK && !LWIP_HAVE_LOOPIF */
 196:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 197:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #ifdef LWIP_HOOK_IP4_ROUTE_SRC
 198:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   netif = LWIP_HOOK_IP4_ROUTE_SRC(dest, NULL);
 199:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   if (netif != NULL) {
 200:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     return netif;
 201:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 202:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #elif defined(LWIP_HOOK_IP4_ROUTE)
 203:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   netif = LWIP_HOOK_IP4_ROUTE(dest);
 204:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   if (netif != NULL) {
 205:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     return netif;
 206:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 207:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif
 208:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 209:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   if ((netif_default == NULL) || !netif_is_up(netif_default) || !netif_is_link_up(netif_default) ||
  76              		.loc 1 209 0
  77 0036 194A     		ldr	r2, .L26+4
ARM GAS  /tmp/cc7cqM2K.s 			page 6


  78 0038 1068     		ldr	r0, [r2]
  79              	.LVL5:
  80 003a 38B1     		cbz	r0, .L1
  81              		.loc 1 209 0 is_stmt 0 discriminator 1
  82 003c 90F82B20 		ldrb	r2, [r0, #43]	@ zero_extendqisi2
  83 0040 02F00502 		and	r2, r2, #5
  84 0044 052A     		cmp	r2, #5
  85 0046 07D1     		bne	.L8
 210:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       ip4_addr_isany_val(*netif_ip4_addr(netif_default))) {
  86              		.loc 1 210 0 is_stmt 1 discriminator 2
  87 0048 4268     		ldr	r2, [r0, #4]
 209:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       ip4_addr_isany_val(*netif_ip4_addr(netif_default))) {
  88              		.loc 1 209 0 discriminator 2
  89 004a 0AB1     		cbz	r2, .L24
  90              	.L1:
 211:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     /* No matching netif found and default netif is not usable.
 212:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****        If this is not good enough for you, use LWIP_HOOK_IP4_ROUTE() */
 213:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     LWIP_DEBUGF(IP_DEBUG | LWIP_DBG_LEVEL_SERIOUS, ("ip4_route: No route to %"U16_F".%"U16_F".%"U16
 214:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       ip4_addr1_16(dest), ip4_addr2_16(dest), ip4_addr3_16(dest), ip4_addr4_16(dest)));
 215:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     IP_STATS_INC(ip.rterr);
 216:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     MIB2_STATS_INC(mib2.ipoutnoroutes);
 217:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     return NULL;
 218:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 219:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 220:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   return netif_default;
 221:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** }
  91              		.loc 1 221 0
  92 004c 30BC     		pop	{r4, r5}
  93              	.LCFI1:
  94              		.cfi_restore 5
  95              		.cfi_restore 4
  96              		.cfi_def_cfa_offset 0
  97              	.L22:
  98 004e 7047     		bx	lr
  99              	.L24:
 100              	.LCFI2:
 101              		.cfi_def_cfa_offset 8
 102              		.cfi_offset 4, -8
 103              		.cfi_offset 5, -4
 217:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 104              		.loc 1 217 0
 105 0050 1846     		mov	r0, r3
 106 0052 FBE7     		b	.L1
 107              	.LVL6:
 108              	.L6:
 170:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       }
 109              		.loc 1 170 0
 110 0054 1846     		mov	r0, r3
 111              	.LVL7:
 112 0056 F9E7     		b	.L1
 113              	.L8:
 217:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 114              		.loc 1 217 0
 115 0058 1846     		mov	r0, r3
 116 005a F7E7     		b	.L1
 117              	.LVL8:
 118              	.L12:
ARM GAS  /tmp/cc7cqM2K.s 			page 7


 119              	.LCFI3:
 120              		.cfi_def_cfa_offset 0
 121              		.cfi_restore 4
 122              		.cfi_restore 5
 164:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     /* is the netif up, does it have a link and a valid address? */
 123              		.loc 1 164 0
 124 005c 1B68     		ldr	r3, [r3]
 125              	.LVL9:
 126              	.L10:
 127 005e 53B1     		cbz	r3, .L25
 166:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       /* network mask matches? */
 128              		.loc 1 166 0
 129 0060 93F82B20 		ldrb	r2, [r3, #43]	@ zero_extendqisi2
 130 0064 02F00501 		and	r1, r2, #5
 131 0068 0529     		cmp	r1, #5
 132 006a F7D1     		bne	.L12
 133 006c 5968     		ldr	r1, [r3, #4]
 134 006e 0029     		cmp	r1, #0
 135 0070 F4D0     		beq	.L12
 153:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   struct netif *netif;
 136              		.loc 1 153 0
 137 0072 30B4     		push	{r4, r5}
 138              	.LCFI4:
 139              		.cfi_def_cfa_offset 8
 140              		.cfi_offset 4, -8
 141              		.cfi_offset 5, -4
 142 0074 D2E7     		b	.L13
 143              	.L25:
 144              	.LCFI5:
 145              		.cfi_def_cfa_offset 0
 146              		.cfi_restore 4
 147              		.cfi_restore 5
 209:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       ip4_addr_isany_val(*netif_ip4_addr(netif_default))) {
 148              		.loc 1 209 0
 149 0076 094A     		ldr	r2, .L26+4
 150 0078 1068     		ldr	r0, [r2]
 151              	.LVL10:
 152 007a 0028     		cmp	r0, #0
 153 007c E7D0     		beq	.L22
 154 007e 90F82B20 		ldrb	r2, [r0, #43]	@ zero_extendqisi2
 155 0082 02F00502 		and	r2, r2, #5
 156 0086 052A     		cmp	r2, #5
 157 0088 04D1     		bne	.L18
 210:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     /* No matching netif found and default netif is not usable.
 158              		.loc 1 210 0
 159 008a 4268     		ldr	r2, [r0, #4]
 209:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       ip4_addr_isany_val(*netif_ip4_addr(netif_default))) {
 160              		.loc 1 209 0
 161 008c 002A     		cmp	r2, #0
 162 008e DED1     		bne	.L22
 217:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 163              		.loc 1 217 0
 164 0090 1846     		mov	r0, r3
 165 0092 7047     		bx	lr
 166              	.L18:
 167 0094 1846     		mov	r0, r3
 168 0096 7047     		bx	lr
ARM GAS  /tmp/cc7cqM2K.s 			page 8


 169              	.L27:
 170              		.align	2
 171              	.L26:
 172 0098 00000000 		.word	netif_list
 173 009c 00000000 		.word	netif_default
 174              		.cfi_endproc
 175              	.LFE158:
 177              		.section	.text.ip4_input,"ax",%progbits
 178              		.align	1
 179              		.global	ip4_input
 180              		.syntax unified
 181              		.thumb
 182              		.thumb_func
 183              		.fpu fpv5-d16
 185              	ip4_input:
 186              	.LFB159:
 222:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 223:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if IP_FORWARD
 224:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** /**
 225:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * Determine whether an IP address is in a reserved set of addresses
 226:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * that may not be forwarded, or whether datagrams to that destination
 227:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * may be forwarded.
 228:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * @param p the packet to forward
 229:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * @return 1: can forward 0: discard
 230:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  */
 231:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** static int
 232:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** ip4_canforward(struct pbuf *p)
 233:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** {
 234:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   u32_t addr = lwip_htonl(ip4_addr_get_u32(ip4_current_dest_addr()));
 235:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 236:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   if (p->flags & PBUF_FLAG_LLBCAST) {
 237:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     /* don't route link-layer broadcasts */
 238:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     return 0;
 239:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 240:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   if ((p->flags & PBUF_FLAG_LLMCAST) && !IP_MULTICAST(addr)) {
 241:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     /* don't route link-layer multicasts unless the destination address is an IP
 242:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****        multicast address */
 243:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     return 0;
 244:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 245:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   if (IP_EXPERIMENTAL(addr)) {
 246:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     return 0;
 247:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 248:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   if (IP_CLASSA(addr)) {
 249:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     u32_t net = addr & IP_CLASSA_NET;
 250:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     if ((net == 0) || (net == ((u32_t)IP_LOOPBACKNET << IP_CLASSA_NSHIFT))) {
 251:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       /* don't route loopback packets */
 252:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       return 0;
 253:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     }
 254:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 255:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   return 1;
 256:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** }
 257:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 258:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** /**
 259:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * Forwards an IP packet. It finds an appropriate route for the
 260:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * packet, decrements the TTL value of the packet, adjusts the
 261:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * checksum and outputs the packet on the appropriate interface.
 262:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  *
ARM GAS  /tmp/cc7cqM2K.s 			page 9


 263:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * @param p the packet to forward (p->payload points to IP header)
 264:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * @param iphdr the IP header of the input packet
 265:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * @param inp the netif on which this packet was received
 266:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  */
 267:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** static void
 268:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** ip4_forward(struct pbuf *p, struct ip_hdr *iphdr, struct netif *inp)
 269:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** {
 270:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   struct netif *netif;
 271:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 272:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   PERF_START;
 273:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   LWIP_UNUSED_ARG(inp);
 274:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 275:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   if (!ip4_canforward(p)) {
 276:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     goto return_noroute;
 277:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 278:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 279:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   /* RFC3927 2.7: do not forward link-local addresses */
 280:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   if (ip4_addr_islinklocal(ip4_current_dest_addr())) {
 281:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     LWIP_DEBUGF(IP_DEBUG, ("ip4_forward: not forwarding LLA %"U16_F".%"U16_F".%"U16_F".%"U16_F"\n",
 282:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       ip4_addr1_16(ip4_current_dest_addr()), ip4_addr2_16(ip4_current_dest_addr()),
 283:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       ip4_addr3_16(ip4_current_dest_addr()), ip4_addr4_16(ip4_current_dest_addr())));
 284:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     goto return_noroute;
 285:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 286:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 287:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   /* Find network interface where to forward this IP packet to. */
 288:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   netif = ip4_route_src(ip4_current_dest_addr(), ip4_current_src_addr());
 289:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   if (netif == NULL) {
 290:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     LWIP_DEBUGF(IP_DEBUG, ("ip4_forward: no forwarding route for %"U16_F".%"U16_F".%"U16_F".%"U16_F
 291:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       ip4_addr1_16(ip4_current_dest_addr()), ip4_addr2_16(ip4_current_dest_addr()),
 292:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       ip4_addr3_16(ip4_current_dest_addr()), ip4_addr4_16(ip4_current_dest_addr())));
 293:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     /* @todo: send ICMP_DUR_NET? */
 294:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     goto return_noroute;
 295:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 296:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if !IP_FORWARD_ALLOW_TX_ON_RX_NETIF
 297:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   /* Do not forward packets onto the same network interface on which
 298:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****    * they arrived. */
 299:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   if (netif == inp) {
 300:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     LWIP_DEBUGF(IP_DEBUG, ("ip4_forward: not bouncing packets back on incoming interface.\n"));
 301:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     goto return_noroute;
 302:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 303:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* IP_FORWARD_ALLOW_TX_ON_RX_NETIF */
 304:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 305:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   /* decrement TTL */
 306:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   IPH_TTL_SET(iphdr, IPH_TTL(iphdr) - 1);
 307:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   /* send ICMP if TTL == 0 */
 308:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   if (IPH_TTL(iphdr) == 0) {
 309:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     MIB2_STATS_INC(mib2.ipinhdrerrors);
 310:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if LWIP_ICMP
 311:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     /* Don't send ICMP messages in response to ICMP messages */
 312:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     if (IPH_PROTO(iphdr) != IP_PROTO_ICMP) {
 313:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       icmp_time_exceeded(p, ICMP_TE_TTL);
 314:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     }
 315:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* LWIP_ICMP */
 316:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     return;
 317:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 318:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 319:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   /* Incrementally update the IP checksum. */
ARM GAS  /tmp/cc7cqM2K.s 			page 10


 320:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   if (IPH_CHKSUM(iphdr) >= PP_HTONS(0xffffU - 0x100)) {
 321:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     IPH_CHKSUM_SET(iphdr, IPH_CHKSUM(iphdr) + PP_HTONS(0x100) + 1);
 322:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   } else {
 323:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     IPH_CHKSUM_SET(iphdr, IPH_CHKSUM(iphdr) + PP_HTONS(0x100));
 324:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 325:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 326:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   LWIP_DEBUGF(IP_DEBUG, ("ip4_forward: forwarding packet to %"U16_F".%"U16_F".%"U16_F".%"U16_F"\n",
 327:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     ip4_addr1_16(ip4_current_dest_addr()), ip4_addr2_16(ip4_current_dest_addr()),
 328:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     ip4_addr3_16(ip4_current_dest_addr()), ip4_addr4_16(ip4_current_dest_addr())));
 329:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 330:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   IP_STATS_INC(ip.fw);
 331:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   MIB2_STATS_INC(mib2.ipforwdatagrams);
 332:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   IP_STATS_INC(ip.xmit);
 333:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 334:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   PERF_STOP("ip4_forward");
 335:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   /* don't fragment if interface has mtu set to 0 [loopif] */
 336:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   if (netif->mtu && (p->tot_len > netif->mtu)) {
 337:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     if ((IPH_OFFSET(iphdr) & PP_NTOHS(IP_DF)) == 0) {
 338:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if IP_FRAG
 339:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       ip4_frag(p, netif, ip4_current_dest_addr());
 340:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #else /* IP_FRAG */
 341:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       /* @todo: send ICMP Destination Unreachable code 13 "Communication administratively prohibite
 342:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* IP_FRAG */
 343:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     } else {
 344:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if LWIP_ICMP
 345:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       /* send ICMP Destination Unreachable code 4: "Fragmentation Needed and DF Set" */
 346:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       icmp_dest_unreach(p, ICMP_DUR_FRAG);
 347:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* LWIP_ICMP */
 348:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     }
 349:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     return;
 350:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 351:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   /* transmit pbuf on chosen interface */
 352:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   netif->output(netif, p, ip4_current_dest_addr());
 353:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   return;
 354:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** return_noroute:
 355:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   MIB2_STATS_INC(mib2.ipoutnoroutes);
 356:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** }
 357:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* IP_FORWARD */
 358:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 359:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** /**
 360:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * This function is called by the network interface device driver when
 361:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * an IP packet is received. The function does the basic checks of the
 362:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * IP header such as packet size being at least larger than the header
 363:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * size etc. If the packet was not destined for us, the packet is
 364:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * forwarded (using ip_forward). The IP checksum is always checked.
 365:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  *
 366:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * Finally, the packet is sent to the upper layer protocol input function.
 367:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  *
 368:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * @param p the received IP packet (p->payload points to IP header)
 369:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * @param inp the netif on which this packet was received
 370:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * @return ERR_OK if the packet was processed (could return ERR_* if it wasn't
 371:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  *         processed, but currently always returns ERR_OK)
 372:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  */
 373:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** err_t
 374:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** ip4_input(struct pbuf *p, struct netif *inp)
 375:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** {
 187              		.loc 1 375 0
ARM GAS  /tmp/cc7cqM2K.s 			page 11


 188              		.cfi_startproc
 189              		@ args = 0, pretend = 0, frame = 0
 190              		@ frame_needed = 0, uses_anonymous_args = 0
 191              	.LVL11:
 192 0000 2DE9F843 		push	{r3, r4, r5, r6, r7, r8, r9, lr}
 193              	.LCFI6:
 194              		.cfi_def_cfa_offset 32
 195              		.cfi_offset 3, -32
 196              		.cfi_offset 4, -28
 197              		.cfi_offset 5, -24
 198              		.cfi_offset 6, -20
 199              		.cfi_offset 7, -16
 200              		.cfi_offset 8, -12
 201              		.cfi_offset 9, -8
 202              		.cfi_offset 14, -4
 203 0004 0546     		mov	r5, r0
 376:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   struct ip_hdr *iphdr;
 377:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   struct netif *netif;
 378:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   u16_t iphdr_hlen;
 379:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   u16_t iphdr_len;
 380:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if IP_ACCEPT_LINK_LAYER_ADDRESSING || LWIP_IGMP
 381:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   int check_ip_src = 1;
 382:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* IP_ACCEPT_LINK_LAYER_ADDRESSING || LWIP_IGMP */
 383:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 384:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   IP_STATS_INC(ip.recv);
 385:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   MIB2_STATS_INC(mib2.ipinreceives);
 386:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 387:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   /* identify the IP header */
 388:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   iphdr = (struct ip_hdr *)p->payload;
 204              		.loc 1 388 0
 205 0006 D0F80480 		ldr	r8, [r0, #4]
 206              	.LVL12:
 389:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   if (IPH_V(iphdr) != 4) {
 207              		.loc 1 389 0
 208 000a 98F80030 		ldrb	r3, [r8]	@ zero_extendqisi2
 209 000e 1A09     		lsrs	r2, r3, #4
 210 0010 042A     		cmp	r2, #4
 211 0012 04D0     		beq	.L29
 390:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     LWIP_DEBUGF(IP_DEBUG | LWIP_DBG_LEVEL_WARNING, ("IP packet dropped due to bad version number %"
 391:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     ip4_debug_print(p);
 392:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     pbuf_free(p);
 212              		.loc 1 392 0
 213 0014 FFF7FEFF 		bl	pbuf_free
 214              	.LVL13:
 215              	.L30:
 393:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     IP_STATS_INC(ip.err);
 394:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     IP_STATS_INC(ip.drop);
 395:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     MIB2_STATS_INC(mib2.ipinhdrerrors);
 396:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     return ERR_OK;
 397:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 398:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 399:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #ifdef LWIP_HOOK_IP4_INPUT
 400:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   if (LWIP_HOOK_IP4_INPUT(p, inp)) {
 401:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     /* the packet has been eaten */
 402:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     return ERR_OK;
 403:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 404:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif
ARM GAS  /tmp/cc7cqM2K.s 			page 12


 405:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 406:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   /* obtain IP header length in number of 32-bit words */
 407:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   iphdr_hlen = IPH_HL(iphdr);
 408:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   /* calculate IP header length in bytes */
 409:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   iphdr_hlen *= 4;
 410:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   /* obtain ip length in bytes */
 411:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   iphdr_len = lwip_ntohs(IPH_LEN(iphdr));
 412:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 413:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   /* Trim pbuf. This is especially required for packets < 60 bytes. */
 414:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   if (iphdr_len < p->tot_len) {
 415:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     pbuf_realloc(p, iphdr_len);
 416:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 417:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 418:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   /* header length exceeds first pbuf length, or ip length exceeds total pbuf length? */
 419:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   if ((iphdr_hlen > p->len) || (iphdr_len > p->tot_len) || (iphdr_hlen < IP_HLEN)) {
 420:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     if (iphdr_hlen < IP_HLEN) {
 421:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       LWIP_DEBUGF(IP_DEBUG | LWIP_DBG_LEVEL_SERIOUS,
 422:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         ("ip4_input: short IP header (%"U16_F" bytes) received, IP packet dropped\n", iphdr_hlen));
 423:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     }
 424:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     if (iphdr_hlen > p->len) {
 425:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       LWIP_DEBUGF(IP_DEBUG | LWIP_DBG_LEVEL_SERIOUS,
 426:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         ("IP header (len %"U16_F") does not fit in first pbuf (len %"U16_F"), IP packet dropped.\n"
 427:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         iphdr_hlen, p->len));
 428:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     }
 429:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     if (iphdr_len > p->tot_len) {
 430:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       LWIP_DEBUGF(IP_DEBUG | LWIP_DBG_LEVEL_SERIOUS,
 431:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         ("IP (len %"U16_F") is longer than pbuf (len %"U16_F"), IP packet dropped.\n",
 432:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         iphdr_len, p->tot_len));
 433:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     }
 434:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     /* free (drop) packet pbufs */
 435:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     pbuf_free(p);
 436:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     IP_STATS_INC(ip.lenerr);
 437:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     IP_STATS_INC(ip.drop);
 438:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     MIB2_STATS_INC(mib2.ipindiscards);
 439:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     return ERR_OK;
 440:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 441:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 442:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   /* verify checksum */
 443:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if CHECKSUM_CHECK_IP
 444:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   IF__NETIF_CHECKSUM_ENABLED(inp, NETIF_CHECKSUM_CHECK_IP) {
 445:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     if (inet_chksum(iphdr, iphdr_hlen) != 0) {
 446:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 447:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       LWIP_DEBUGF(IP_DEBUG | LWIP_DBG_LEVEL_SERIOUS,
 448:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         ("Checksum (0x%"X16_F") failed, IP packet dropped.\n", inet_chksum(iphdr, iphdr_hlen)));
 449:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       ip4_debug_print(p);
 450:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       pbuf_free(p);
 451:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       IP_STATS_INC(ip.chkerr);
 452:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       IP_STATS_INC(ip.drop);
 453:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       MIB2_STATS_INC(mib2.ipinhdrerrors);
 454:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       return ERR_OK;
 455:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     }
 456:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 457:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif
 458:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 459:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   /* copy IP addresses to aligned ip_addr_t */
 460:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   ip_addr_copy_from_ip4(ip_data.current_iphdr_dest, iphdr->dest);
 461:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   ip_addr_copy_from_ip4(ip_data.current_iphdr_src, iphdr->src);
ARM GAS  /tmp/cc7cqM2K.s 			page 13


 462:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 463:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   /* match packet against an interface, i.e. is this packet for us? */
 464:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   if (ip4_addr_ismulticast(ip4_current_dest_addr())) {
 465:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if LWIP_IGMP
 466:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     if ((inp->flags & NETIF_FLAG_IGMP) && (igmp_lookfor_group(inp, ip4_current_dest_addr()))) {
 467:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       /* IGMP snooping switches need 0.0.0.0 to be allowed as source address (RFC 4541) */
 468:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       ip4_addr_t allsystems;
 469:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       IP4_ADDR(&allsystems, 224, 0, 0, 1);
 470:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       if (ip4_addr_cmp(ip4_current_dest_addr(), &allsystems) &&
 471:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****           ip4_addr_isany(ip4_current_src_addr())) {
 472:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         check_ip_src = 0;
 473:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       }
 474:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       netif = inp;
 475:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     } else {
 476:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       netif = NULL;
 477:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     }
 478:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #else /* LWIP_IGMP */
 479:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     if ((netif_is_up(inp)) && (!ip4_addr_isany_val(*netif_ip4_addr(inp)))) {
 480:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       netif = inp;
 481:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     } else {
 482:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       netif = NULL;
 483:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     }
 484:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* LWIP_IGMP */
 485:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   } else {
 486:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     /* start trying with inp. if that's not acceptable, start walking the
 487:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****        list of configured netifs.
 488:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****        'first' is used as a boolean to mark whether we started walking the list */
 489:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     int first = 1;
 490:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     netif = inp;
 491:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     do {
 492:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       LWIP_DEBUGF(IP_DEBUG, ("ip_input: iphdr->dest 0x%"X32_F" netif->ip_addr 0x%"X32_F" (0x%"X32_F
 493:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****           ip4_addr_get_u32(&iphdr->dest), ip4_addr_get_u32(netif_ip4_addr(netif)),
 494:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****           ip4_addr_get_u32(&iphdr->dest) & ip4_addr_get_u32(netif_ip4_netmask(netif)),
 495:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****           ip4_addr_get_u32(netif_ip4_addr(netif)) & ip4_addr_get_u32(netif_ip4_netmask(netif)),
 496:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****           ip4_addr_get_u32(&iphdr->dest) & ~ip4_addr_get_u32(netif_ip4_netmask(netif))));
 497:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 498:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       /* interface is up and configured? */
 499:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       if ((netif_is_up(netif)) && (!ip4_addr_isany_val(*netif_ip4_addr(netif)))) {
 500:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         /* unicast to this interface address? */
 501:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         if (ip4_addr_cmp(ip4_current_dest_addr(), netif_ip4_addr(netif)) ||
 502:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****             /* or broadcast on this interface network address? */
 503:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****             ip4_addr_isbroadcast(ip4_current_dest_addr(), netif)
 504:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if LWIP_NETIF_LOOPBACK && !LWIP_HAVE_LOOPIF
 505:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****             || (ip4_addr_get_u32(ip4_current_dest_addr()) == PP_HTONL(IPADDR_LOOPBACK))
 506:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* LWIP_NETIF_LOOPBACK && !LWIP_HAVE_LOOPIF */
 507:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****             ) {
 508:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****           LWIP_DEBUGF(IP_DEBUG, ("ip4_input: packet accepted on interface %c%c\n",
 509:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****               netif->name[0], netif->name[1]));
 510:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****           /* break out of for loop */
 511:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****           break;
 512:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         }
 513:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if LWIP_AUTOIP
 514:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         /* connections to link-local addresses must persist after changing
 515:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****            the netif's address (RFC3927 ch. 1.9) */
 516:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         if (autoip_accept_packet(netif, ip4_current_dest_addr())) {
 517:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****           LWIP_DEBUGF(IP_DEBUG, ("ip4_input: LLA packet accepted on interface %c%c\n",
 518:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****               netif->name[0], netif->name[1]));
ARM GAS  /tmp/cc7cqM2K.s 			page 14


 519:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****           /* break out of for loop */
 520:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****           break;
 521:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         }
 522:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* LWIP_AUTOIP */
 523:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       }
 524:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       if (first) {
 525:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if !LWIP_NETIF_LOOPBACK || LWIP_HAVE_LOOPIF
 526:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         /* Packets sent to the loopback address must not be accepted on an
 527:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****          * interface that does not have the loopback address assigned to it,
 528:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****          * unless a non-loopback interface is used for loopback traffic. */
 529:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         if (ip4_addr_isloopback(ip4_current_dest_addr())) {
 530:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****           netif = NULL;
 531:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****           break;
 532:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         }
 533:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* !LWIP_NETIF_LOOPBACK || LWIP_HAVE_LOOPIF */
 534:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         first = 0;
 535:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         netif = netif_list;
 536:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       } else {
 537:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         netif = netif->next;
 538:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       }
 539:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       if (netif == inp) {
 540:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         netif = netif->next;
 541:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       }
 542:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     } while (netif != NULL);
 543:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 544:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 545:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if IP_ACCEPT_LINK_LAYER_ADDRESSING
 546:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   /* Pass DHCP messages regardless of destination address. DHCP traffic is addressed
 547:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****    * using link layer addressing (such as Ethernet MAC) so we must not filter on IP.
 548:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****    * According to RFC 1542 section 3.1.1, referred by RFC 2131).
 549:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****    *
 550:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****    * If you want to accept private broadcast communication while a netif is down,
 551:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****    * define LWIP_IP_ACCEPT_UDP_PORT(dst_port), e.g.:
 552:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****    *
 553:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****    * #define LWIP_IP_ACCEPT_UDP_PORT(dst_port) ((dst_port) == PP_NTOHS(12345))
 554:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****    */
 555:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   if (netif == NULL) {
 556:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     /* remote port is DHCP server? */
 557:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     if (IPH_PROTO(iphdr) == IP_PROTO_UDP) {
 558:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       struct udp_hdr *udphdr = (struct udp_hdr *)((u8_t *)iphdr + iphdr_hlen);
 559:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       LWIP_DEBUGF(IP_DEBUG | LWIP_DBG_TRACE, ("ip4_input: UDP packet to DHCP client port %"U16_F"\n
 560:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         lwip_ntohs(udphdr->dest)));
 561:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       if (IP_ACCEPT_LINK_LAYER_ADDRESSED_PORT(udphdr->dest)) {
 562:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         LWIP_DEBUGF(IP_DEBUG | LWIP_DBG_TRACE, ("ip4_input: DHCP packet accepted.\n"));
 563:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         netif = inp;
 564:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         check_ip_src = 0;
 565:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       }
 566:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     }
 567:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 568:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* IP_ACCEPT_LINK_LAYER_ADDRESSING */
 569:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 570:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   /* broadcast or multicast packet source address? Compliant with RFC 1122: 3.2.1.3 */
 571:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if LWIP_IGMP || IP_ACCEPT_LINK_LAYER_ADDRESSING
 572:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   if (check_ip_src
 573:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if IP_ACCEPT_LINK_LAYER_ADDRESSING
 574:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   /* DHCP servers need 0.0.0.0 to be allowed as source address (RFC 1.1.2.2: 3.2.1.3/a) */
 575:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       && !ip4_addr_isany_val(*ip4_current_src_addr())
ARM GAS  /tmp/cc7cqM2K.s 			page 15


 576:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* IP_ACCEPT_LINK_LAYER_ADDRESSING */
 577:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****      )
 578:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* LWIP_IGMP || IP_ACCEPT_LINK_LAYER_ADDRESSING */
 579:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   {
 580:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     if ((ip4_addr_isbroadcast(ip4_current_src_addr(), inp)) ||
 581:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         (ip4_addr_ismulticast(ip4_current_src_addr()))) {
 582:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       /* packet source is not valid */
 583:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       LWIP_DEBUGF(IP_DEBUG | LWIP_DBG_TRACE | LWIP_DBG_LEVEL_WARNING, ("ip4_input: packet source is
 584:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       /* free (drop) packet pbufs */
 585:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       pbuf_free(p);
 586:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       IP_STATS_INC(ip.drop);
 587:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       MIB2_STATS_INC(mib2.ipinaddrerrors);
 588:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       MIB2_STATS_INC(mib2.ipindiscards);
 589:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       return ERR_OK;
 590:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     }
 591:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 592:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 593:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   /* packet not for us? */
 594:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   if (netif == NULL) {
 595:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     /* packet not for us, route or discard */
 596:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     LWIP_DEBUGF(IP_DEBUG | LWIP_DBG_TRACE, ("ip4_input: packet not for us.\n"));
 597:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if IP_FORWARD
 598:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     /* non-broadcast packet? */
 599:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     if (!ip4_addr_isbroadcast(ip4_current_dest_addr(), inp)) {
 600:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       /* try to forward IP packet on (other) interfaces */
 601:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       ip4_forward(p, iphdr, inp);
 602:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     } else
 603:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* IP_FORWARD */
 604:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     {
 605:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       IP_STATS_INC(ip.drop);
 606:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       MIB2_STATS_INC(mib2.ipinaddrerrors);
 607:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       MIB2_STATS_INC(mib2.ipindiscards);
 608:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     }
 609:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     pbuf_free(p);
 610:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     return ERR_OK;
 611:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 612:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   /* packet consists of multiple fragments? */
 613:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   if ((IPH_OFFSET(iphdr) & PP_HTONS(IP_OFFMASK | IP_MF)) != 0) {
 614:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if IP_REASSEMBLY /* packet fragment reassembly code present? */
 615:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     LWIP_DEBUGF(IP_DEBUG, ("IP packet is a fragment (id=0x%04"X16_F" tot_len=%"U16_F" len=%"U16_F" 
 616:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       lwip_ntohs(IPH_ID(iphdr)), p->tot_len, lwip_ntohs(IPH_LEN(iphdr)), (u16_t)!!(IPH_OFFSET(iphdr
 617:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     /* reassemble the packet*/
 618:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     p = ip4_reass(p);
 619:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     /* packet not fully reassembled yet? */
 620:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     if (p == NULL) {
 621:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       return ERR_OK;
 622:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     }
 623:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     iphdr = (struct ip_hdr *)p->payload;
 624:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #else /* IP_REASSEMBLY == 0, no packet fragment reassembly code present */
 625:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     pbuf_free(p);
 626:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     LWIP_DEBUGF(IP_DEBUG | LWIP_DBG_LEVEL_SERIOUS, ("IP packet dropped since it was fragmented (0x%
 627:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       lwip_ntohs(IPH_OFFSET(iphdr))));
 628:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     IP_STATS_INC(ip.opterr);
 629:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     IP_STATS_INC(ip.drop);
 630:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     /* unsupported protocol feature */
 631:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     MIB2_STATS_INC(mib2.ipinunknownprotos);
 632:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     return ERR_OK;
ARM GAS  /tmp/cc7cqM2K.s 			page 16


 633:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* IP_REASSEMBLY */
 634:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 635:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 636:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if IP_OPTIONS_ALLOWED == 0 /* no support for IP options in the IP header? */
 637:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 638:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if LWIP_IGMP
 639:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   /* there is an extra "router alert" option in IGMP messages which we allow for but do not police 
 640:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   if ((iphdr_hlen > IP_HLEN) &&  (IPH_PROTO(iphdr) != IP_PROTO_IGMP)) {
 641:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #else
 642:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   if (iphdr_hlen > IP_HLEN) {
 643:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* LWIP_IGMP */
 644:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     LWIP_DEBUGF(IP_DEBUG | LWIP_DBG_LEVEL_SERIOUS, ("IP packet dropped since there were IP options 
 645:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     pbuf_free(p);
 646:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     IP_STATS_INC(ip.opterr);
 647:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     IP_STATS_INC(ip.drop);
 648:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     /* unsupported protocol feature */
 649:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     MIB2_STATS_INC(mib2.ipinunknownprotos);
 650:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     return ERR_OK;
 651:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 652:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* IP_OPTIONS_ALLOWED == 0 */
 653:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 654:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   /* send to upper layers */
 655:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   LWIP_DEBUGF(IP_DEBUG, ("ip4_input: \n"));
 656:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   ip4_debug_print(p);
 657:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   LWIP_DEBUGF(IP_DEBUG, ("ip4_input: p->len %"U16_F" p->tot_len %"U16_F"\n", p->len, p->tot_len));
 658:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 659:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   ip_data.current_netif = netif;
 660:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   ip_data.current_input_netif = inp;
 661:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   ip_data.current_ip4_header = iphdr;
 662:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   ip_data.current_ip_header_tot_len = IPH_HL(iphdr) * 4;
 663:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 664:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if LWIP_RAW
 665:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   /* raw input did not eat the packet? */
 666:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   if (raw_input(p, inp) == 0)
 667:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* LWIP_RAW */
 668:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   {
 669:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     pbuf_header(p, -(s16_t)iphdr_hlen); /* Move to payload, no check necessary. */
 670:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 671:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     switch (IPH_PROTO(iphdr)) {
 672:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if LWIP_UDP
 673:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     case IP_PROTO_UDP:
 674:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if LWIP_UDPLITE
 675:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     case IP_PROTO_UDPLITE:
 676:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* LWIP_UDPLITE */
 677:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       MIB2_STATS_INC(mib2.ipindelivers);
 678:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       udp_input(p, inp);
 679:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       break;
 680:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* LWIP_UDP */
 681:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if LWIP_TCP
 682:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     case IP_PROTO_TCP:
 683:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       MIB2_STATS_INC(mib2.ipindelivers);
 684:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       tcp_input(p, inp);
 685:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       break;
 686:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* LWIP_TCP */
 687:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if LWIP_ICMP
 688:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     case IP_PROTO_ICMP:
 689:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       MIB2_STATS_INC(mib2.ipindelivers);
ARM GAS  /tmp/cc7cqM2K.s 			page 17


 690:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       icmp_input(p, inp);
 691:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       break;
 692:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* LWIP_ICMP */
 693:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if LWIP_IGMP
 694:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     case IP_PROTO_IGMP:
 695:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       igmp_input(p, inp, ip4_current_dest_addr());
 696:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       break;
 697:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* LWIP_IGMP */
 698:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     default:
 699:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if LWIP_ICMP
 700:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       /* send ICMP destination protocol unreachable unless is was a broadcast */
 701:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       if (!ip4_addr_isbroadcast(ip4_current_dest_addr(), netif) &&
 702:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****           !ip4_addr_ismulticast(ip4_current_dest_addr())) {
 703:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         pbuf_header_force(p, iphdr_hlen); /* Move to ip header, no check necessary. */
 704:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         p->payload = iphdr;
 705:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         icmp_dest_unreach(p, ICMP_DUR_PROTO);
 706:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       }
 707:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* LWIP_ICMP */
 708:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       pbuf_free(p);
 709:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 710:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       LWIP_DEBUGF(IP_DEBUG | LWIP_DBG_LEVEL_SERIOUS, ("Unsupported transport protocol %"U16_F"\n", 
 711:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 712:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       IP_STATS_INC(ip.proterr);
 713:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       IP_STATS_INC(ip.drop);
 714:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       MIB2_STATS_INC(mib2.ipinunknownprotos);
 715:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     }
 716:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 717:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 718:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   /* @todo: this is not really necessary... */
 719:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   ip_data.current_netif = NULL;
 720:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   ip_data.current_input_netif = NULL;
 721:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   ip_data.current_ip4_header = NULL;
 722:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   ip_data.current_ip_header_tot_len = 0;
 723:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   ip4_addr_set_any(ip4_current_src_addr());
 724:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   ip4_addr_set_any(ip4_current_dest_addr());
 725:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 726:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   return ERR_OK;
 727:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** }
 216              		.loc 1 727 0
 217 0018 0020     		movs	r0, #0
 218 001a BDE8F883 		pop	{r3, r4, r5, r6, r7, r8, r9, pc}
 219              	.LVL14:
 220              	.L29:
 221 001e 0F46     		mov	r7, r1
 407:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   /* calculate IP header length in bytes */
 222              		.loc 1 407 0
 223 0020 03F00F03 		and	r3, r3, #15
 224              	.LVL15:
 409:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   /* obtain ip length in bytes */
 225              		.loc 1 409 0
 226 0024 9E00     		lsls	r6, r3, #2
 227              	.LVL16:
 411:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 228              		.loc 1 411 0
 229 0026 B8F80200 		ldrh	r0, [r8, #2]	@ unaligned
 230              	.LVL17:
 231 002a FFF7FEFF 		bl	lwip_htons
ARM GAS  /tmp/cc7cqM2K.s 			page 18


 232              	.LVL18:
 233 002e 0446     		mov	r4, r0
 234              	.LVL19:
 414:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     pbuf_realloc(p, iphdr_len);
 235              		.loc 1 414 0
 236 0030 2B89     		ldrh	r3, [r5, #8]
 237 0032 9842     		cmp	r0, r3
 238 0034 16D3     		bcc	.L56
 239              	.LVL20:
 240              	.L31:
 419:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     if (iphdr_hlen < IP_HLEN) {
 241              		.loc 1 419 0
 242 0036 6B89     		ldrh	r3, [r5, #10]
 243 0038 9E42     		cmp	r6, r3
 244 003a 18D8     		bhi	.L32
 419:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     if (iphdr_hlen < IP_HLEN) {
 245              		.loc 1 419 0 is_stmt 0 discriminator 1
 246 003c 2B89     		ldrh	r3, [r5, #8]
 247 003e 9C42     		cmp	r4, r3
 248 0040 15D8     		bhi	.L32
 419:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     if (iphdr_hlen < IP_HLEN) {
 249              		.loc 1 419 0 discriminator 2
 250 0042 132E     		cmp	r6, #19
 251 0044 13D9     		bls	.L32
 460:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   ip_addr_copy_from_ip4(ip_data.current_iphdr_src, iphdr->src);
 252              		.loc 1 460 0 is_stmt 1
 253 0046 D8F81030 		ldr	r3, [r8, #16]	@ unaligned
 254 004a 594A     		ldr	r2, .L61
 255 004c 5361     		str	r3, [r2, #20]
 461:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 256              		.loc 1 461 0
 257 004e D8F80C10 		ldr	r1, [r8, #12]	@ unaligned
 258 0052 1161     		str	r1, [r2, #16]
 464:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if LWIP_IGMP
 259              		.loc 1 464 0
 260 0054 03F0F003 		and	r3, r3, #240
 261 0058 E02B     		cmp	r3, #224
 262 005a 0CD0     		beq	.L57
 263 005c 3C46     		mov	r4, r7
 264 005e 4FF00109 		mov	r9, #1
 265 0062 15E0     		b	.L34
 266              	.LVL21:
 267              	.L56:
 415:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 268              		.loc 1 415 0
 269 0064 0146     		mov	r1, r0
 270 0066 2846     		mov	r0, r5
 271              	.LVL22:
 272 0068 FFF7FEFF 		bl	pbuf_realloc
 273              	.LVL23:
 274 006c E3E7     		b	.L31
 275              	.L32:
 435:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     IP_STATS_INC(ip.lenerr);
 276              		.loc 1 435 0
 277 006e 2846     		mov	r0, r5
 278 0070 FFF7FEFF 		bl	pbuf_free
 279              	.LVL24:
ARM GAS  /tmp/cc7cqM2K.s 			page 19


 439:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 280              		.loc 1 439 0
 281 0074 D0E7     		b	.L30
 282              	.L57:
 479:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       netif = inp;
 283              		.loc 1 479 0
 284 0076 97F82B30 		ldrb	r3, [r7, #43]	@ zero_extendqisi2
 285 007a 13F0010F 		tst	r3, #1
 286 007e 24D0     		beq	.L51
 479:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       netif = inp;
 287              		.loc 1 479 0 is_stmt 0 discriminator 1
 288 0080 7B68     		ldr	r3, [r7, #4]
 289 0082 23BB     		cbnz	r3, .L52
 482:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     }
 290              		.loc 1 482 0 is_stmt 1
 291 0084 0024     		movs	r4, #0
 292 0086 25E0     		b	.L35
 293              	.LVL25:
 294              	.L37:
 295              	.LBB2:
 537:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       }
 296              		.loc 1 537 0
 297 0088 2468     		ldr	r4, [r4]
 298              	.LVL26:
 299              	.L38:
 539:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         netif = netif->next;
 300              		.loc 1 539 0
 301 008a BC42     		cmp	r4, r7
 302 008c 1BD0     		beq	.L58
 303              	.L39:
 542:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 304              		.loc 1 542 0
 305 008e 0CB3     		cbz	r4, .L35
 306              	.LVL27:
 307              	.L34:
 499:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         /* unicast to this interface address? */
 308              		.loc 1 499 0
 309 0090 94F82B30 		ldrb	r3, [r4, #43]	@ zero_extendqisi2
 310 0094 13F0010F 		tst	r3, #1
 311 0098 09D0     		beq	.L36
 499:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         /* unicast to this interface address? */
 312              		.loc 1 499 0 is_stmt 0 discriminator 1
 313 009a 6368     		ldr	r3, [r4, #4]
 314 009c 3BB1     		cbz	r3, .L36
 501:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****             /* or broadcast on this interface network address? */
 315              		.loc 1 501 0 is_stmt 1
 316 009e 444A     		ldr	r2, .L61
 317 00a0 5069     		ldr	r0, [r2, #20]
 318 00a2 8342     		cmp	r3, r0
 319 00a4 16D0     		beq	.L35
 503:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if LWIP_NETIF_LOOPBACK && !LWIP_HAVE_LOOPIF
 320              		.loc 1 503 0 discriminator 1
 321 00a6 2146     		mov	r1, r4
 322 00a8 FFF7FEFF 		bl	ip4_addr_isbroadcast_u32
 323              	.LVL28:
 501:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****             /* or broadcast on this interface network address? */
 324              		.loc 1 501 0 discriminator 1
ARM GAS  /tmp/cc7cqM2K.s 			page 20


 325 00ac 90B9     		cbnz	r0, .L35
 326              	.L36:
 524:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if !LWIP_NETIF_LOOPBACK || LWIP_HAVE_LOOPIF
 327              		.loc 1 524 0
 328 00ae B9F1000F 		cmp	r9, #0
 329 00b2 E9D0     		beq	.L37
 529:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****           netif = NULL;
 330              		.loc 1 529 0
 331 00b4 3E4B     		ldr	r3, .L61
 332 00b6 1B7D     		ldrb	r3, [r3, #20]	@ zero_extendqisi2
 333 00b8 7F2B     		cmp	r3, #127
 334 00ba 0AD0     		beq	.L53
 335              	.LVL29:
 535:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       } else {
 336              		.loc 1 535 0
 337 00bc 3D4B     		ldr	r3, .L61+4
 338 00be 1C68     		ldr	r4, [r3]
 339              	.LVL30:
 534:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         netif = netif_list;
 340              		.loc 1 534 0
 341 00c0 4FF00009 		mov	r9, #0
 342 00c4 E1E7     		b	.L38
 343              	.LVL31:
 344              	.L58:
 540:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       }
 345              		.loc 1 540 0
 346 00c6 2468     		ldr	r4, [r4]
 347              	.LVL32:
 348 00c8 E1E7     		b	.L39
 349              	.LVL33:
 350              	.L51:
 351              	.LBE2:
 482:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     }
 352              		.loc 1 482 0
 353 00ca 0024     		movs	r4, #0
 354 00cc 02E0     		b	.L35
 355              	.L52:
 480:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     } else {
 356              		.loc 1 480 0
 357 00ce 3C46     		mov	r4, r7
 358 00d0 00E0     		b	.L35
 359              	.LVL34:
 360              	.L53:
 361              	.LBB3:
 530:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****           break;
 362              		.loc 1 530 0
 363 00d2 0024     		movs	r4, #0
 364              	.LVL35:
 365              	.L35:
 366              	.LBE3:
 580:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         (ip4_addr_ismulticast(ip4_current_src_addr()))) {
 367              		.loc 1 580 0
 368 00d4 3946     		mov	r1, r7
 369 00d6 364B     		ldr	r3, .L61
 370 00d8 1869     		ldr	r0, [r3, #16]
 371 00da FFF7FEFF 		bl	ip4_addr_isbroadcast_u32
 372              	.LVL36:
ARM GAS  /tmp/cc7cqM2K.s 			page 21


 373 00de 0028     		cmp	r0, #0
 374 00e0 46D1     		bne	.L40
 581:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       /* packet source is not valid */
 375              		.loc 1 581 0 discriminator 1
 376 00e2 334B     		ldr	r3, .L61
 377 00e4 1B69     		ldr	r3, [r3, #16]
 378 00e6 03F0F003 		and	r3, r3, #240
 580:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         (ip4_addr_ismulticast(ip4_current_src_addr()))) {
 379              		.loc 1 580 0 discriminator 1
 380 00ea E02B     		cmp	r3, #224
 381 00ec 40D0     		beq	.L40
 594:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     /* packet not for us, route or discard */
 382              		.loc 1 594 0
 383 00ee 002C     		cmp	r4, #0
 384 00f0 42D0     		beq	.L59
 613:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if IP_REASSEMBLY /* packet fragment reassembly code present? */
 385              		.loc 1 613 0
 386 00f2 B8F80630 		ldrh	r3, [r8, #6]	@ unaligned
 387 00f6 23F0C003 		bic	r3, r3, #192
 388 00fa 9BB2     		uxth	r3, r3
 389 00fc 3BB1     		cbz	r3, .L43
 618:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     /* packet not fully reassembled yet? */
 390              		.loc 1 618 0
 391 00fe 2846     		mov	r0, r5
 392 0100 FFF7FEFF 		bl	ip4_reass
 393              	.LVL37:
 620:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       return ERR_OK;
 394              		.loc 1 620 0
 395 0104 0546     		mov	r5, r0
 396 0106 0028     		cmp	r0, #0
 397 0108 86D0     		beq	.L30
 623:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #else /* IP_REASSEMBLY == 0, no packet fragment reassembly code present */
 398              		.loc 1 623 0
 399 010a D0F80480 		ldr	r8, [r0, #4]
 400              	.LVL38:
 401              	.L43:
 659:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   ip_data.current_input_netif = inp;
 402              		.loc 1 659 0
 403 010e 284A     		ldr	r2, .L61
 404 0110 1460     		str	r4, [r2]
 660:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   ip_data.current_ip4_header = iphdr;
 405              		.loc 1 660 0
 406 0112 5760     		str	r7, [r2, #4]
 661:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   ip_data.current_ip_header_tot_len = IPH_HL(iphdr) * 4;
 407              		.loc 1 661 0
 408 0114 C2F80880 		str	r8, [r2, #8]
 662:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 409              		.loc 1 662 0
 410 0118 98F80030 		ldrb	r3, [r8]	@ zero_extendqisi2
 411 011c 03F00F03 		and	r3, r3, #15
 412 0120 9B00     		lsls	r3, r3, #2
 413 0122 9381     		strh	r3, [r2, #12]	@ movhi
 669:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 414              		.loc 1 669 0
 415 0124 7142     		negs	r1, r6
 416 0126 2846     		mov	r0, r5
 417 0128 FFF7FEFF 		bl	pbuf_header
ARM GAS  /tmp/cc7cqM2K.s 			page 22


 418              	.LVL39:
 671:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if LWIP_UDP
 419              		.loc 1 671 0
 420 012c 98F80930 		ldrb	r3, [r8, #9]	@ zero_extendqisi2
 421 0130 062B     		cmp	r3, #6
 422 0132 32D0     		beq	.L45
 423 0134 112B     		cmp	r3, #17
 424 0136 23D0     		beq	.L46
 425 0138 012B     		cmp	r3, #1
 426 013a 33D0     		beq	.L60
 701:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****           !ip4_addr_ismulticast(ip4_current_dest_addr())) {
 427              		.loc 1 701 0
 428 013c 2146     		mov	r1, r4
 429 013e 1C4B     		ldr	r3, .L61
 430 0140 5869     		ldr	r0, [r3, #20]
 431 0142 FFF7FEFF 		bl	ip4_addr_isbroadcast_u32
 432              	.LVL40:
 433 0146 78B9     		cbnz	r0, .L49
 702:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         pbuf_header_force(p, iphdr_hlen); /* Move to ip header, no check necessary. */
 434              		.loc 1 702 0 discriminator 1
 435 0148 194B     		ldr	r3, .L61
 436 014a 5B69     		ldr	r3, [r3, #20]
 437 014c 03F0F003 		and	r3, r3, #240
 701:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****           !ip4_addr_ismulticast(ip4_current_dest_addr())) {
 438              		.loc 1 701 0 discriminator 1
 439 0150 E02B     		cmp	r3, #224
 440 0152 09D0     		beq	.L49
 703:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         p->payload = iphdr;
 441              		.loc 1 703 0
 442 0154 3146     		mov	r1, r6
 443 0156 2846     		mov	r0, r5
 444 0158 FFF7FEFF 		bl	pbuf_header_force
 445              	.LVL41:
 704:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         icmp_dest_unreach(p, ICMP_DUR_PROTO);
 446              		.loc 1 704 0
 447 015c C5F80480 		str	r8, [r5, #4]
 705:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       }
 448              		.loc 1 705 0
 449 0160 0221     		movs	r1, #2
 450 0162 2846     		mov	r0, r5
 451 0164 FFF7FEFF 		bl	icmp_dest_unreach
 452              	.LVL42:
 453              	.L49:
 708:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 454              		.loc 1 708 0
 455 0168 2846     		mov	r0, r5
 456 016a FFF7FEFF 		bl	pbuf_free
 457              	.LVL43:
 458 016e 0BE0     		b	.L48
 459              	.L40:
 585:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       IP_STATS_INC(ip.drop);
 460              		.loc 1 585 0
 461 0170 2846     		mov	r0, r5
 462 0172 FFF7FEFF 		bl	pbuf_free
 463              	.LVL44:
 589:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     }
 464              		.loc 1 589 0
ARM GAS  /tmp/cc7cqM2K.s 			page 23


 465 0176 4FE7     		b	.L30
 466              	.L59:
 609:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     return ERR_OK;
 467              		.loc 1 609 0
 468 0178 2846     		mov	r0, r5
 469 017a FFF7FEFF 		bl	pbuf_free
 470              	.LVL45:
 610:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 471              		.loc 1 610 0
 472 017e 4BE7     		b	.L30
 473              	.L46:
 678:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       break;
 474              		.loc 1 678 0
 475 0180 3946     		mov	r1, r7
 476 0182 2846     		mov	r0, r5
 477 0184 FFF7FEFF 		bl	udp_input
 478              	.LVL46:
 479              	.L48:
 719:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   ip_data.current_input_netif = NULL;
 480              		.loc 1 719 0
 481 0188 094B     		ldr	r3, .L61
 482 018a 0022     		movs	r2, #0
 483 018c 1A60     		str	r2, [r3]
 720:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   ip_data.current_ip4_header = NULL;
 484              		.loc 1 720 0
 485 018e 5A60     		str	r2, [r3, #4]
 721:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   ip_data.current_ip_header_tot_len = 0;
 486              		.loc 1 721 0
 487 0190 9A60     		str	r2, [r3, #8]
 722:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   ip4_addr_set_any(ip4_current_src_addr());
 488              		.loc 1 722 0
 489 0192 9A81     		strh	r2, [r3, #12]	@ movhi
 723:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   ip4_addr_set_any(ip4_current_dest_addr());
 490              		.loc 1 723 0
 491 0194 1A61     		str	r2, [r3, #16]
 724:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 492              		.loc 1 724 0
 493 0196 5A61     		str	r2, [r3, #20]
 726:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** }
 494              		.loc 1 726 0
 495 0198 3EE7     		b	.L30
 496              	.L45:
 684:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       break;
 497              		.loc 1 684 0
 498 019a 3946     		mov	r1, r7
 499 019c 2846     		mov	r0, r5
 500 019e FFF7FEFF 		bl	tcp_input
 501              	.LVL47:
 685:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* LWIP_TCP */
 502              		.loc 1 685 0
 503 01a2 F1E7     		b	.L48
 504              	.L60:
 690:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       break;
 505              		.loc 1 690 0
 506 01a4 3946     		mov	r1, r7
 507 01a6 2846     		mov	r0, r5
 508 01a8 FFF7FEFF 		bl	icmp_input
ARM GAS  /tmp/cc7cqM2K.s 			page 24


 509              	.LVL48:
 691:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* LWIP_ICMP */
 510              		.loc 1 691 0
 511 01ac ECE7     		b	.L48
 512              	.L62:
 513 01ae 00BF     		.align	2
 514              	.L61:
 515 01b0 00000000 		.word	ip_data
 516 01b4 00000000 		.word	netif_list
 517              		.cfi_endproc
 518              	.LFE159:
 520              		.section	.text.ip4_output_if_src,"ax",%progbits
 521              		.align	1
 522              		.global	ip4_output_if_src
 523              		.syntax unified
 524              		.thumb
 525              		.thumb_func
 526              		.fpu fpv5-d16
 528              	ip4_output_if_src:
 529              	.LFB161:
 728:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 729:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** /**
 730:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * Sends an IP packet on a network interface. This function constructs
 731:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * the IP header and calculates the IP header checksum. If the source
 732:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * IP address is NULL, the IP address of the outgoing network
 733:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * interface is filled in as source address.
 734:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * If the destination IP address is LWIP_IP_HDRINCL, p is assumed to already
 735:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * include an IP header and p->payload points to it instead of the data.
 736:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  *
 737:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * @param p the packet to send (p->payload points to the data, e.g. next
 738:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****             protocol header; if dest == LWIP_IP_HDRINCL, p already includes an
 739:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****             IP header and p->payload points to that IP header)
 740:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * @param src the source IP address to send from (if src == IP4_ADDR_ANY, the
 741:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  *         IP  address of the netif used to send is used as source address)
 742:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * @param dest the destination IP address to send the packet to
 743:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * @param ttl the TTL value to be set in the IP header
 744:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * @param tos the TOS value to be set in the IP header
 745:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * @param proto the PROTOCOL to be set in the IP header
 746:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * @param netif the netif on which to send this packet
 747:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * @return ERR_OK if the packet was sent OK
 748:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  *         ERR_BUF if p doesn't have enough space for IP/LINK headers
 749:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  *         returns errors returned by netif->output
 750:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  *
 751:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * @note ip_id: RFC791 "some host may be able to simply use
 752:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  *  unique identifiers independent of destination"
 753:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  */
 754:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** err_t
 755:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** ip4_output_if(struct pbuf *p, const ip4_addr_t *src, const ip4_addr_t *dest,
 756:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****              u8_t ttl, u8_t tos,
 757:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****              u8_t proto, struct netif *netif)
 758:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** {
 759:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if IP_OPTIONS_SEND
 760:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   return ip4_output_if_opt(p, src, dest, ttl, tos, proto, netif, NULL, 0);
 761:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** }
 762:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 763:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** /**
 764:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * Same as ip_output_if() but with the possibility to include IP options:
ARM GAS  /tmp/cc7cqM2K.s 			page 25


 765:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  *
 766:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * @ param ip_options pointer to the IP options, copied into the IP header
 767:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * @ param optlen length of ip_options
 768:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  */
 769:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** err_t
 770:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** ip4_output_if_opt(struct pbuf *p, const ip4_addr_t *src, const ip4_addr_t *dest,
 771:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****        u8_t ttl, u8_t tos, u8_t proto, struct netif *netif, void *ip_options,
 772:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****        u16_t optlen)
 773:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** {
 774:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* IP_OPTIONS_SEND */
 775:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   const ip4_addr_t *src_used = src;
 776:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   if (dest != LWIP_IP_HDRINCL) {
 777:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     if (ip4_addr_isany(src)) {
 778:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       src_used = netif_ip4_addr(netif);
 779:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     }
 780:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 781:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 782:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if IP_OPTIONS_SEND
 783:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   return ip4_output_if_opt_src(p, src_used, dest, ttl, tos, proto, netif,
 784:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     ip_options, optlen);
 785:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #else /* IP_OPTIONS_SEND */
 786:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   return ip4_output_if_src(p, src_used, dest, ttl, tos, proto, netif);
 787:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* IP_OPTIONS_SEND */
 788:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** }
 789:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 790:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** /**
 791:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * Same as ip_output_if() but 'src' address is not replaced by netif address
 792:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * when it is 'any'.
 793:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  */
 794:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** err_t
 795:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** ip4_output_if_src(struct pbuf *p, const ip4_addr_t *src, const ip4_addr_t *dest,
 796:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****              u8_t ttl, u8_t tos,
 797:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****              u8_t proto, struct netif *netif)
 798:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** {
 530              		.loc 1 798 0
 531              		.cfi_startproc
 532              		@ args = 12, pretend = 0, frame = 8
 533              		@ frame_needed = 0, uses_anonymous_args = 0
 534              	.LVL49:
 535 0000 2DE9F043 		push	{r4, r5, r6, r7, r8, r9, lr}
 536              	.LCFI7:
 537              		.cfi_def_cfa_offset 28
 538              		.cfi_offset 4, -28
 539              		.cfi_offset 5, -24
 540              		.cfi_offset 6, -20
 541              		.cfi_offset 7, -16
 542              		.cfi_offset 8, -12
 543              		.cfi_offset 9, -8
 544              		.cfi_offset 14, -4
 545 0004 83B0     		sub	sp, sp, #12
 546              	.LCFI8:
 547              		.cfi_def_cfa_offset 40
 548 0006 0546     		mov	r5, r0
 549 0008 8946     		mov	r9, r1
 550 000a 1646     		mov	r6, r2
 551 000c 9846     		mov	r8, r3
 552 000e 0C9F     		ldr	r7, [sp, #48]
ARM GAS  /tmp/cc7cqM2K.s 			page 26


 799:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if IP_OPTIONS_SEND
 800:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   return ip4_output_if_opt_src(p, src, dest, ttl, tos, proto, netif, NULL, 0);
 801:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** }
 802:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 803:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** /**
 804:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * Same as ip_output_if_opt() but 'src' address is not replaced by netif address
 805:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * when it is 'any'.
 806:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  */
 807:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** err_t
 808:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** ip4_output_if_opt_src(struct pbuf *p, const ip4_addr_t *src, const ip4_addr_t *dest,
 809:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****        u8_t ttl, u8_t tos, u8_t proto, struct netif *netif, void *ip_options,
 810:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****        u16_t optlen)
 811:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** {
 812:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* IP_OPTIONS_SEND */
 813:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   struct ip_hdr *iphdr;
 814:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   ip4_addr_t dest_addr;
 815:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if CHECKSUM_GEN_IP_INLINE
 816:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   u32_t chk_sum = 0;
 817:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* CHECKSUM_GEN_IP_INLINE */
 818:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 819:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   LWIP_IP_CHECK_PBUF_REF_COUNT_FOR_TX(p);
 553              		.loc 1 819 0
 554 0010 C389     		ldrh	r3, [r0, #14]
 555              	.LVL50:
 556 0012 012B     		cmp	r3, #1
 557 0014 06D0     		beq	.L64
 558              		.loc 1 819 0 is_stmt 0 discriminator 1
 559 0016 314B     		ldr	r3, .L77
 560 0018 40F23332 		movw	r2, #819
 561              	.LVL51:
 562 001c 3049     		ldr	r1, .L77+4
 563              	.LVL52:
 564 001e 3148     		ldr	r0, .L77+8
 565              	.LVL53:
 566 0020 FFF7FEFF 		bl	printf
 567              	.LVL54:
 568              	.L64:
 820:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 821:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   MIB2_STATS_INC(mib2.ipoutrequests);
 822:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 823:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   /* Should the IP header be generated or is it already included in p? */
 824:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   if (dest != LWIP_IP_HDRINCL) {
 569              		.loc 1 824 0 is_stmt 1
 570 0024 002E     		cmp	r6, #0
 571 0026 4AD0     		beq	.L65
 572              	.LVL55:
 573              	.LBB4:
 825:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     u16_t ip_hlen = IP_HLEN;
 826:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if IP_OPTIONS_SEND
 827:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     u16_t optlen_aligned = 0;
 828:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     if (optlen != 0) {
 829:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if CHECKSUM_GEN_IP_INLINE
 830:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       int i;
 831:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* CHECKSUM_GEN_IP_INLINE */
 832:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       /* round up to a multiple of 4 */
 833:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       optlen_aligned = ((optlen + 3) & ~3);
 834:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       ip_hlen += optlen_aligned;
ARM GAS  /tmp/cc7cqM2K.s 			page 27


 835:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       /* First write in the IP options */
 836:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       if (pbuf_header(p, optlen_aligned)) {
 837:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         LWIP_DEBUGF(IP_DEBUG | LWIP_DBG_LEVEL_SERIOUS, ("ip4_output_if_opt: not enough room for IP 
 838:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         IP_STATS_INC(ip.err);
 839:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         MIB2_STATS_INC(mib2.ipoutdiscards);
 840:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         return ERR_BUF;
 841:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       }
 842:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       MEMCPY(p->payload, ip_options, optlen);
 843:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       if (optlen < optlen_aligned) {
 844:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         /* zero the remaining bytes */
 845:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         memset(((char*)p->payload) + optlen, 0, optlen_aligned - optlen);
 846:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       }
 847:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if CHECKSUM_GEN_IP_INLINE
 848:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       for (i = 0; i < optlen_aligned/2; i++) {
 849:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         chk_sum += ((u16_t*)p->payload)[i];
 850:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       }
 851:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* CHECKSUM_GEN_IP_INLINE */
 852:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     }
 853:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* IP_OPTIONS_SEND */
 854:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     /* generate IP header */
 855:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     if (pbuf_header(p, IP_HLEN)) {
 574              		.loc 1 855 0
 575 0028 1421     		movs	r1, #20
 576 002a 2846     		mov	r0, r5
 577 002c FFF7FEFF 		bl	pbuf_header
 578              	.LVL56:
 579 0030 0028     		cmp	r0, #0
 580 0032 50D1     		bne	.L72
 856:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       LWIP_DEBUGF(IP_DEBUG | LWIP_DBG_LEVEL_SERIOUS, ("ip4_output: not enough room for IP header in
 857:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 858:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       IP_STATS_INC(ip.err);
 859:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       MIB2_STATS_INC(mib2.ipoutdiscards);
 860:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       return ERR_BUF;
 861:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     }
 862:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 863:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     iphdr = (struct ip_hdr *)p->payload;
 581              		.loc 1 863 0
 582 0034 6C68     		ldr	r4, [r5, #4]
 583              	.LVL57:
 864:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     LWIP_ASSERT("check that first pbuf can hold struct ip_hdr",
 584              		.loc 1 864 0
 585 0036 6B89     		ldrh	r3, [r5, #10]
 586 0038 132B     		cmp	r3, #19
 587 003a 34D9     		bls	.L74
 588              	.L67:
 865:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****                (p->len >= sizeof(struct ip_hdr)));
 866:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 867:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     IPH_TTL_SET(iphdr, ttl);
 589              		.loc 1 867 0
 590 003c 84F80880 		strb	r8, [r4, #8]
 868:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     IPH_PROTO_SET(iphdr, proto);
 591              		.loc 1 868 0
 592 0040 9DF82C30 		ldrb	r3, [sp, #44]	@ zero_extendqisi2
 593 0044 6372     		strb	r3, [r4, #9]
 869:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if CHECKSUM_GEN_IP_INLINE
 870:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     chk_sum += PP_NTOHS(proto | (ttl << 8));
 871:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* CHECKSUM_GEN_IP_INLINE */
ARM GAS  /tmp/cc7cqM2K.s 			page 28


 872:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 873:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     /* dest cannot be NULL here */
 874:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     ip4_addr_copy(iphdr->dest, *dest);
 594              		.loc 1 874 0
 595 0046 3368     		ldr	r3, [r6]
 596 0048 2361     		str	r3, [r4, #16]	@ unaligned
 875:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if CHECKSUM_GEN_IP_INLINE
 876:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     chk_sum += ip4_addr_get_u32(&iphdr->dest) & 0xFFFF;
 877:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     chk_sum += ip4_addr_get_u32(&iphdr->dest) >> 16;
 878:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* CHECKSUM_GEN_IP_INLINE */
 879:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 880:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     IPH_VHL_SET(iphdr, 4, ip_hlen / 4);
 597              		.loc 1 880 0
 598 004a 4523     		movs	r3, #69
 599 004c 2370     		strb	r3, [r4]
 881:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     IPH_TOS_SET(iphdr, tos);
 600              		.loc 1 881 0
 601 004e 9DF82830 		ldrb	r3, [sp, #40]	@ zero_extendqisi2
 602 0052 6370     		strb	r3, [r4, #1]
 882:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if CHECKSUM_GEN_IP_INLINE
 883:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     chk_sum += PP_NTOHS(tos | (iphdr->_v_hl << 8));
 884:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* CHECKSUM_GEN_IP_INLINE */
 885:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     IPH_LEN_SET(iphdr, lwip_htons(p->tot_len));
 603              		.loc 1 885 0
 604 0054 2889     		ldrh	r0, [r5, #8]
 605 0056 FFF7FEFF 		bl	lwip_htons
 606              	.LVL58:
 607 005a 6080     		strh	r0, [r4, #2]	@ unaligned
 886:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if CHECKSUM_GEN_IP_INLINE
 887:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     chk_sum += iphdr->_len;
 888:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* CHECKSUM_GEN_IP_INLINE */
 889:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     IPH_OFFSET_SET(iphdr, 0);
 608              		.loc 1 889 0
 609 005c 0023     		movs	r3, #0
 610 005e A371     		strb	r3, [r4, #6]
 611 0060 E371     		strb	r3, [r4, #7]
 890:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     IPH_ID_SET(iphdr, lwip_htons(ip_id));
 612              		.loc 1 890 0
 613 0062 DFF88C80 		ldr	r8, .L77+20
 614 0066 B8F80000 		ldrh	r0, [r8]
 615 006a FFF7FEFF 		bl	lwip_htons
 616              	.LVL59:
 617 006e A080     		strh	r0, [r4, #4]	@ unaligned
 891:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if CHECKSUM_GEN_IP_INLINE
 892:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     chk_sum += iphdr->_id;
 893:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* CHECKSUM_GEN_IP_INLINE */
 894:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     ++ip_id;
 618              		.loc 1 894 0
 619 0070 B8F80030 		ldrh	r3, [r8]
 620 0074 0133     		adds	r3, r3, #1
 621 0076 A8F80030 		strh	r3, [r8]	@ movhi
 895:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 896:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     if (src == NULL) {
 622              		.loc 1 896 0
 623 007a B9F1000F 		cmp	r9, #0
 624 007e 1AD0     		beq	.L75
 897:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       ip4_addr_copy(iphdr->src, *IP4_ADDR_ANY4);
ARM GAS  /tmp/cc7cqM2K.s 			page 29


 898:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     } else {
 899:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       /* src cannot be NULL here */
 900:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       ip4_addr_copy(iphdr->src, *src);
 625              		.loc 1 900 0
 626 0080 D9F80030 		ldr	r3, [r9]
 627 0084 E360     		str	r3, [r4, #12]	@ unaligned
 628              	.L69:
 901:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     }
 902:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 903:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if CHECKSUM_GEN_IP_INLINE
 904:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     chk_sum += ip4_addr_get_u32(&iphdr->src) & 0xFFFF;
 905:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     chk_sum += ip4_addr_get_u32(&iphdr->src) >> 16;
 906:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     chk_sum = (chk_sum >> 16) + (chk_sum & 0xFFFF);
 907:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     chk_sum = (chk_sum >> 16) + chk_sum;
 908:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     chk_sum = ~chk_sum;
 909:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     IF__NETIF_CHECKSUM_ENABLED(netif, NETIF_CHECKSUM_GEN_IP) {
 910:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       iphdr->_chksum = (u16_t)chk_sum; /* network order */
 911:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     }
 912:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if LWIP_CHECKSUM_CTRL_PER_NETIF
 913:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     else {
 914:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       IPH_CHKSUM_SET(iphdr, 0);
 915:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     }
 916:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* LWIP_CHECKSUM_CTRL_PER_NETIF*/
 917:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #else /* CHECKSUM_GEN_IP_INLINE */
 918:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     IPH_CHKSUM_SET(iphdr, 0);
 629              		.loc 1 918 0
 630 0086 0023     		movs	r3, #0
 631 0088 A372     		strb	r3, [r4, #10]
 632 008a E372     		strb	r3, [r4, #11]
 633              	.LVL60:
 634              	.L70:
 635              	.LBE4:
 919:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if CHECKSUM_GEN_IP
 920:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     IF__NETIF_CHECKSUM_ENABLED(netif, NETIF_CHECKSUM_GEN_IP) {
 921:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       IPH_CHKSUM_SET(iphdr, inet_chksum(iphdr, ip_hlen));
 922:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     }
 923:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* CHECKSUM_GEN_IP */
 924:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* CHECKSUM_GEN_IP_INLINE */
 925:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   } else {
 926:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     /* IP header already included in p */
 927:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     iphdr = (struct ip_hdr *)p->payload;
 928:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     ip4_addr_copy(dest_addr, iphdr->dest);
 929:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     dest = &dest_addr;
 930:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 931:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 932:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   IP_STATS_INC(ip.xmit);
 933:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 934:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   LWIP_DEBUGF(IP_DEBUG, ("ip4_output_if: %c%c%"U16_F"\n", netif->name[0], netif->name[1], (u16_t)ne
 935:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   ip4_debug_print(p);
 936:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 937:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if ENABLE_LOOPBACK
 938:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   if (ip4_addr_cmp(dest, netif_ip4_addr(netif))
 939:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if !LWIP_HAVE_LOOPIF
 940:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       || ip4_addr_isloopback(dest)
 941:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* !LWIP_HAVE_LOOPIF */
 942:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       ) {
 943:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     /* Packet to self, enqueue it for loopback */
ARM GAS  /tmp/cc7cqM2K.s 			page 30


 944:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     LWIP_DEBUGF(IP_DEBUG, ("netif_loop_output()"));
 945:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     return netif_loop_output(netif, p);
 946:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 947:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if LWIP_MULTICAST_TX_OPTIONS
 948:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   if ((p->flags & PBUF_FLAG_MCASTLOOP) != 0) {
 949:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     netif_loop_output(netif, p);
 950:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 951:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* LWIP_MULTICAST_TX_OPTIONS */
 952:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* ENABLE_LOOPBACK */
 953:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if IP_FRAG
 954:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   /* don't fragment if interface has mtu set to 0 [loopif] */
 955:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   if (netif->mtu && (p->tot_len > netif->mtu)) {
 636              		.loc 1 955 0
 637 008c 7B8C     		ldrh	r3, [r7, #34]
 638 008e 13B1     		cbz	r3, .L71
 639              		.loc 1 955 0 is_stmt 0 discriminator 1
 640 0090 2A89     		ldrh	r2, [r5, #8]
 641 0092 9342     		cmp	r3, r2
 642 0094 19D3     		bcc	.L76
 643              	.L71:
 956:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     return ip4_frag(p, netif, dest);
 957:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 958:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* IP_FRAG */
 959:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 960:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   LWIP_DEBUGF(IP_DEBUG, ("ip4_output_if: call netif->output()\n"));
 961:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   return netif->output(netif, p, dest);
 644              		.loc 1 961 0 is_stmt 1
 645 0096 7B69     		ldr	r3, [r7, #20]
 646 0098 3246     		mov	r2, r6
 647 009a 2946     		mov	r1, r5
 648 009c 3846     		mov	r0, r7
 649 009e 9847     		blx	r3
 650              	.LVL61:
 651              	.L66:
 962:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** }
 652              		.loc 1 962 0
 653 00a0 03B0     		add	sp, sp, #12
 654              	.LCFI9:
 655              		.cfi_remember_state
 656              		.cfi_def_cfa_offset 28
 657              		@ sp needed
 658 00a2 BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 659              	.LVL62:
 660              	.L74:
 661              	.LCFI10:
 662              		.cfi_restore_state
 663              	.LBB5:
 864:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****                (p->len >= sizeof(struct ip_hdr)));
 664              		.loc 1 864 0 discriminator 1
 665 00a6 0D4B     		ldr	r3, .L77
 666 00a8 40F26132 		movw	r2, #865
 667 00ac 0E49     		ldr	r1, .L77+12
 668 00ae 0D48     		ldr	r0, .L77+8
 669 00b0 FFF7FEFF 		bl	printf
 670              	.LVL63:
 671 00b4 C2E7     		b	.L67
 672              	.L75:
ARM GAS  /tmp/cc7cqM2K.s 			page 31


 897:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     } else {
 673              		.loc 1 897 0
 674 00b6 0D4B     		ldr	r3, .L77+16
 675 00b8 1B68     		ldr	r3, [r3]
 676 00ba E360     		str	r3, [r4, #12]	@ unaligned
 677 00bc E3E7     		b	.L69
 678              	.LVL64:
 679              	.L65:
 680              	.LBE5:
 927:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     ip4_addr_copy(dest_addr, iphdr->dest);
 681              		.loc 1 927 0
 682 00be 6B68     		ldr	r3, [r5, #4]
 683              	.LVL65:
 928:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     dest = &dest_addr;
 684              		.loc 1 928 0
 685 00c0 1B69     		ldr	r3, [r3, #16]	@ unaligned
 686              	.LVL66:
 687 00c2 02AE     		add	r6, sp, #8
 688              	.LVL67:
 689 00c4 46F8043D 		str	r3, [r6, #-4]!
 690              	.LVL68:
 691 00c8 E0E7     		b	.L70
 692              	.LVL69:
 693              	.L76:
 956:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 694              		.loc 1 956 0
 695 00ca 3246     		mov	r2, r6
 696 00cc 3946     		mov	r1, r7
 697 00ce 2846     		mov	r0, r5
 698 00d0 FFF7FEFF 		bl	ip4_frag
 699              	.LVL70:
 700 00d4 E4E7     		b	.L66
 701              	.LVL71:
 702              	.L72:
 703              	.LBB6:
 860:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     }
 704              		.loc 1 860 0
 705 00d6 6FF00100 		mvn	r0, #1
 706 00da E1E7     		b	.L66
 707              	.L78:
 708              		.align	2
 709              	.L77:
 710 00dc 00000000 		.word	.LC0
 711 00e0 34000000 		.word	.LC1
 712 00e4 40000000 		.word	.LC2
 713 00e8 68000000 		.word	.LC3
 714 00ec 00000000 		.word	ip_addr_any
 715 00f0 00000000 		.word	.LANCHOR0
 716              	.LBE6:
 717              		.cfi_endproc
 718              	.LFE161:
 720              		.section	.text.ip4_output_if,"ax",%progbits
 721              		.align	1
 722              		.global	ip4_output_if
 723              		.syntax unified
 724              		.thumb
 725              		.thumb_func
ARM GAS  /tmp/cc7cqM2K.s 			page 32


 726              		.fpu fpv5-d16
 728              	ip4_output_if:
 729              	.LFB160:
 758:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if IP_OPTIONS_SEND
 730              		.loc 1 758 0
 731              		.cfi_startproc
 732              		@ args = 12, pretend = 0, frame = 0
 733              		@ frame_needed = 0, uses_anonymous_args = 0
 734              	.LVL72:
 735 0000 30B5     		push	{r4, r5, lr}
 736              	.LCFI11:
 737              		.cfi_def_cfa_offset 12
 738              		.cfi_offset 4, -12
 739              		.cfi_offset 5, -8
 740              		.cfi_offset 14, -4
 741 0002 85B0     		sub	sp, sp, #20
 742              	.LCFI12:
 743              		.cfi_def_cfa_offset 32
 744 0004 0A9C     		ldr	r4, [sp, #40]
 745              	.LVL73:
 776:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     if (ip4_addr_isany(src)) {
 746              		.loc 1 776 0
 747 0006 1546     		mov	r5, r2
 748 0008 1AB1     		cbz	r2, .L80
 777:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       src_used = netif_ip4_addr(netif);
 749              		.loc 1 777 0
 750 000a 09B1     		cbz	r1, .L81
 777:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       src_used = netif_ip4_addr(netif);
 751              		.loc 1 777 0 is_stmt 0 discriminator 1
 752 000c 0A68     		ldr	r2, [r1]
 753              	.LVL74:
 754 000e 02B9     		cbnz	r2, .L80
 755              	.L81:
 778:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     }
 756              		.loc 1 778 0 is_stmt 1
 757 0010 211D     		adds	r1, r4, #4
 758              	.LVL75:
 759              	.L80:
 786:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* IP_OPTIONS_SEND */
 760              		.loc 1 786 0
 761 0012 0294     		str	r4, [sp, #8]
 762 0014 9DF82420 		ldrb	r2, [sp, #36]	@ zero_extendqisi2
 763 0018 0192     		str	r2, [sp, #4]
 764 001a 9DF82020 		ldrb	r2, [sp, #32]	@ zero_extendqisi2
 765 001e 0092     		str	r2, [sp]
 766 0020 2A46     		mov	r2, r5
 767 0022 FFF7FEFF 		bl	ip4_output_if_src
 768              	.LVL76:
 788:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 769              		.loc 1 788 0
 770 0026 05B0     		add	sp, sp, #20
 771              	.LCFI13:
 772              		.cfi_def_cfa_offset 12
 773              		@ sp needed
 774 0028 30BD     		pop	{r4, r5, pc}
 775              		.cfi_endproc
 776              	.LFE160:
ARM GAS  /tmp/cc7cqM2K.s 			page 33


 778              		.section	.text.ip4_output,"ax",%progbits
 779              		.align	1
 780              		.global	ip4_output
 781              		.syntax unified
 782              		.thumb
 783              		.thumb_func
 784              		.fpu fpv5-d16
 786              	ip4_output:
 787              	.LFB162:
 963:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 964:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** /**
 965:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * Simple interface to ip_output_if. It finds the outgoing network
 966:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * interface and calls upon ip_output_if to do the actual work.
 967:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  *
 968:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * @param p the packet to send (p->payload points to the data, e.g. next
 969:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****             protocol header; if dest == LWIP_IP_HDRINCL, p already includes an
 970:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****             IP header and p->payload points to that IP header)
 971:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * @param src the source IP address to send from (if src == IP4_ADDR_ANY, the
 972:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  *         IP  address of the netif used to send is used as source address)
 973:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * @param dest the destination IP address to send the packet to
 974:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * @param ttl the TTL value to be set in the IP header
 975:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * @param tos the TOS value to be set in the IP header
 976:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * @param proto the PROTOCOL to be set in the IP header
 977:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  *
 978:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * @return ERR_RTE if no route is found
 979:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  *         see ip_output_if() for more return values
 980:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  */
 981:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** err_t
 982:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** ip4_output(struct pbuf *p, const ip4_addr_t *src, const ip4_addr_t *dest,
 983:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****           u8_t ttl, u8_t tos, u8_t proto)
 984:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** {
 788              		.loc 1 984 0
 789              		.cfi_startproc
 790              		@ args = 8, pretend = 0, frame = 0
 791              		@ frame_needed = 0, uses_anonymous_args = 0
 792              	.LVL77:
 793 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 794              	.LCFI14:
 795              		.cfi_def_cfa_offset 20
 796              		.cfi_offset 4, -20
 797              		.cfi_offset 5, -16
 798              		.cfi_offset 6, -12
 799              		.cfi_offset 7, -8
 800              		.cfi_offset 14, -4
 801 0002 85B0     		sub	sp, sp, #20
 802              	.LCFI15:
 803              		.cfi_def_cfa_offset 40
 804 0004 0446     		mov	r4, r0
 805 0006 0E46     		mov	r6, r1
 806 0008 1546     		mov	r5, r2
 807 000a 1F46     		mov	r7, r3
 985:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   struct netif *netif;
 986:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 987:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   LWIP_IP_CHECK_PBUF_REF_COUNT_FOR_TX(p);
 808              		.loc 1 987 0
 809 000c C389     		ldrh	r3, [r0, #14]
 810              	.LVL78:
ARM GAS  /tmp/cc7cqM2K.s 			page 34


 811 000e 012B     		cmp	r3, #1
 812 0010 06D0     		beq	.L84
 813              		.loc 1 987 0 is_stmt 0 discriminator 1
 814 0012 0E4B     		ldr	r3, .L88
 815 0014 40F2DB32 		movw	r2, #987
 816              	.LVL79:
 817 0018 0D49     		ldr	r1, .L88+4
 818              	.LVL80:
 819 001a 0E48     		ldr	r0, .L88+8
 820              	.LVL81:
 821 001c FFF7FEFF 		bl	printf
 822              	.LVL82:
 823              	.L84:
 988:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 989:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   if ((netif = ip4_route_src(dest, src)) == NULL) {
 824              		.loc 1 989 0 is_stmt 1
 825 0020 2846     		mov	r0, r5
 826 0022 FFF7FEFF 		bl	ip4_route
 827              	.LVL83:
 828 0026 70B1     		cbz	r0, .L86
 990:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     LWIP_DEBUGF(IP_DEBUG, ("ip4_output: No route to %"U16_F".%"U16_F".%"U16_F".%"U16_F"\n",
 991:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       ip4_addr1_16(dest), ip4_addr2_16(dest), ip4_addr3_16(dest), ip4_addr4_16(dest)));
 992:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     IP_STATS_INC(ip.rterr);
 993:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     return ERR_RTE;
 994:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 995:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 996:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   return ip4_output_if(p, src, dest, ttl, tos, proto, netif);
 829              		.loc 1 996 0
 830 0028 0290     		str	r0, [sp, #8]
 831 002a 9DF82C30 		ldrb	r3, [sp, #44]	@ zero_extendqisi2
 832 002e 0193     		str	r3, [sp, #4]
 833 0030 9DF82830 		ldrb	r3, [sp, #40]	@ zero_extendqisi2
 834 0034 0093     		str	r3, [sp]
 835 0036 3B46     		mov	r3, r7
 836 0038 2A46     		mov	r2, r5
 837 003a 3146     		mov	r1, r6
 838 003c 2046     		mov	r0, r4
 839              	.LVL84:
 840 003e FFF7FEFF 		bl	ip4_output_if
 841              	.LVL85:
 842              	.L85:
 997:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** }
 843              		.loc 1 997 0
 844 0042 05B0     		add	sp, sp, #20
 845              	.LCFI16:
 846              		.cfi_remember_state
 847              		.cfi_def_cfa_offset 20
 848              		@ sp needed
 849 0044 F0BD     		pop	{r4, r5, r6, r7, pc}
 850              	.LVL86:
 851              	.L86:
 852              	.LCFI17:
 853              		.cfi_restore_state
 993:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 854              		.loc 1 993 0
 855 0046 6FF00300 		mvn	r0, #3
 856              	.LVL87:
ARM GAS  /tmp/cc7cqM2K.s 			page 35


 857 004a FAE7     		b	.L85
 858              	.L89:
 859              		.align	2
 860              	.L88:
 861 004c 00000000 		.word	.LC0
 862 0050 34000000 		.word	.LC1
 863 0054 40000000 		.word	.LC2
 864              		.cfi_endproc
 865              	.LFE162:
 867              		.section	.bss.ip_id,"aw",%nobits
 868              		.align	1
 869              		.set	.LANCHOR0,. + 0
 872              	ip_id:
 873 0000 0000     		.space	2
 874              		.section	.rodata.ip4_output_if_src.str1.4,"aMS",%progbits,1
 875              		.align	2
 876              	.LC0:
 877 0000 4D696464 		.ascii	"Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c\000"
 877      6C657761 
 877      7265732F 
 877      54686972 
 877      645F5061 
 878 0031 000000   		.space	3
 879              	.LC1:
 880 0034 702D3E72 		.ascii	"p->ref == 1\000"
 880      6566203D 
 880      3D203100 
 881              	.LC2:
 882 0040 41737365 		.ascii	"Assertion \"%s\" failed at line %d in %s\012\000"
 882      7274696F 
 882      6E202225 
 882      73222066 
 882      61696C65 
 883              	.LC3:
 884 0068 63686563 		.ascii	"check that first pbuf can hold struct ip_hdr\000"
 884      6B207468 
 884      61742066 
 884      69727374 
 884      20706275 
 885              		.text
 886              	.Letext0:
 887              		.file 2 "/usr/include/newlib/machine/_default_types.h"
 888              		.file 3 "/usr/include/newlib/sys/_stdint.h"
 889              		.file 4 "Drivers/CMSIS/Include/core_cm7.h"
 890              		.file 5 "Drivers/CMSIS/Device/ST/STM32H7xx/Include/system_stm32h7xx.h"
 891              		.file 6 "/usr/include/newlib/sys/lock.h"
 892              		.file 7 "/usr/include/newlib/sys/_types.h"
 893              		.file 8 "/usr/lib/gcc/arm-none-eabi/6.3.1/include/stddef.h"
 894              		.file 9 "/usr/include/newlib/sys/reent.h"
 895              		.file 10 "/usr/include/newlib/math.h"
 896              		.file 11 "Drivers/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal_def.h"
 897              		.file 12 "Drivers/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal_flash.h"
 898              		.file 13 "Drivers/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal.h"
 899              		.file 14 "/usr/include/newlib/stdlib.h"
 900              		.file 15 "/usr/include/newlib/time.h"
 901              		.file 16 "Middlewares/Third_Party/LwIP/src/include/lwip/arch.h"
 902              		.file 17 "Middlewares/Third_Party/LwIP/src/include/lwip/err.h"
ARM GAS  /tmp/cc7cqM2K.s 			page 36


 903              		.file 18 "Middlewares/Third_Party/LwIP/src/include/lwip/pbuf.h"
 904              		.file 19 "Middlewares/Third_Party/LwIP/src/include/lwip/ip4_addr.h"
 905              		.file 20 "Middlewares/Third_Party/LwIP/src/include/lwip/ip_addr.h"
 906              		.file 21 "Middlewares/Third_Party/LwIP/src/include/lwip/memp.h"
 907              		.file 22 "Middlewares/Third_Party/LwIP/src/include/lwip/priv/memp_priv.h"
 908              		.file 23 "Middlewares/Third_Party/LwIP/src/include/lwip/netif.h"
 909              		.file 24 "Middlewares/Third_Party/LwIP/src/include/lwip/prot/ip4.h"
 910              		.file 25 "Middlewares/Third_Party/LwIP/src/include/lwip/ip.h"
 911              		.file 26 "Middlewares/Third_Party/LwIP/src/include/lwip/icmp.h"
 912              		.file 27 "Middlewares/Third_Party/LwIP/src/include/lwip/udp.h"
 913              		.file 28 "Middlewares/Third_Party/LwIP/src/include/lwip/tcp.h"
 914              		.file 29 "Middlewares/Third_Party/LwIP/src/include/lwip/priv/tcp_priv.h"
 915              		.file 30 "Middlewares/Third_Party/LwIP/src/include/lwip/prot/tcp.h"
 916              		.file 31 "/usr/include/newlib/stdio.h"
 917              		.file 32 "Middlewares/Third_Party/LwIP/src/include/lwip/def.h"
 918              		.file 33 "Middlewares/Third_Party/LwIP/src/include/lwip/ip4_frag.h"
ARM GAS  /tmp/cc7cqM2K.s 			page 37


DEFINED SYMBOLS
                            *ABS*:0000000000000000 ip4.c
     /tmp/cc7cqM2K.s:17     .text.ip4_route:0000000000000000 $t
     /tmp/cc7cqM2K.s:24     .text.ip4_route:0000000000000000 ip4_route
     /tmp/cc7cqM2K.s:172    .text.ip4_route:0000000000000098 $d
     /tmp/cc7cqM2K.s:178    .text.ip4_input:0000000000000000 $t
     /tmp/cc7cqM2K.s:185    .text.ip4_input:0000000000000000 ip4_input
     /tmp/cc7cqM2K.s:515    .text.ip4_input:00000000000001b0 $d
     /tmp/cc7cqM2K.s:521    .text.ip4_output_if_src:0000000000000000 $t
     /tmp/cc7cqM2K.s:528    .text.ip4_output_if_src:0000000000000000 ip4_output_if_src
     /tmp/cc7cqM2K.s:710    .text.ip4_output_if_src:00000000000000dc $d
     /tmp/cc7cqM2K.s:721    .text.ip4_output_if:0000000000000000 $t
     /tmp/cc7cqM2K.s:728    .text.ip4_output_if:0000000000000000 ip4_output_if
     /tmp/cc7cqM2K.s:779    .text.ip4_output:0000000000000000 $t
     /tmp/cc7cqM2K.s:786    .text.ip4_output:0000000000000000 ip4_output
     /tmp/cc7cqM2K.s:861    .text.ip4_output:000000000000004c $d
     /tmp/cc7cqM2K.s:868    .bss.ip_id:0000000000000000 $d
     /tmp/cc7cqM2K.s:872    .bss.ip_id:0000000000000000 ip_id
     /tmp/cc7cqM2K.s:875    .rodata.ip4_output_if_src.str1.4:0000000000000000 $d
                     .debug_frame:0000000000000010 $d

UNDEFINED SYMBOLS
netif_list
netif_default
pbuf_free
lwip_htons
pbuf_realloc
ip4_addr_isbroadcast_u32
ip4_reass
pbuf_header
pbuf_header_force
icmp_dest_unreach
udp_input
tcp_input
icmp_input
ip_data
printf
ip4_frag
ip_addr_any
